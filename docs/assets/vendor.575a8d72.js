function t(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function n(t){return!!t||""===t}function r(t){if(I(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=A(i)?s(i):r(i);if(o)for(const t in o)e[t]=o[t]}return e}return A(t)||k(t)?t:void 0}const i=/;(?![^(]*\))/g,o=/:(.+)/;function s(t){const e={};return t.split(i).forEach((t=>{if(t){const n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function a(t){let e="";if(A(t))e=t;else if(I(t))for(let n=0;n<t.length;n++){const r=a(t[n]);r&&(e+=r+" ")}else if(k(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const u=t=>null==t?"":I(t)||k(t)&&(t.toString===D||!S(t.toString))?JSON.stringify(t,c,2):String(t),c=(t,e)=>e&&e.__v_isRef?c(t,e.value):E(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:T(e)?{[`Set(${e.size})`]:[...e.values()]}:!k(e)||I(e)||R(e)?e:String(e),l={},h=[],f=()=>{},p=()=>!1,d=/^on[^a-z]/,v=t=>d.test(t),g=t=>t.startsWith("onUpdate:"),m=Object.assign,y=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},b=Object.prototype.hasOwnProperty,w=(t,e)=>b.call(t,e),I=Array.isArray,E=t=>"[object Map]"===O(t),T=t=>"[object Set]"===O(t),S=t=>"function"==typeof t,A=t=>"string"==typeof t,N=t=>"symbol"==typeof t,k=t=>null!==t&&"object"==typeof t,C=t=>k(t)&&S(t.then)&&S(t.catch),D=Object.prototype.toString,O=t=>D.call(t),R=t=>"[object Object]"===O(t),x=t=>A(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,P=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),L=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},M=/-(\w)/g,F=L((t=>t.replace(M,((t,e)=>e?e.toUpperCase():"")))),V=/\B([A-Z])/g,U=L((t=>t.replace(V,"-$1").toLowerCase())),j=L((t=>t.charAt(0).toUpperCase()+t.slice(1))),q=L((t=>t?`on${j(t)}`:"")),B=(t,e)=>!Object.is(t,e),K=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},G=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},H=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let W;const z=[];class Q{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&W&&(this.parent=W,this.index=(W.scopes||(W.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(z.push(this),W=this)}off(){this.active&&(z.pop(),W=z[z.length-1])}stop(t){if(this.active){if(this.effects.forEach((t=>t.stop())),this.cleanups.forEach((t=>t())),this.scopes&&this.scopes.forEach((t=>t.stop(!0))),this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}const $=t=>{const e=new Set(t);return e.w=0,e.n=0,e},X=t=>(t.w&tt)>0,Y=t=>(t.n&tt)>0,J=new WeakMap;let Z=0,tt=1;const et=[];let nt;const rt=Symbol(""),it=Symbol("");class ot{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],function(t,e){(e=e||W)&&e.active&&e.effects.push(t)}(this,n)}run(){if(!this.active)return this.fn();if(!et.includes(this))try{return et.push(nt=this),ut.push(at),at=!0,tt=1<<++Z,Z<=30?(({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=tt})(this):st(this),this.fn()}finally{Z<=30&&(t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];X(i)&&!Y(i)?i.delete(t):e[n++]=i,i.w&=~tt,i.n&=~tt}e.length=n}})(this),tt=1<<--Z,lt(),et.pop();const t=et.length;nt=t>0?et[t-1]:void 0}}stop(){this.active&&(st(this),this.onStop&&this.onStop(),this.active=!1)}}function st(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let at=!0;const ut=[];function ct(){ut.push(at),at=!1}function lt(){const t=ut.pop();at=void 0===t||t}function ht(t,e,n){if(!ft())return;let r=J.get(t);r||J.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=$()),pt(i)}function ft(){return at&&void 0!==nt}function pt(t,e){let n=!1;Z<=30?Y(t)||(t.n|=tt,n=!X(t)):n=!t.has(nt),n&&(t.add(nt),nt.deps.push(t))}function dt(t,e,n,r,i,o){const s=J.get(t);if(!s)return;let a=[];if("clear"===e)a=[...s.values()];else if("length"===n&&I(t))s.forEach(((t,e)=>{("length"===e||e>=r)&&a.push(t)}));else switch(void 0!==n&&a.push(s.get(n)),e){case"add":I(t)?x(n)&&a.push(s.get("length")):(a.push(s.get(rt)),E(t)&&a.push(s.get(it)));break;case"delete":I(t)||(a.push(s.get(rt)),E(t)&&a.push(s.get(it)));break;case"set":E(t)&&a.push(s.get(rt))}if(1===a.length)a[0]&&vt(a[0]);else{const t=[];for(const e of a)e&&t.push(...e);vt($(t))}}function vt(t,e){for(const n of I(t)?t:[...t])(n!==nt||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const gt=t("__proto__,__v_isRef,__isVue"),mt=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(N)),yt=Tt(),bt=Tt(!1,!0),wt=Tt(!0),It=Et();function Et(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=ue(this);for(let e=0,i=this.length;e<i;e++)ht(n,0,e+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(ue)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){ct();const n=ue(this)[e].apply(this,t);return lt(),n}})),t}function Tt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?e?te:Zt:e?Jt:Yt).get(n))return n;const o=I(n);if(!t&&o&&w(It,r))return Reflect.get(It,r,i);const s=Reflect.get(n,r,i);if(N(r)?mt.has(r):gt(r))return s;if(t||ht(n,0,r),e)return s;if(pe(s)){return!o||!x(r)?s.value:s}return k(s)?t?re(s):ne(s):s}}function _t(t=!1){return function(e,n,r,i){let o=e[n];if(!t&&(r=ue(r),o=ue(o),!I(e)&&pe(o)&&!pe(r)))return o.value=r,!0;const s=I(e)&&x(n)?Number(n)<e.length:w(e,n),a=Reflect.set(e,n,r,i);return e===ue(i)&&(s?B(r,o)&&dt(e,"set",n,r):dt(e,"add",n,r)),a}}const St={get:yt,set:_t(),deleteProperty:function(t,e){const n=w(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&dt(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return N(e)&&mt.has(e)||ht(t,0,e),n},ownKeys:function(t){return ht(t,0,I(t)?"length":rt),Reflect.ownKeys(t)}},At={get:wt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},Nt=m({},St,{get:bt,set:_t(!0)}),kt=t=>k(t)?ne(t):t,Ct=t=>k(t)?re(t):t,Dt=t=>t,Ot=t=>Reflect.getPrototypeOf(t);function Rt(t,e,n=!1,r=!1){const i=ue(t=t.__v_raw),o=ue(e);e!==o&&!n&&ht(i,0,e),!n&&ht(i,0,o);const{has:s}=Ot(i),a=r?Dt:n?Ct:kt;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void(t!==i&&t.get(e))}function xt(t,e=!1){const n=this.__v_raw,r=ue(n),i=ue(t);return t!==i&&!e&&ht(r,0,t),!e&&ht(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function Pt(t,e=!1){return t=t.__v_raw,!e&&ht(ue(t),0,rt),Reflect.get(t,"size",t)}function Lt(t){t=ue(t);const e=ue(this);return Ot(e).has.call(e,t)||(e.add(t),dt(e,"add",t,t)),this}function Mt(t,e){e=ue(e);const n=ue(this),{has:r,get:i}=Ot(n);let o=r.call(n,t);o||(t=ue(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?B(e,s)&&dt(n,"set",t,e):dt(n,"add",t,e),this}function Ft(t){const e=ue(this),{has:n,get:r}=Ot(e);let i=n.call(e,t);i||(t=ue(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&dt(e,"delete",t,void 0),o}function Vt(){const t=ue(this),e=0!==t.size,n=t.clear();return e&&dt(t,"clear",void 0,void 0),n}function Ut(t,e){return function(n,r){const i=this,o=i.__v_raw,s=ue(o),a=e?Dt:t?Ct:kt;return!t&&ht(s,0,rt),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function jt(t,e,n){return function(...r){const i=this.__v_raw,o=ue(i),s=E(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),l=n?Dt:e?Ct:kt;return!e&&ht(o,0,u?it:rt),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function qt(t){return function(...e){return"delete"!==t&&this}}function Bt(){const t={get(t){return Rt(this,t)},get size(){return Pt(this)},has:xt,add:Lt,set:Mt,delete:Ft,clear:Vt,forEach:Ut(!1,!1)},e={get(t){return Rt(this,t,!1,!0)},get size(){return Pt(this)},has:xt,add:Lt,set:Mt,delete:Ft,clear:Vt,forEach:Ut(!1,!0)},n={get(t){return Rt(this,t,!0)},get size(){return Pt(this,!0)},has(t){return xt.call(this,t,!0)},add:qt("add"),set:qt("set"),delete:qt("delete"),clear:qt("clear"),forEach:Ut(!0,!1)},r={get(t){return Rt(this,t,!0,!0)},get size(){return Pt(this,!0)},has(t){return xt.call(this,t,!0)},add:qt("add"),set:qt("set"),delete:qt("delete"),clear:qt("clear"),forEach:Ut(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{t[i]=jt(i,!1,!1),n[i]=jt(i,!0,!1),e[i]=jt(i,!1,!0),r[i]=jt(i,!0,!0)})),[t,n,e,r]}const[Kt,Gt,Ht,Wt]=Bt();function zt(t,e){const n=e?t?Wt:Ht:t?Gt:Kt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(w(n,r)&&r in e?n:e,r,i)}const Qt={get:zt(!1,!1)},$t={get:zt(!1,!0)},Xt={get:zt(!0,!1)},Yt=new WeakMap,Jt=new WeakMap,Zt=new WeakMap,te=new WeakMap;function ee(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>O(t).slice(8,-1))(t))}function ne(t){return t&&t.__v_isReadonly?t:ie(t,!1,St,Qt,Yt)}function re(t){return ie(t,!0,At,Xt,Zt)}function ie(t,e,n,r,i){if(!k(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=ee(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function oe(t){return se(t)?oe(t.__v_raw):!(!t||!t.__v_isReactive)}function se(t){return!(!t||!t.__v_isReadonly)}function ae(t){return oe(t)||se(t)}function ue(t){const e=t&&t.__v_raw;return e?ue(e):t}function ce(t){return G(t,"__v_skip",!0),t}function le(t){ft()&&((t=ue(t)).dep||(t.dep=$()),pt(t.dep))}function he(t,e){(t=ue(t)).dep&&vt(t.dep)}const fe=t=>k(t)?ne(t):t;function pe(t){return Boolean(t&&!0===t.__v_isRef)}class de{constructor(t,e){this._shallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:ue(t),this._value=e?t:fe(t)}get value(){return le(this),this._value}set value(t){t=this._shallow?t:ue(t),B(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:fe(t),he(this))}}function ve(t,e){return pe(t)?t:new de(t,e)}function ge(t){return pe(t)?t.value:t}const me={get:(t,e,n)=>ge(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return pe(i)&&!pe(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ye(t){return oe(t)?t:new Proxy(t,me)}class be{constructor(t,e,n){this._setter=e,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new ot(t,(()=>{this._dirty||(this._dirty=!0,he(this))})),this.__v_isReadonly=n}get value(){const t=ue(this);return le(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function we(t,e){let n,r;S(t)?(n=t,r=f):(n=t.get,r=t.set);return new be(n,r,S(t)||!t.set)}Promise.resolve();function Ie(t,e,...n){const r=t.vnode.props||l;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=r[t]||l;o?i=n.map((t=>t.trim())):e&&(i=n.map(H))}let a,u=r[a=q(e)]||r[a=q(F(e))];!u&&o&&(u=r[a=q(U(e))]),u&&Pr(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else t.emitted={};t.emitted[a]=!0,Pr(c,t,6,i)}}function Ee(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(void 0!==i)return i;const o=t.emits;let s={},a=!1;if(!S(t)){const r=t=>{const n=Ee(t,e,!0);n&&(a=!0,m(s,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return o||a?(I(o)?o.forEach((t=>s[t]=null)):m(s,o),r.set(t,s),s):(r.set(t,null),null)}function Te(t,e){return!(!t||!v(e))&&(e=e.slice(2).replace(/Once$/,""),w(t,e[0].toLowerCase()+e.slice(1))||w(t,U(e))||w(t,e))}let _e=null,Se=null;function Ae(t){const e=_e;return _e=t,Se=t&&t.type.__scopeId||null,e}function Ne(t){Se=t}function ke(){Se=null}function Ce(t,e=_e,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&er(-1);const i=Ae(e),o=t(...n);return Ae(i),r._d&&er(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function De(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:p,ctx:d,inheritAttrs:v}=t;let m;const y=Ae(t);try{let t;if(4&n.shapeFlag){const e=i||r;m=dr(l.call(e,e,h,o,p,f,d)),t=u}else{const n=e;0,m=dr(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:Oe(u)}let y=m;if(t&&!1!==v){const e=Object.keys(t),{shapeFlag:n}=y;e.length&&7&n&&(s&&e.some(g)&&(t=Re(t,s)),y=hr(y,t))}0,n.dirs&&(y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),m=y}catch(b){Yn.length=0,Lr(b,t,1),m=lr($n)}return Ae(y),m}const Oe=t=>{let e;for(const n in t)("class"===n||"style"===n||v(n))&&((e||(e={}))[n]=t[n]);return e},Re=(t,e)=>{const n={};for(const r in t)g(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function xe(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Te(n,o))return!0}return!1}function Pe(t,e){if(Tr){let n=Tr.provides;const r=Tr.parent&&Tr.parent.provides;r===n&&(n=Tr.provides=Object.create(r)),n[t]=e}else;}function Le(t,e,n=!1){const r=Tr||_e;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&S(e)?e.call(r.proxy):e}}const Me=[Function,Array],Fe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Me,onEnter:Me,onAfterEnter:Me,onEnterCancelled:Me,onBeforeLeave:Me,onLeave:Me,onAfterLeave:Me,onLeaveCancelled:Me,onBeforeAppear:Me,onAppear:Me,onAfterAppear:Me,onAppearCancelled:Me},setup(t,{slots:e}){const n=_r(),r=function(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tn((()=>{t.isMounted=!0})),rn((()=>{t.isUnmounting=!0})),t}();let i;return()=>{const o=e.default&&Ke(e.default(),!0);if(!o||!o.length)return;const s=ue(t),{mode:a}=s,u=o[0];if(r.isLeaving)return je(u);const c=qe(u);if(!c)return je(u);const l=Ue(c,s,r,n);Be(c,l);const h=n.subTree,f=h&&qe(h);let p=!1;const{getTransitionKey:d}=c.type;if(d){const t=d();void 0===i?i=t:t!==i&&(i=t,p=!0)}if(f&&f.type!==$n&&(!or(c,f)||p)){const t=Ue(f,s,r,n);if(Be(f,t),"out-in"===a)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,n.update()},je(u);"in-out"===a&&c.type!==$n&&(t.delayLeave=(t,e,n)=>{Ve(r,f)[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return u}}};function Ve(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Ue(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:d,onBeforeAppear:v,onAppear:g,onAfterAppear:m,onAppearCancelled:y}=e,b=String(t.key),w=Ve(n,t),I=(t,e)=>{t&&Pr(t,r,9,e)},E={mode:o,persisted:s,beforeEnter(e){let r=a;if(!n.isMounted){if(!i)return;r=v||a}e._leaveCb&&e._leaveCb(!0);const o=w[b];o&&or(t,o)&&o.el._leaveCb&&o.el._leaveCb(),I(r,[e])},enter(t){let e=u,r=c,o=l;if(!n.isMounted){if(!i)return;e=g||u,r=m||c,o=y||l}let s=!1;const a=t._enterCb=e=>{s||(s=!0,I(e?o:r,[t]),E.delayedLeave&&E.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,r){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return r();I(h,[e]);let o=!1;const s=e._leaveCb=n=>{o||(o=!0,r(),I(n?d:p,[e]),e._leaveCb=void 0,w[i]===t&&delete w[i])};w[i]=t,f?(f(e,s),f.length<=1&&s()):s()},clone:t=>Ue(t,e,n,r)};return E}function je(t){if(We(t))return(t=hr(t)).children=null,t}function qe(t){return We(t)?t.children?t.children[0]:void 0:t}function Be(t,e){6&t.shapeFlag&&t.component?Be(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ke(t,e=!1){let n=[],r=0;for(let i=0;i<t.length;i++){const o=t[i];o.type===zn?(128&o.patchFlag&&r++,n=n.concat(Ke(o.children,e))):(e||o.type!==$n)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Ge(t){return S(t)?{setup:t,name:t.name}:t}const He=t=>!!t.type.__asyncLoader,We=t=>t.type.__isKeepAlive;function ze(t,e){$e(t,"a",e)}function Qe(t,e){$e(t,"da",e)}function $e(t,e,n=Tr){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(Ye(e,r,n),n){let t=n.parent;for(;t&&t.parent;)We(t.parent.vnode)&&Xe(r,e,n,t),t=t.parent}}function Xe(t,e,n,r){const i=Ye(e,t,r,!0);on((()=>{y(r[e],i)}),n)}function Ye(t,e,n=Tr,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;ct(),Sr(n);const i=Pr(e,n,t,r);return Ar(),lt(),i});return r?i.unshift(o):i.push(o),o}}const Je=t=>(e,n=Tr)=>(!kr||"sp"===t)&&Ye(t,e,n),Ze=Je("bm"),tn=Je("m"),en=Je("bu"),nn=Je("u"),rn=Je("bum"),on=Je("um"),sn=Je("sp"),an=Je("rtg"),un=Je("rtc");function cn(t,e=Tr){Ye("ec",t,e)}let ln=!0;function hn(t){const e=dn(t),n=t.proxy,r=t.ctx;ln=!1,e.beforeCreate&&fn(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:c,created:l,beforeMount:h,mounted:p,beforeUpdate:d,updated:v,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:w,unmounted:E,render:T,renderTracked:_,renderTriggered:A,errorCaptured:N,serverPrefetch:C,expose:D,inheritAttrs:O,components:R,directives:x,filters:P}=e;if(c&&function(t,e,n=f,r=!1){I(t)&&(t=yn(t));for(const i in t){const n=t[i];let o;o=k(n)?"default"in n?Le(n.from||i,n.default,!0):Le(n.from||i):Le(n),pe(o)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[i]=o}}(c,r,null,t.appContext.config.unwrapInjectedRef),s)for(const f in s){const t=s[f];S(t)&&(r[f]=t.bind(n))}if(i){const e=i.call(n,n);k(e)&&(t.data=ne(e))}if(ln=!0,o)for(const I in o){const t=o[I],e=we({get:S(t)?t.bind(n,n):S(t.get)?t.get.bind(n,n):f,set:!S(t)&&S(t.set)?t.set.bind(n):f});Object.defineProperty(r,I,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}if(a)for(const f in a)pn(a[f],r,n,f);if(u){const t=S(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{Pe(e,t[e])}))}function L(t,e){I(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(l&&fn(l,t,"c"),L(Ze,h),L(tn,p),L(en,d),L(nn,v),L(ze,g),L(Qe,m),L(cn,N),L(un,_),L(an,A),L(rn,b),L(on,E),L(sn,C),I(D))if(D.length){const e=t.exposed||(t.exposed={});D.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});T&&t.render===f&&(t.render=T),null!=O&&(t.inheritAttrs=O),R&&(t.components=R),x&&(t.directives=x)}function fn(t,e,n){Pr(I(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function pn(t,e,n,r){const i=r.includes(".")?ai(n,r):()=>n[r];if(A(t)){const n=e[t];S(n)&&ii(i,n)}else if(S(t))ii(i,t.bind(n));else if(k(t))if(I(t))t.forEach((t=>pn(t,e,n,r)));else{const r=S(t.handler)?t.handler.bind(n):e[t.handler];S(r)&&ii(i,r,t)}}function dn(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let u;return a?u=a:i.length||n||r?(u={},i.length&&i.forEach((t=>vn(u,t,s,!0))),vn(u,e,s)):u=e,o.set(e,u),u}function vn(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&vn(t,o,n,!0),i&&i.forEach((e=>vn(t,e,n,!0)));for(const s in e)if(r&&"expose"===s);else{const r=gn[s]||n&&n[s];t[s]=r?r(t[s],e[s]):e[s]}return t}const gn={data:mn,props:wn,emits:wn,methods:wn,computed:wn,beforeCreate:bn,created:bn,beforeMount:bn,mounted:bn,beforeUpdate:bn,updated:bn,beforeDestroy:bn,destroyed:bn,activated:bn,deactivated:bn,errorCaptured:bn,serverPrefetch:bn,components:wn,directives:wn,watch:function(t,e){if(!t)return e;if(!e)return t;const n=m(Object.create(null),t);for(const r in e)n[r]=bn(t[r],e[r]);return n},provide:mn,inject:function(t,e){return wn(yn(t),yn(e))}};function mn(t,e){return e?t?function(){return m(S(t)?t.call(this,this):t,S(e)?e.call(this,this):e)}:e:t}function yn(t){if(I(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function bn(t,e){return t?[...new Set([].concat(t,e))]:e}function wn(t,e){return t?m(m(Object.create(null),t),e):e}function In(t,e,n,r=!1){const i={},o={};G(o,sr,1),t.propsDefaults=Object.create(null),En(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:ie(i,!1,Nt,$t,Jt):t.type.props?t.props=i:t.props=o,t.attrs=o}function En(t,e,n,r){const[i,o]=t.propsOptions;let s,a=!1;if(e)for(let u in e){if(P(u))continue;const c=e[u];let l;i&&w(i,l=F(u))?o&&o.includes(l)?(s||(s={}))[l]=c:n[l]=c:Te(t.emitsOptions,u)||c!==r[u]&&(r[u]=c,a=!0)}if(o){const e=ue(n),r=s||l;for(let s=0;s<o.length;s++){const a=o[s];n[a]=Tn(i,e,a,r[a],t,!w(r,a))}}return a}function Tn(t,e,n,r,i,o){const s=t[n];if(null!=s){const t=w(s,"default");if(t&&void 0===r){const t=s.default;if(s.type!==Function&&S(t)){const{propsDefaults:o}=i;n in o?r=o[n]:(Sr(i),r=o[n]=t.call(null,e),Ar())}else r=t}s[0]&&(o&&!t?r=!1:!s[1]||""!==r&&r!==U(n)||(r=!0))}return r}function _n(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let u=!1;if(!S(t)){const r=t=>{u=!0;const[n,r]=_n(t,e,!0);m(s,n),r&&a.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!o&&!u)return r.set(t,h),h;if(I(o))for(let h=0;h<o.length;h++){const t=F(o[h]);Sn(t)&&(s[t]=l)}else if(o)for(const l in o){const t=F(l);if(Sn(t)){const e=o[l],n=s[t]=I(e)||S(e)?{type:e}:e;if(n){const e=kn(Boolean,n.type),r=kn(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||w(n,"default"))&&a.push(t)}}}const c=[s,a];return r.set(t,c),c}function Sn(t){return"$"!==t[0]}function An(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function Nn(t,e){return An(t)===An(e)}function kn(t,e){return I(e)?e.findIndex((e=>Nn(e,t))):S(e)&&Nn(e,t)?0:-1}const Cn=t=>"_"===t[0]||"$stable"===t,Dn=t=>I(t)?t.map(dr):[dr(t)],On=(t,e,n)=>{const r=Ce(((...t)=>Dn(e(...t))),n);return r._c=!1,r},Rn=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Cn(i))continue;const n=t[i];if(S(n))e[i]=On(0,n,r);else if(null!=n){const t=Dn(n);e[i]=()=>t}}},xn=(t,e)=>{const n=Dn(e);t.slots.default=()=>n};function Pn(t,e){if(null===_e)return t;const n=_e.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[t,o,s,a=l]=e[i];S(t)&&(t={mounted:t,updated:t}),t.deep&&ui(o),r.push({dir:t,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function Ln(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&(ct(),Pr(u,n,8,[t.el,a,t,e]),lt())}}function Mn(){return{app:null,config:{isNativeTag:p,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fn=0;function Vn(t,e){return function(n,r=null){null==r||k(r)||(r=null);const i=Mn(),o=new Set;let s=!1;const a=i.app={_uid:Fn++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:li,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&S(t.install)?(o.add(t),t.install(a,...e)):S(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||i.mixins.push(t),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u,c){if(!s){const l=lr(n,r);return l.appContext=i,u&&e?e(l,o):t(l,o,c),s=!0,a._container=o,o.__vue_app__=a,l.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}const Un=function(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):Jr(t,Gr,Kr,Hr)};function jn(t){return function(t,e){const{insert:n,remove:r,patchProp:i,createElement:o,createText:s,createComment:a,setText:u,setElementText:c,parentNode:p,nextSibling:d,setScopeId:v=f,cloneNode:g,insertStaticContent:y}=t,b=(t,e,n,r=null,i=null,o=null,s=!1,a=null,u=!!e.dynamicChildren)=>{if(t===e)return;t&&!or(t,e)&&(r=et(t),X(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=e;switch(c){case Qn:I(t,e,n,r);break;case $n:E(t,e,n,r);break;case Xn:null==t&&T(e,n,r,s);break;case zn:L(t,e,n,r,i,o,s,a,u);break;default:1&h?A(t,e,n,r,i,o,s,a,u):6&h?M(t,e,n,r,i,o,s,a,u):(64&h||128&h)&&c.process(t,e,n,r,i,o,s,a,u,rt)}null!=l&&i&&qn(l,t&&t.ref,o,e||t,!e)},I=(t,e,r,i)=>{if(null==t)n(e.el=s(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&u(n,e.children)}},E=(t,e,r,i)=>{null==t?n(e.el=a(e.children||""),r,i):e.el=t.el},T=(t,e,n,r)=>{[t.el,t.anchor]=y(t.children,e,n,r)},_=({el:t,anchor:e},r,i)=>{let o;for(;t&&t!==e;)o=d(t),n(t,r,i),t=o;n(e,r,i)},S=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=d(t),r(t),t=n;r(e)},A=(t,e,n,r,i,o,s,a,u)=>{s=s||"svg"===e.type,null==t?N(e,n,r,i,o,s,a,u):O(t,e,i,o,s,a,u)},N=(t,e,r,s,a,u,l,h)=>{let f,p;const{type:d,props:v,shapeFlag:m,transition:y,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==g&&-1===b)f=t.el=g(t.el);else{if(f=t.el=o(t.type,u,v&&v.is,v),8&m?c(f,t.children):16&m&&D(t.children,f,null,s,a,u&&"foreignObject"!==d,l,h),w&&Ln(t,null,s,"created"),v){for(const e in v)"value"===e||P(e)||i(f,e,null,v[e],u,t.children,s,a,tt);"value"in v&&i(f,"value",null,v.value),(p=v.onVnodeBeforeMount)&&Bn(p,s,t)}k(f,t,t.scopeId,l,s)}w&&Ln(t,null,s,"beforeMount");const I=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;I&&y.beforeEnter(f),n(f,e,r),((p=v&&v.onVnodeMounted)||I||w)&&Un((()=>{p&&Bn(p,s,t),I&&y.enter(f),w&&Ln(t,null,s,"mounted")}),a)},k=(t,e,n,r,i)=>{if(n&&v(t,n),r)for(let o=0;o<r.length;o++)v(t,r[o]);if(i){if(e===i.subTree){const e=i.vnode;k(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},D=(t,e,n,r,i,o,s,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=a?vr(t[c]):dr(t[c]);b(null,u,e,n,r,i,o,s,a)}},O=(t,e,n,r,o,s,a)=>{const u=e.el=t.el;let{patchFlag:h,dynamicChildren:f,dirs:p}=e;h|=16&t.patchFlag;const d=t.props||l,v=e.props||l;let g;(g=v.onVnodeBeforeUpdate)&&Bn(g,n,e,t),p&&Ln(e,t,n,"beforeUpdate");const m=o&&"foreignObject"!==e.type;if(f?R(t.dynamicChildren,f,u,n,r,m,s):a||H(t,e,u,null,n,r,m,s,!1),h>0){if(16&h)x(u,e,d,v,n,r,o);else if(2&h&&d.class!==v.class&&i(u,"class",null,v.class,o),4&h&&i(u,"style",d.style,v.style,o),8&h){const s=e.dynamicProps;for(let e=0;e<s.length;e++){const a=s[e],c=d[a],l=v[a];l===c&&"value"!==a||i(u,a,c,l,o,t.children,n,r,tt)}}1&h&&t.children!==e.children&&c(u,e.children)}else a||null!=f||x(u,e,d,v,n,r,o);((g=v.onVnodeUpdated)||p)&&Un((()=>{g&&Bn(g,n,e,t),p&&Ln(e,t,n,"updated")}),r)},R=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],l=u.el&&(u.type===zn||!or(u,c)||70&u.shapeFlag)?p(u.el):n;b(u,c,l,null,r,i,o,s,!0)}},x=(t,e,n,r,o,s,a)=>{if(n!==r){for(const u in r){if(P(u))continue;const c=r[u],l=n[u];c!==l&&"value"!==u&&i(t,u,l,c,a,e.children,o,s,tt)}if(n!==l)for(const u in n)P(u)||u in r||i(t,u,n[u],null,a,e.children,o,s,tt);"value"in r&&i(t,"value",n.value,r.value)}},L=(t,e,r,i,o,a,u,c,l)=>{const h=e.el=t?t.el:s(""),f=e.anchor=t?t.anchor:s("");let{patchFlag:p,dynamicChildren:d,slotScopeIds:v}=e;v&&(c=c?c.concat(v):v),null==t?(n(h,r,i),n(f,r,i),D(e.children,r,f,o,a,u,c,l)):p>0&&64&p&&d&&t.dynamicChildren?(R(t.dynamicChildren,d,r,o,a,u,c),(null!=e.key||o&&e===o.subTree)&&Kn(t,e,!0)):H(t,e,r,f,o,a,u,c,l)},M=(t,e,n,r,i,o,s,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,u):V(e,n,r,i,o,s,u):j(t,e,u)},V=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Ir,o={uid:Er++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,scope:new Q(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_n(r,i),emitsOptions:Ee(r,i),emit:null,emitted:null,propsDefaults:l,inheritAttrs:r.inheritAttrs,ctx:l,data:l,props:l,attrs:l,slots:l,refs:l,setupState:l,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};o.ctx={_:o},o.root=e?e.root:o,o.emit=Ie.bind(null,o),t.ce&&t.ce(o);return o}(t,r,i);if(We(t)&&(a.ctx.renderer=rt),function(t,e=!1){kr=e;const{props:n,children:r}=t.vnode,i=Nr(t);In(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=ue(e),G(e,"_",n)):Rn(e,t.slots={})}else t.slots={},e&&xn(t,e);G(t.slots,sr,1)})(t,r);const o=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ce(new Proxy(t.ctx,wr));const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=function(t){return new Proxy(t.attrs,{get:(e,n)=>(ht(t,0,"$attrs"),e[n])})}(t))},slots:t.slots,emit:t.emit,expose:e}}(t):null;Sr(t),ct();const i=xr(r,t,0,[t.props,n]);if(lt(),Ar(),C(i)){if(i.then(Ar,Ar),e)return i.then((e=>{Cr(t,e)})).catch((e=>{Lr(e,t,0)}));t.asyncDep=i}else Cr(t,i)}else Dr(t)}(t,e):void 0;kr=!1}(a),a.asyncDep){if(i&&i.registerDep(a,q),!t.el){const t=a.subTree=lr($n);E(null,t,e,n)}}else q(a,t,e,n,i,o,s)},j=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||xe(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?xe(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Te(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void B(r,e,n);r.next=e,function(t){const e=Vr.indexOf(t);e>Ur&&Vr.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},q=(t,e,n,r,i,o,s)=>{const a=new ot((()=>{if(t.isMounted){let e,{next:n,bu:r,u:u,parent:c,vnode:l}=t,h=n;a.allowRecurse=!1,n?(n.el=l.el,B(t,n,s)):n=l,r&&K(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Bn(e,c,n,l),a.allowRecurse=!0;const f=De(t),d=t.subTree;t.subTree=f,b(d,f,p(d.el),et(d),t,i,o),n.el=f.el,null===h&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,f.el),u&&Un(u,i),(e=n.props&&n.props.onVnodeUpdated)&&Un((()=>Bn(e,c,n,l)),i)}else{let s;const{el:u,props:c}=e,{bm:l,m:h,parent:f}=t,p=He(e);if(a.allowRecurse=!1,l&&K(l),!p&&(s=c&&c.onVnodeBeforeMount)&&Bn(s,f,e),a.allowRecurse=!0,u&&st){const n=()=>{t.subTree=De(t),st(u,t.subTree,t,i,null)};p?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{const s=t.subTree=De(t);b(null,s,n,r,t,i,o),e.el=s.el}if(h&&Un(h,i),!p&&(s=c&&c.onVnodeMounted)){const t=e;Un((()=>Bn(s,f,t)),i)}256&e.shapeFlag&&t.a&&Un(t.a,i),t.isMounted=!0,e=n=r=null}}),(()=>Xr(t.update)),t.scope),u=t.update=a.run.bind(a);u.id=t.uid,a.allowRecurse=u.allowRecurse=!0,u()},B=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=ue(i),[u]=t.propsOptions;let c=!1;if(!(r||s>0)||16&s){let r;En(t,e,i,o)&&(c=!0);for(const o in a)e&&(w(e,o)||(r=U(o))!==o&&w(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Tn(u,a,o,void 0,t,!0)):delete i[o]);if(o!==a)for(const t in o)e&&w(e,t)||(delete o[t],c=!0)}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];const l=e[s];if(u)if(w(o,s))l!==o[s]&&(o[s]=l,c=!0);else{const e=F(s);i[e]=Tn(u,a,e,l,t,!1)}else l!==o[s]&&(o[s]=l,c=!0)}}c&&dt(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=l;if(32&r.shapeFlag){const t=e._;t?n&&1===t?o=!1:(m(i,e),n||1!==t||delete i._):(o=!e.$stable,Rn(e,i)),s=e}else e&&(xn(t,e),s={default:1});if(o)for(const a in i)Cn(a)||a in s||delete i[a]})(t,e.children,n),ct(),Zr(void 0,t.update),lt()},H=(t,e,n,r,i,o,s,a,u=!1)=>{const l=t&&t.children,h=t?t.shapeFlag:0,f=e.children,{patchFlag:p,shapeFlag:d}=e;if(p>0){if(128&p)return void z(l,f,n,r,i,o,s,a,u);if(256&p)return void W(l,f,n,r,i,o,s,a,u)}8&d?(16&h&&tt(l,i,o),f!==l&&c(n,f)):16&h?16&d?z(l,f,n,r,i,o,s,a,u):tt(l,i,o,!0):(8&h&&c(n,""),16&d&&D(f,n,r,i,o,s,a,u))},W=(t,e,n,r,i,o,s,a,u)=>{e=e||h;const c=(t=t||h).length,l=e.length,f=Math.min(c,l);let p;for(p=0;p<f;p++){const r=e[p]=u?vr(e[p]):dr(e[p]);b(t[p],r,n,null,i,o,s,a,u)}c>l?tt(t,i,o,!0,!1,f):D(e,n,r,i,o,s,a,u,f)},z=(t,e,n,r,i,o,s,a,u)=>{let c=0;const l=e.length;let f=t.length-1,p=l-1;for(;c<=f&&c<=p;){const r=t[c],l=e[c]=u?vr(e[c]):dr(e[c]);if(!or(r,l))break;b(r,l,n,null,i,o,s,a,u),c++}for(;c<=f&&c<=p;){const r=t[f],c=e[p]=u?vr(e[p]):dr(e[p]);if(!or(r,c))break;b(r,c,n,null,i,o,s,a,u),f--,p--}if(c>f){if(c<=p){const t=p+1,h=t<l?e[t].el:r;for(;c<=p;)b(null,e[c]=u?vr(e[c]):dr(e[c]),n,h,i,o,s,a,u),c++}}else if(c>p)for(;c<=f;)X(t[c],i,o,!0),c++;else{const d=c,v=c,g=new Map;for(c=v;c<=p;c++){const t=e[c]=u?vr(e[c]):dr(e[c]);null!=t.key&&g.set(t.key,c)}let m,y=0;const w=p-v+1;let I=!1,E=0;const T=new Array(w);for(c=0;c<w;c++)T[c]=0;for(c=d;c<=f;c++){const r=t[c];if(y>=w){X(r,i,o,!0);continue}let l;if(null!=r.key)l=g.get(r.key);else for(m=v;m<=p;m++)if(0===T[m-v]&&or(r,e[m])){l=m;break}void 0===l?X(r,i,o,!0):(T[l-v]=c+1,l>=E?E=l:I=!0,b(r,e[l],n,null,i,o,s,a,u),y++)}const _=I?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(T):h;for(m=_.length-1,c=w-1;c>=0;c--){const t=v+c,h=e[t],f=t+1<l?e[t+1].el:r;0===T[c]?b(null,h,n,f,i,o,s,a,u):I&&(m<0||c!==_[m]?$(h,n,f,2):m--)}}},$=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void $(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,rt);if(a===zn){n(s,e,r);for(let t=0;t<c.length;t++)$(c[t],e,r,i);return void n(t.anchor,e,r)}if(a===Xn)return void _(t,e,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(s),n(s,e,r),Un((()=>u.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else n(s,e,r)},X=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&qn(a,null,n,t,!0),256&l)return void e.ctx.deactivate(t);const p=1&l&&f,d=!He(t);let v;if(d&&(v=s&&s.onVnodeBeforeUnmount)&&Bn(v,e,t),6&l)Z(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);p&&Ln(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,rt,r):c&&(o!==zn||h>0&&64&h)?tt(c,e,n,!1,!0):(o===zn&&384&h||!i&&16&l)&&tt(u,e,n),r&&Y(t)}(d&&(v=s&&s.onVnodeUnmounted)||p)&&Un((()=>{v&&Bn(v,e,t),p&&Ln(t,null,e,"unmounted")}),n)},Y=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===zn)return void J(n,i);if(e===Xn)return void S(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},J=(t,e)=>{let n;for(;t!==e;)n=d(t),r(t),t=n;r(e)},Z=(t,e,n)=>{const{bum:r,scope:i,update:o,subTree:s,um:a}=t;r&&K(r),i.stop(),o&&(o.active=!1,X(s,t,e,n)),a&&Un(a,e),Un((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},tt=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)X(t[s],e,n,r,i)},et=t=>6&t.shapeFlag?et(t.component.subTree):128&t.shapeFlag?t.suspense.next():d(t.anchor||t.el),nt=(t,e,n)=>{null==t?e._vnode&&X(e._vnode,null,null,!0):b(e._vnode||null,t,e,null,null,null,n),ti(),e._vnode=t},rt={p:b,um:X,m:$,r:Y,mt:V,mc:D,pc:H,pbc:R,n:et,o:t};let it,st;e&&([it,st]=e(rt));return{render:nt,hydrate:it,createApp:Vn(nt,it)}}(t)}function qn(t,e,n,r,i=!1){if(I(t))return void t.forEach(((t,o)=>qn(t,e&&(I(e)?e[o]:e),n,r,i)));if(He(r)&&!i)return;const o=4&r.shapeFlag?Or(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:u}=t,c=e&&e.r,h=a.refs===l?a.refs={}:a.refs,f=a.setupState;if(null!=c&&c!==u&&(A(c)?(h[c]=null,w(f,c)&&(f[c]=null)):pe(c)&&(c.value=null)),A(u)){const t=()=>{h[u]=s,w(f,u)&&(f[u]=s)};s?(t.id=-1,Un(t,n)):t()}else if(pe(u)){const t=()=>{u.value=s};s?(t.id=-1,Un(t,n)):t()}else S(u)&&xr(u,a,12,[s,h])}function Bn(t,e,n,r=null){Pr(t,e,7,[n,r])}function Kn(t,e,n=!1){const r=t.children,i=e.children;if(I(r)&&I(i))for(let o=0;o<r.length;o++){const t=r[o];let e=i[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=i[o]=vr(i[o]),e.el=t.el),n||Kn(t,e))}}function Gn(t,e){return function(t,e,n=!0,r=!1){const i=_e||Tr;if(i){const n=i.type;if("components"===t){const t=Rr(n);if(t&&(t===e||t===F(e)||t===j(F(e))))return n}const o=Wn(i[t]||n[t],e)||Wn(i.appContext[t],e);return!o&&r?n:o}}("components",t,!0,e)||t}const Hn=Symbol();function Wn(t,e){return t&&(t[e]||t[F(e)]||t[j(F(e))])}const zn=Symbol(void 0),Qn=Symbol(void 0),$n=Symbol(void 0),Xn=Symbol(void 0),Yn=[];let Jn=null;function Zn(t=!1){Yn.push(Jn=t?null:[])}let tr=1;function er(t){tr+=t}function nr(t){return t.dynamicChildren=tr>0?Jn||h:null,Yn.pop(),Jn=Yn[Yn.length-1]||null,tr>0&&Jn&&Jn.push(t),t}function rr(t,e,n,r,i,o){return nr(cr(t,e,n,r,i,o,!0))}function ir(t){return!!t&&!0===t.__v_isVNode}function or(t,e){return t.type===e.type&&t.key===e.key}const sr="__vInternal",ar=({key:t})=>null!=t?t:null,ur=({ref:t})=>null!=t?A(t)||pe(t)||S(t)?{i:_e,r:t}:t:null;function cr(t,e=null,n=null,r=0,i=null,o=(t===zn?0:1),s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ar(e),ref:e&&ur(e),scopeId:Se,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(gr(u,n),128&o&&t.normalize(u)):n&&(u.shapeFlag|=A(n)?8:16),tr>0&&!s&&Jn&&(u.patchFlag>0||6&o)&&32!==u.patchFlag&&Jn.push(u),u}const lr=function(t,e=null,n=null,i=0,o=null,s=!1){t&&t!==Hn||(t=$n);if(ir(t)){const r=hr(t,e,!0);return n&&gr(r,n),r}u=t,S(u)&&"__vccOpts"in u&&(t=t.__vccOpts);var u;if(e){e=function(t){return t?ae(t)||sr in t?m({},t):t:null}(e);let{class:t,style:n}=e;t&&!A(t)&&(e.class=a(t)),k(n)&&(ae(n)&&!I(n)&&(n=m({},n)),e.style=r(n))}const c=A(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:k(t)?4:S(t)?2:0;return cr(t,e,n,i,o,c,s,!0)};function hr(t,e,n=!1){const{props:i,ref:o,patchFlag:s,children:u}=t,c=e?function(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=a([e.class,i.class]));else if("style"===t)e.style=r([e.style,i.style]);else if(v(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ar(c),ref:e&&e.ref?n&&o?I(o)?o.concat(ur(e)):[o,ur(e)]:ur(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==zn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hr(t.ssContent),ssFallback:t.ssFallback&&hr(t.ssFallback),el:t.el,anchor:t.anchor}}function fr(t=" ",e=0){return lr(Qn,null,t,e)}function pr(t,e){const n=lr(Xn,null,t);return n.staticCount=e,n}function dr(t){return null==t||"boolean"==typeof t?lr($n):I(t)?lr(zn,null,t.slice()):"object"==typeof t?vr(t):lr(Qn,null,String(t))}function vr(t){return null===t.el||t.memo?t:hr(t)}function gr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(I(e))n=16;else if("object"==typeof e){if(65&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),gr(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||sr in e?3===r&&_e&&(1===_e.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=_e}}else S(e)?(e={default:e,_ctx:_e},n=32):(e=String(e),64&r?(n=16,e=[fr(e)]):n=8);t.children=e,t.shapeFlag|=n}function mr(t,e,n,r){let i;const o=n&&n[r];if(I(t)||A(t)){i=new Array(t.length);for(let n=0,r=t.length;n<r;n++)i[n]=e(t[n],n,void 0,o&&o[n])}else if("number"==typeof t){i=new Array(t);for(let n=0;n<t;n++)i[n]=e(n+1,n,void 0,o&&o[n])}else if(k(t))if(t[Symbol.iterator])i=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);i=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const s=n[r];i[r]=e(t[s],s,r,o&&o[r])}}else i=[];return n&&(n[r]=i),i}const yr=t=>t?Nr(t)?Or(t)||t.proxy:yr(t.parent):null,br=m(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>yr(t.parent),$root:t=>yr(t.root),$emit:t=>t.emit,$options:t=>dn(t),$forceUpdate:t=>()=>Xr(t.update),$nextTick:t=>$r.bind(t.proxy),$watch:t=>si.bind(t)}),wr={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==l&&w(r,e))return s[e]=0,r[e];if(i!==l&&w(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&w(c,e))return s[e]=2,o[e];if(n!==l&&w(n,e))return s[e]=3,n[e];ln&&(s[e]=4)}}const h=br[e];let f,p;return h?("$attrs"===e&&ht(t,0,e),h(t)):(f=a.__cssModules)&&(f=f[e])?f:n!==l&&w(n,e)?(s[e]=3,n[e]):(p=u.config.globalProperties,w(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==l&&w(i,e))i[e]=n;else if(r!==l&&w(r,e))r[e]=n;else if(w(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==l&&w(t,s)||e!==l&&w(e,s)||(a=o[0])&&w(a,s)||w(r,s)||w(br,s)||w(i.config.globalProperties,s)}},Ir=Mn();let Er=0;let Tr=null;const _r=()=>Tr||_e,Sr=t=>{Tr=t,t.scope.on()},Ar=()=>{Tr&&Tr.scope.off(),Tr=null};function Nr(t){return 4&t.vnode.shapeFlag}let kr=!1;function Cr(t,e,n){S(e)?t.render=e:k(e)&&(t.setupState=ye(e)),Dr(t)}function Dr(t,e,n){const r=t.type;t.render||(t.render=r.render||f),Sr(t),ct(),hn(t),lt(),Ar()}function Or(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ye(ce(t.exposed)),{get:(e,n)=>n in e?e[n]:n in br?br[n](t):void 0}))}function Rr(t){return S(t)&&t.displayName||t.name}function xr(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Lr(o,e,n)}return i}function Pr(t,e,n,r){if(S(t)){const i=xr(t,e,n,r);return i&&C(i)&&i.catch((t=>{Lr(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(Pr(t[o],e,n,r));return i}function Lr(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void xr(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let Mr=!1,Fr=!1;const Vr=[];let Ur=0;const jr=[];let qr=null,Br=0;const Kr=[];let Gr=null,Hr=0;const Wr=Promise.resolve();let zr=null,Qr=null;function $r(t){const e=zr||Wr;return t?e.then(this?t.bind(this):t):e}function Xr(t){Vr.length&&Vr.includes(t,Mr&&t.allowRecurse?Ur+1:Ur)||t===Qr||(null==t.id?Vr.push(t):Vr.splice(function(t){let e=Ur+1,n=Vr.length;for(;e<n;){const r=e+n>>>1;ei(Vr[r])<t?e=r+1:n=r}return e}(t.id),0,t),Yr())}function Yr(){Mr||Fr||(Fr=!0,zr=Wr.then(ni))}function Jr(t,e,n,r){I(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),Yr()}function Zr(t,e=null){if(jr.length){for(Qr=e,qr=[...new Set(jr)],jr.length=0,Br=0;Br<qr.length;Br++)qr[Br]();qr=null,Br=0,Qr=null,Zr(t,e)}}function ti(t){if(Kr.length){const t=[...new Set(Kr)];if(Kr.length=0,Gr)return void Gr.push(...t);for(Gr=t,Gr.sort(((t,e)=>ei(t)-ei(e))),Hr=0;Hr<Gr.length;Hr++)Gr[Hr]();Gr=null,Hr=0}}const ei=t=>null==t.id?1/0:t.id;function ni(t){Fr=!1,Mr=!0,Zr(t),Vr.sort(((t,e)=>ei(t)-ei(e)));try{for(Ur=0;Ur<Vr.length;Ur++){const t=Vr[Ur];t&&!1!==t.active&&xr(t,null,14)}}finally{Ur=0,Vr.length=0,ti(),Mr=!1,zr=null,(Vr.length||jr.length||Kr.length)&&ni(t)}}const ri={};function ii(t,e,n){return oi(t,e,n)}function oi(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=l){const a=Tr;let u,c,h=!1,p=!1;if(pe(t)?(u=()=>t.value,h=!!t._shallow):oe(t)?(u=()=>t,r=!0):I(t)?(p=!0,h=t.some(oe),u=()=>t.map((t=>pe(t)?t.value:oe(t)?ui(t):S(t)?xr(t,a,2):void 0))):u=S(t)?e?()=>xr(t,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),Pr(t,a,3,[d])}:f,e&&r){const t=u;u=()=>ui(t())}let d=t=>{c=b.onStop=()=>{xr(t,a,4)}},v=p?[]:ri;const g=()=>{if(b.active)if(e){const t=b.run();(r||h||(p?t.some(((t,e)=>B(t,v[e]))):B(t,v)))&&(c&&c(),Pr(e,a,3,[t,v===ri?void 0:v,d]),v=t)}else b.run()};let m;g.allowRecurse=!!e,m="sync"===i?g:"post"===i?()=>Un(g,a&&a.suspense):()=>{!a||a.isMounted?function(t){Jr(t,qr,jr,Br)}(g):g()};const b=new ot(u,m);return e?n?g():v=b.run():"post"===i?Un(b.run.bind(b),a&&a.suspense):b.run(),()=>{b.stop(),a&&a.scope&&y(a.scope.effects,b)}}function si(t,e,n){const r=this.proxy,i=A(t)?t.includes(".")?ai(r,t):()=>r[t]:t.bind(r,r);let o;S(e)?o=e:(o=e.handler,n=e);const s=Tr;Sr(this);const a=oi(i,o.bind(r),n);return s?Sr(s):Ar(),a}function ai(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function ui(t,e=new Set){if(!k(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),pe(t))ui(t.value,e);else if(I(t))for(let n=0;n<t.length;n++)ui(t[n],e);else if(T(t)||E(t))t.forEach((t=>{ui(t,e)}));else if(R(t))for(const n in t)ui(t[n],e);return t}function ci(t,e,n){const r=arguments.length;return 2===r?k(e)&&!I(e)?ir(e)?lr(t,null,[e]):lr(t,e):lr(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&ir(n)&&(n=[n]),lr(t,e,n))}const li="3.2.6",hi="undefined"!=typeof document?document:null,fi=new Map,pi={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?hi.createElementNS("http://www.w3.org/2000/svg",t):hi.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>hi.createTextNode(t),createComment:t=>hi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=n?n.previousSibling:e.lastChild;let o=fi.get(t);if(!o){const e=hi.createElement("template");if(e.innerHTML=r?`<svg>${t}</svg>`:t,o=e.content,r){const t=o.firstChild;for(;t.firstChild;)o.appendChild(t.firstChild);o.removeChild(t)}fi.set(t,o)}return e.insertBefore(o.cloneNode(!0),n),[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};const di=/\s*!important$/;function vi(t,e,n){if(I(n))n.forEach((n=>vi(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=mi[e];if(n)return n;let r=F(e);if("filter"!==r&&r in t)return mi[e]=r;r=j(r);for(let i=0;i<gi.length;i++){const n=gi[i]+r;if(n in t)return mi[e]=n}return e}(t,e);di.test(n)?t.setProperty(U(r),n.replace(di,""),"important"):t[r]=n}}const gi=["Webkit","Moz","ms"],mi={};const yi="http://www.w3.org/1999/xlink";let bi=Date.now,wi=!1;if("undefined"!=typeof window){bi()>document.createEvent("Event").timeStamp&&(bi=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);wi=!!(t&&Number(t[1])<=53)}let Ii=0;const Ei=Promise.resolve(),Ti=()=>{Ii=0};function _i(t,e,n,r){t.addEventListener(e,n,r)}function Si(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(Ai.test(t)){let n;for(e={};n=t.match(Ai);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[U(t.slice(2)),e]}(e);if(r){_i(t,n,o[e]=function(t,e){const n=t=>{const r=t.timeStamp||bi();(wi||r>=n.attached-1)&&Pr(function(t,e){if(I(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>Ii||(Ei.then(Ti),Ii=bi()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const Ai=/(?:Once|Passive|Capture)$/;const Ni=/^on[a-z]/;const ki="transition",Ci=(t,{slots:e})=>ci(Fe,function(t){const e={};for(const m in t)m in Di||(e[m]=t[m]);if(!1===t.css)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:c=s,appearToClass:l=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,d=function(t){if(null==t)return null;if(k(t))return[xi(t.enter),xi(t.leave)];{const e=xi(t);return[e,e]}}(i),v=d&&d[0],g=d&&d[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:I,onLeaveCancelled:E,onBeforeAppear:T=y,onAppear:_=b,onAppearCancelled:S=w}=e,A=(t,e,n)=>{Li(t,e?l:a),Li(t,e?c:s),n&&n()},N=(t,e)=>{Li(t,p),Li(t,f),e&&e()},C=t=>(e,n)=>{const i=t?_:b,s=()=>A(e,t,n);Oi(i,[e,s]),Mi((()=>{Li(e,t?u:o),Pi(e,t?l:a),Ri(i)||Vi(e,r,v,s)}))};return m(e,{onBeforeEnter(t){Oi(y,[t]),Pi(t,o),Pi(t,s)},onBeforeAppear(t){Oi(T,[t]),Pi(t,u),Pi(t,c)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){const n=()=>N(t,e);Pi(t,h),document.body.offsetHeight,Pi(t,f),Mi((()=>{Li(t,h),Pi(t,p),Ri(I)||Vi(t,r,g,n)})),Oi(I,[t,n])},onEnterCancelled(t){A(t,!1),Oi(w,[t])},onAppearCancelled(t){A(t,!0),Oi(S,[t])},onLeaveCancelled(t){N(t),Oi(E,[t])}})}(t),e);Ci.displayName="Transition";const Di={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ci.props=m({},Fe.props,Di);const Oi=(t,e=[])=>{I(t)?t.forEach((t=>t(...e))):t&&t(...e)},Ri=t=>!!t&&(I(t)?t.some((t=>t.length>1)):t.length>1);function xi(t){return H(t)}function Pi(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function Li(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Mi(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let Fi=0;function Vi(t,e,n,r){const i=t._endId=++Fi,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:u}=function(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r("transitionDelay"),o=r("transitionDuration"),s=Ui(i,o),a=r("animationDelay"),u=r("animationDuration"),c=Ui(a,u);let l=null,h=0,f=0;e===ki?s>0&&(l=ki,h=s,f=o.length):"animation"===e?c>0&&(l="animation",h=c,f=u.length):(h=Math.max(s,c),l=h>0?s>c?ki:"animation":null,f=l?l===ki?o.length:u.length:0);const p=l===ki&&/\b(transform|all)(,|$)/.test(n.transitionProperty);return{type:l,timeout:h,propCount:f,hasTransform:p}}(t,e);if(!s)return r();const c=s+"end";let l=0;const h=()=>{t.removeEventListener(c,f),o()},f=e=>{e.target===t&&++l>=u&&h()};setTimeout((()=>{l<u&&h()}),a+1),t.addEventListener(c,f)}function Ui(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>ji(e)+ji(t[n]))))}function ji(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}const qi=t=>{const e=t.props["onUpdate:modelValue"];return I(e)?t=>K(e,t):e};function Bi(t){t.target.composing=!0}function Ki(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}(e,"input"))}const Gi={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=qi(i);const o=r||i.props&&"number"===i.props.type;_i(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n?r=r.trim():o&&(r=H(r)),t._assign(r)})),n&&_i(t,"change",(()=>{t.value=t.value.trim()})),e||(_i(t,"compositionstart",Bi),_i(t,"compositionend",Ki),_i(t,"change",Ki))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t._assign=qi(o),t.composing)return;if(document.activeElement===t){if(n)return;if(r&&t.value.trim()===e)return;if((i||"number"===t.type)&&H(t.value)===e)return}const s=null==e?"":e;t.value!==s&&(t.value=s)}},Hi=["ctrl","shift","alt","meta"],Wi={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Hi.some((n=>t[`${n}Key`]&&!e.includes(n)))},zi=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=Wi[e[t]];if(r&&r(n,e))return}return t(n,...r)},Qi={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):$i(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),$i(t,!0),r.enter(t)):r.leave(t,(()=>{$i(t,!1)})):$i(t,e))},beforeUnmount(t,{value:e}){$i(t,e)}};function $i(t,e){t.style.display=e?t._vod:"none"}const Xi=m({patchProp:(t,r,i,o,s=!1,a,u,c,l)=>{"class"===r?function(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,o,s):"style"===r?function(t,e,n){const r=t.style;if(n)if(A(n)){if(e!==n){const e=r.display;r.cssText=n,"_vod"in t&&(r.display=e)}}else{for(const t in n)vi(r,t,n[t]);if(e&&!A(e))for(const t in e)null==n[t]&&vi(r,t,"")}else t.removeAttribute("style")}(t,i,o):v(r)?g(r)||Si(t,r,0,o,u):("."===r[0]?(r=r.slice(1),1):"^"===r[0]?(r=r.slice(1),0):function(t,e,n,r){if(r)return"innerHTML"===e||"textContent"===e||!!(e in t&&Ni.test(e)&&S(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(Ni.test(e)&&A(n))return!1;return e in t}(t,r,o,s))?function(t,e,r,i,o,s,a){if("innerHTML"===e||"textContent"===e)return i&&a(i,o,s),void(t[e]=null==r?"":r);if("value"===e&&"PROGRESS"!==t.tagName){t._value=r;const n=null==r?"":r;return t.value!==n&&(t.value=n),void(null==r&&t.removeAttribute(e))}if(""===r||null==r){const i=typeof t[e];if("boolean"===i)return void(t[e]=n(r));if(null==r&&"string"===i)return t[e]="",void t.removeAttribute(e);if("number"===i){try{t[e]=0}catch(u){}return void t.removeAttribute(e)}}try{t[e]=r}catch(hw){}}(t,r,o,a,u,c,l):("true-value"===r?t._trueValue=o:"false-value"===r&&(t._falseValue=o),function(t,r,i,o,s){if(o&&r.startsWith("xlink:"))null==i?t.removeAttributeNS(yi,r.slice(6,r.length)):t.setAttributeNS(yi,r,i);else{const o=e(r);null==i||o&&!n(i)?t.removeAttribute(r):t.setAttribute(r,o?"":i)}}(t,r,o,s))}},pi);let Yi;const Ji=(...t)=>{const e=(Yi||(Yi=jn(Xi))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(A(t)){return document.querySelector(t)}return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(t);if(!r)return;const i=e._component;S(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};var Zi=function(t,e){return(Zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function to(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Zi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var eo=function(){return(eo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function no(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(hw){o(hw)}}function a(t){try{u(r.throw(t))}catch(hw){o(hw)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function ro(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(hw){o=[6,hw],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function io(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oo(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function so(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},uo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ao(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},co=function(t){return function(t){var e=ao(t);return uo.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function lo(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=lo(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ho=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function po(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(hw){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vo=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,go.prototype.create),o}return to(e,t),e}(Error),go=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?mo(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new vo(i,a,r);return u},t}();function mo(t,e){return t.replace(yo,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var yo=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wo(t,e){var n=new Io(t,e);return n.subscribe.bind(n)}var Io=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Eo),void 0===r.error&&(r.error=Eo),void 0===r.complete&&(r.complete=Eo);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(hw){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(hw){"undefined"!=typeof console&&console.error&&console.error(hw)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Eo(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return t&&t._delegate?t._delegate:t}var _o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),So=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new ho;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(hw){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(hw){if(r)return null;throw hw}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(hw){}try{for(var r=io(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=oo(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(hw){}}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return no(this,void 0,void 0,(function(){var t;return ro(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(so(so([],oo(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),oo(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var a=io(this.instancesDeferred.entries()),u=a.next();!u.done;u=a.next()){var c=oo(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(s)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=io(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao,No=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new So(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ko(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co,Do,Oo=[];(Do=Co||(Co={}))[Do.DEBUG=0]="DEBUG",Do[Do.VERBOSE=1]="VERBOSE",Do[Do.INFO=2]="INFO",Do[Do.WARN=3]="WARN",Do[Do.ERROR=4]="ERROR",Do[Do.SILENT=5]="SILENT";var Ro,xo={debug:Co.DEBUG,verbose:Co.VERBOSE,info:Co.INFO,warn:Co.WARN,error:Co.ERROR,silent:Co.SILENT},Po=Co.INFO,Lo=((Ao={})[Co.DEBUG]="log",Ao[Co.VERBOSE]="log",Ao[Co.INFO]="info",Ao[Co.WARN]="warn",Ao[Co.ERROR]="error",Ao),Mo=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Lo[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,ko(["["+i+"]  "+t.name+":"],n))}},Fo=function(){function t(t){this.name=t,this._logLevel=Po,this._logHandler=Mo,this._userLogHandler=null,Oo.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Co))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?xo[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ko([this,Co.DEBUG],t)),this._logHandler.apply(this,ko([this,Co.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ko([this,Co.VERBOSE],t)),this._logHandler.apply(this,ko([this,Co.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ko([this,Co.INFO],t)),this._logHandler.apply(this,ko([this,Co.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ko([this,Co.WARN],t)),this._logHandler.apply(this,ko([this,Co.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ko([this,Co.ERROR],t)),this._logHandler.apply(this,ko([this,Co.ERROR],t))},t}();function Vo(t){Oo.forEach((function(e){e.setLogLevel(t)}))}var Uo,jo=((Ro={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ro["bad-app-name"]="Illegal App name: '{$appName}",Ro["duplicate-app"]="Firebase App named '{$appName}' already exists",Ro["app-deleted"]="Firebase App named '{$appName}' already deleted",Ro["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ro["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ro),qo=new go("app","Firebase",jo),Bo=((Uo={})["@firebase/app"]="fire-core",Uo["@firebase/analytics"]="fire-analytics",Uo["@firebase/app-check"]="fire-app-check",Uo["@firebase/auth"]="fire-auth",Uo["@firebase/database"]="fire-rtdb",Uo["@firebase/functions"]="fire-fn",Uo["@firebase/installations"]="fire-iid",Uo["@firebase/messaging"]="fire-fcm",Uo["@firebase/performance"]="fire-perf",Uo["@firebase/remote-config"]="fire-rc",Uo["@firebase/storage"]="fire-gcs",Uo["@firebase/firestore"]="fire-fst",Uo["fire-js"]="fire-js",Uo["firebase-wrapper"]="fire-js-all",Uo),Ko=new Fo("@firebase/app"),Go=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=lo(void 0,t),this.container=new No(e.name),this._addComponent(new _o("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(hw){Ko.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,hw)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw qo.create("app-deleted",{appName:this.name_})},t}();Go.prototype.name&&Go.prototype.options||Go.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ho(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw qo.create("bad-app-name",{appName:String(s)});if(bo(e,s))throw qo.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Bo[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Ko.warn(u.join(" "))}o(new _o(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:Vo,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw qo.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=xo[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Co[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Oo;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!bo(e,t=t||"[DEFAULT]"))throw qo.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return Ko.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw qo.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&lo(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo=function t(){var e=Ho(Go);return e.INTERNAL=eo(eo({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){lo(e,t)},createSubscribe:wo,ErrorFactory:go,deepExtend:lo}),e}(),zo=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Ko.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qo=self.firebase.SDK_VERSION;Qo&&Qo.indexOf("LITE")>=0&&Ko.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var $o=Wo.initializeApp;Wo.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return po()&&Ko.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),$o.apply(void 0,t)};var Xo,Yo,Jo=Wo;(Xo=Jo).INTERNAL.registerComponent(new _o("platform-logger",(function(t){return new zo(t)}),"PRIVATE")),Xo.registerVersion("@firebase/app","0.6.30",Yo),Xo.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Jo.registerVersion("firebase","8.10.0","app"),Jo.SDK_VERSION="8.10.0",function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Ra(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Ra(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==h(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function _(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function C(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function x(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}S=C("__EID__")?"__EID__":void 0,I(O,Error),O.prototype.name="CustomError",I(R,O),R.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new P((function(){return new U}),(function(t){t.reset()}));function V(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=j(t,e)}function W(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return ot(X,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===wt&&e||"",this.b=bt}function mt(t){return t instanceof gt&&t.constructor===gt&&t.b===bt?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ta=!0,gt.prototype.sa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function It(){if(void 0===yt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){s.console&&s.console.error(n.message)}yt=t}else yt=t}return yt}function Et(t,e){this.a=e===Nt?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function _t(t,e){var n=mt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?mt(t):encodeURIComponent(String(t))})))}Et.prototype.ta=!0,Et.prototype.sa=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function kt(t,e){this.a=e===Lt?t:""}function Ct(t){return t instanceof kt&&t.constructor===kt?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}kt.prototype.ta=!0,kt.prototype.sa=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ot=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xt(t){if(t instanceof kt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Rt.test(t))t=new kt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ot);t=e&&Dt.test(e[1])?new kt(t,Lt):null}return t}function Pt(t){return t instanceof kt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new kt(t,Lt))}var Lt={},Mt=new kt("about:invalid#zClosurez",Lt);function Ft(t,e,n){this.a=n===Vt?t:""}Ft.prototype.ta=!0,Ft.prototype.sa=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Ut(t,e,n,r){return t=t instanceof kt?t:Pt(t),e=e||s,n=n instanceof gt?mt(n):n||"",e.open(Ct(t),n,r,void 0)}function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=l;var Kt,Gt,Ht=ct("Opera"),Wt=ct("Trident")||ct("MSIE"),zt=ct("Edge"),Qt=zt||Wt,$t=ct("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(X.toLowerCase(),"webkit")&&!ct("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Gt=X,$t?/rv:([^\);]+)(\)|;)/.exec(Gt):zt?/Edge\/([\d\.]+)/.exec(Gt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Xt?/WebKit\/(\S+)/.exec(Gt):Ht?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Wt){var te=Yt();if(null!=te&&te>parseFloat(Jt)){Kt=String(te);break t}}Kt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(Kt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Wt){var ie=Yt();ee=ie||(parseInt(Kt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var se=!Wt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}q(s?$(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ge||(le(),ge=!0),me.add(t,e)}var ge=!1,me=new M;function ye(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){de(e)}L(F,t)}ge=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){xe(n,Ie,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(hw){}xe(n,Ee,t)}))}catch(r){xe(this,Ee,r)}}var we=0,Ie=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _e=new P((function(){return new Te}),(function(t){t.reset()}));function Se(t,e,n){var r=_e.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof be)return t;var e=new be(l);return xe(e,Ie,t),e}function Ne(t){return new be((function(e,n){n(t)}))}function ke(t,e,n){Pe(t,e,n,null)||ve(w(e,t))}function Ce(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function De(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?De(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,Ee,e)))}t.c=null}else xe(t,Ee,e)}function Oe(t,e){t.b||t.a!=Ie&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Se(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Oe(t,i),i.a}function xe(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof je||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof be)return Oe(t,Se(e||l,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(hw){Ue.call(null,hw)}L(_e,e)}function Ve(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Re(this,p(t)?t:null,p(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);ve((function(){De(this,e)}),this)}},t.$c=function(t){this.a=we,xe(this,Ie,t)},t.ad=function(t){this.a=we,xe(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=de;function je(t){O.call(this,t)}function qe(){this.ya=this.ya,this.pa=this.pa}I(je,O),je.prototype.name="cancel";var Be={};function Ke(t){if(!t.ya&&(t.ya=!0,t.Da(),0)){var e=function(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(t);delete Be[e]}}qe.prototype.ya=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},He=!Wt||9<=Number(oe),We=Wt&&!re("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},I($e,Qe);var Xe=Ge({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},$e.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Je,this.wa=this.Qa=!1}function tn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?wn(t,e,n,d(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=gn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?In(t,e,n,d(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=yn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Ye])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&hn(t),n.call(r,e)}function vn(t,e){if(t.wa)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new $e(e,this))}function gn(t){return(t=t[on])instanceof en?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function bn(){qe.call(this),this.v=new en(this),this.bc=this,this.hb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function _n(t){var e=null;return new be((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(bn,qe),bn.prototype[Ye]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;dt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Nn.prototype).X=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},t.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof On?(this.i=void 0!==e?e:t.i,Rn(this,t.c),this.l=t.l,this.a=t.a,xn(this,t.g),this.f=t.f,Pn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(Dn))?(this.i=!!e,Rn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),xn(this,n[4]),this.f=Un(n[5]||"",!0),Pn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new zn(null,this.i))}function Rn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function xn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Pn(t,e,n){e instanceof zn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Hn)),t.b=new zn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Fn(t){return t instanceof On?new On(t):new On(t,void 0)}function Vn(t,e,n,r){var i=new On(null,void 0);return t&&Rn(i,t),e&&(i.a=e),n&&xn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?Gn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Wn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.c;n?Rn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)xn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Pn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,Kn=/[#\?:]/g,Gn=/[#\?]/g,Hn=/[#\?@]/g,Wn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Qn(t),e=tr(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Yn(t,e){return Qn(t),e=tr(t,e),Cn(t.a.b,e)}function Jn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),$(n)),t.b+=n.length)}function Zn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new Nn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=zn.prototype).add=function(t,e){Qn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Qn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=Q(e,this.a.get(tr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Yn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Nr();return Wt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Ct(xt(t)||Mt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||s.window;try{t.close()}catch(e){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),_r(Nr())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:xt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof kt?e:Pt(e),s.href=Ct(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ut("",r,n,s),t=Ct(e),s&&(Qt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">',t=new Ft(t=(r=It())?r.createHTML(t):t,null,Vt),r=s.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(x("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ut(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function mr(t){return t=t||Nr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return Jo.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Jo.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Ir(){var t=wr();return"ReactNative"===t||"Node"===t}var Er="Firefox",Tr="Chrome";function _r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Er:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=_r(i=Nr()):"Worker"===r&&(r=_r(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return s.navigator&&s.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=s.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function Dr(){return(Or()||"chrome-extension:"===Rr()||mr())&&!Ir()&&Cr()&&!br()}function Or(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return s.location&&s.location.protocol||null}function xr(t){return!hr(t=t||Nr())&&_r(t)!=Er}function Pr(t){return void 0===t?null:er(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=_r(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=wr(),this.b=hr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Kr(){return!(!kr("fireauth.oauthhelper",s)&&!kr("fireauth.iframe",s))}jr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Or()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Hr={};function Wr(t){Hr[t]||(Hr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var zr={};Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==zr.abcd}catch(Gt){Gr=!1}function Qr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function Xr(t){var e={};return $r(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,Yr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ni]),Qr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(n){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),Qr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[hi],i=t[fi];if(t=Zr(t[li]),!i||i!=ai&&i!=ui&&!n||i==ui&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[di]=n||null,e[gi]=n||null,e[pi]=r):(e[di]=r||null,e[gi]=r||null,e[pi]=n||null),e[vi]=t||null,Qr(this,yi,i),Qr(this,mi,Yr(e))}I(ii,Jr),ii.prototype.w=function(){var t=ii.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",pi="email",di="fromEmail",vi="multiFactorInfo",gi="previousEmail",mi="data",yi="operation";function bi(t){var e=Mn(t=Fn(t),wi)||null,n=Mn(t,Ii)||null,r=Mn(t,_i)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new T("argument-error",wi+", "+Ii+"and "+_i+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Ei)||null,languageCode:Mn(t,Ti)||null,tenantId:Mn(t,Si)||null})}var wi="apiKey",Ii="oobCode",Ei="continueUrl",Ti="languageCode",_i="mode",Si="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ai,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new bi(t)}catch(e){return null}}function ki(t){var e=t[xi];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Mi];var r=n[Pi];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new T("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Di+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",Di="dynamicLinkDomain",Oi="handleCodeInApp",Ri="iOS",xi="url",Pi="installApp",Li="minimumVersion",Mi="packageName",Fi="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function qi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new qi(t)}catch(e){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=ji(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],Wi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Hi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Hi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Hi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Gi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function zi(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function Qi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[$i])return new Yi(t)}catch(r){}return null}var $i="idToken",Xi="providerId";function Yi(t){var e=t[Xi];if(!e&&t[$i]){var n=Bi(t[$i]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function Ji(t){Yi.call(this,t),Qr(this,"profile",Yr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function ro(t){var e=Fn(t),n=Mn(e,"link"),r=Mn(Fn(n),"link");return e=Mn(e,"deep_link_id"),Mn(Fn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}I(Ji,Yi),I(Zi,Ji),I(to,Ji),I(eo,Ji),I(no,Ji);var oo="enroll",so="signin";function ao(){}function uo(t,e){return t.then((function(t){if(t[Js]){var n=Bi(t[Js]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function co(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function go(t,e){this.Qc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(zi(t)||{}).Ja||null,this.pb=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,t,[])}function yo(t){go.call(this,t,Hi),this.a=[]}function bo(){yo.call(this,"facebook.com")}function wo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){yo.call(this,"github.com")}function Eo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){yo.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function So(){go.call(this,"twitter.com",Gi)}function Ao(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Co(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=Oo(e)))throw new T("argument-error","Invalid email link!");return new No(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ni(t=ro(t)))&&t.operation===ai?t:null}function Ro(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new T("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function xo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Po(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Lo(t){try{this.a=t||Jo.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ro({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return wo(n);case"github.com":return Eo(n);case"twitter.com":return Ao(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Vo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&_(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ka=function(t){return wa(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,Ia(t,n)},co.prototype.c=function(t,e){return uo(Ea(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return wa(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,Ia(t,n)},fo.prototype.c=function(t,e){return uo(Ea(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},go.prototype.Ka=function(t){return this.Jb=ft(t),this},I(mo,go),I(yo,go),yo.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},yo.prototype.Rb=function(){return $(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},I(bo,yo),Qr(bo,"PROVIDER_ID","facebook.com"),Qr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Io,yo),Qr(Io,"PROVIDER_ID","github.com"),Qr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),I(To,yo),Qr(To,"PROVIDER_ID","google.com"),Qr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),I(So,go),Qr(So,"PROVIDER_ID","twitter.com"),Qr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Da,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Oa,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ga,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return uo(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Co,{PROVIDER_ID:"password"}),$r(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.gb(Po(this))},Ro.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,ru(t,tu,n)},Ro.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",uo(t=ru(t,eu,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.gb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then((function(t){return function(t,e){return ru(t,Wa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(e){return function(t,e){return ru(t,za,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Lo,{PROVIDER_ID:"phone"}),$r(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,Ko=null;function Go(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ho(t,e,n){T.call(this,t,n),(t=e||{}).Kb&&Qr(this,"email",t.Kb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.$b&&Qr(this,"tenantId",t.$b)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function zo(){}function Qo(t){return t.c||(t.c=t.b())}function $o(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(hw){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function ts(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function es(t,e,n){this.reset(t,e,n,void 0,void 0)}function ns(t){this.f=t,this.b=this.c=this.a=null}function rs(t,e){this.name=t,this.value=e}I(Go,T),I(Ho,T),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&dt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,I($o,zo),$o.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new $o,I(Yo,zo),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ts(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",ts(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,ts(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},es.prototype.a=null,es.prototype.reset=function(t,e,n,r,i){delete this.a},rs.prototype.toString=function(){return this.name};var is=new rs("SEVERE",1e3),os=new rs("WARNING",900),ss=new rs("CONFIG",700),as=new rs("FINE",500);function us(t){return t.c?t.c:t.a?us(t.a):(x("Root logger has no level set."),null)}ns.prototype.log=function(t,e,n){if(t.value>=us(this).value)for(p(e)&&(e=e()),t=new es(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},ls=null;function hs(t){var e;if(ls||(ls=new ns(""),cs[""]=ls,ls.c=ss),!(e=cs[t])){e=new ns(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=hs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,cs[t]=e}return e}function fs(t,e){t&&t.log(as,e,void 0)}function ps(t){this.f=t}function ds(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ps,zo),ps.prototype.a=function(){return new ds(this.f)},ps.prototype.b=function(t){return function(){return t}}({}),I(ds,bn);var vs=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ys(t)}function ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){bn.call(this),this.headers=new Nn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ys(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=vs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):ys(this),3==this.readyState&&gs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.sc=function(t){this.a&&(this.response=t,ms(this))},t.Va=function(t){var e=this.i;e&&e.log(os,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(os,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(os,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(bs,bn);var ws="";bs.prototype.b=hs("goog.net.XhrIo");var Is=/^https?$/i,Es=["POST","PUT"];function Ts(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Bo.a(),t.C=t.D?Qo(t.D):Qo(Bo),t.a.onreadystatechange=b(t.Wb,t);try{fs(t.b,Rs(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return fs(t.b,Rs(t,"Error opening Xhr: "+a.message)),void Ss(t,a)}e=r||"";var o=new Nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)q(t,e,void 0);else for(var n=An(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=_s,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!H(Es,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Cs(t),0<t.g&&(t.u=function(t){return Wt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,Rs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),fs(t.b,Rs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){fs(t.b,Rs(t,"Send error: "+a.message)),Ss(t,a)}}function _s(t){return"content-type"==t.toLowerCase()}function Ss(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,As(t),ks(t)}function As(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ns(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Ds(t)&&2==Os(t))fs(t.b,Rs(t,"Local request error detected and ignored"));else if(t.i&&4==Ds(t))Tn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ds(t)){fs(t.b,Rs(t,"Request complete")),t.c=!1;try{var e,n=Os(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Dn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Is.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ds(t)?t.a.statusText:""}catch(l){fs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Os(t)+"]",As(t)}}finally{ks(t)}}}function ks(t,e){if(t.a){Cs(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(hw){(t=t.b)&&t.log(is,"Problem encountered resetting onreadystatechange: "+hw.message,void 0)}}}function Cs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Ds(t){return t.a?t.a.readyState:0}function Os(t){try{return 2<Ds(t)?t.a.status:-1}catch(e){return-1}}function Rs(t,e){return e+" ["+t.P+" "+t.l+" "+Os(t)+"]"}function xs(t){var e=Gs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,Vs(t)}function Ls(t){if(t.a){if(!t.v)throw new Us(t);t.v=!1}}function Ms(t,e,n,r){t.g.push([e,n,r]),t.a&&Vs(t)}function Fs(t){return G(t.g,(function(t){return p(t[1])}))}function Vs(t){if(t.h&&t.a&&Fs(t)){var e=t.h,n=Bs[e];n&&(s.clearTimeout(n.a),delete Bs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(D(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Fs(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof xs?(Ms(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new qs(e),Bs[e.a]=e,t.h=e.a)}function Us(){O.call(this)}function js(){O.call(this)}function qs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fs(this.b,Rs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fs(this.b,Rs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ks(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ks(this,!0)),bs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Ns(this):this.Jc())},t.Jc=function(){Ns(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(is,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return fs(this.b,"Can not get response: "+e.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new js(this),Ls(this),Ps(this,!1,t))}},xs.prototype.m=function(t,e){this.i=!1,Ps(this,t,e)},xs.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ms(this,r,(function(t){t instanceof js?o.cancel():i(t)})),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,I(Us,O),Us.prototype.message="Deferred has already fired",Us.prototype.name="AlreadyCalledError",I(js,O),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",qs.prototype.c=function(){throw delete Bs[this.a],this.b};var Bs={};function Ks(t){var e,n=document,r=Tt(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new xs(o);return e=window.setTimeout((function(){Hs(i,!0);var t=new Qs(zs,"Timeout reached for loading script "+r);Ls(a),Ps(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,!1,e),Ls(a),Ps(a,!0,null))},i.onerror=function(){Hs(i,!0,e);var t=new Qs(Ws,"Error while loading script "+r);Ls(a),Ps(a,!1,t)},dt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Gs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ws=0,zs=1;function Qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function $s(t){this.f=t}function Xs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=ft(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=ft(t.firebaseHeaders||na),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&Jo.INTERNAL.node&&Jo.INTERNAL.node.XMLHttpRequest)&&!br())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new ps(self):Ir()?this.f=new $s(n):this.f=new Yo,this.b=null}I(Qs,O),I($s,zo),$s.prototype.a=function(){return new this.f},$s.prototype.b=function(){return{}};var Ys,Js="idToken",Zs=new jr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new jr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,Rn(t,e.c),t.a=e.a,xn(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=_r(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&oe&&!(9<oe))})()||br()?t=b(t.u,t):(Ys||(Ys=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ms(t,null,e,void 0)}(Ks(_t(ua,{onload:ca})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Xs.prototype.T=function(){return this.b},Xs.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new bs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),In(a,"ready",(function(){u&&clearTimeout(u),Ke(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Ke(this),e&&e(null)})),Ts(a,t,n,r,i)};var ua=new gt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ca="__fcb"+Math.floor(1e6*Math.random()).toString();function la(t,e,n,r,i,o,s){var a=Fn(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(a,c,i[c]);return new be((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:er(Lr(i)),t.a,t.v.get())}))}function ha(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new T("invalid-email")}function fa(t){"email"in t&&ha(t)}function pa(t){if(!t[Js]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function da(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Xs.prototype.s=function(t,e,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Xs.prototype.Ab=function(){return ru(this,Ha,{})},Xs.prototype.Cb=function(t,e){return ru(this,Ka,{idToken:t,email:e})},Xs.prototype.Db=function(t,e){return ru(this,Ga,{idToken:t,password:e})};var va={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ga(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ma(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ya(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Yn(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;pa(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,Qa,e)}function Ia(t,e){return e.returnIdpCredential=!0,ru(t,Xa,e)}function Ea(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,$a,e)}function Ta(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Xs.prototype).Eb=function(t,e){var n={idToken:t},r=[];return lt(va,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Ka,n)},t.wb=function(t,e){return dt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Va,t)},t.xb=function(t,e){return dt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,La,t)},t.vb=function(t,e){return dt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Ma,t)},t.Fb=function(t,e,n){return dt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Fa,t)},t.gb=function(t){return ru(this,Za,t)},t.ob=function(t,e){return ru(this,qa,{oobCode:t,newPassword:e})},t.Sa=function(t){return ru(this,Sa,{oobCode:t})},t.kb=function(t){return ru(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:Ta,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:Ta,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Aa={endpoint:"signupNewUser",A:function(t){if(ha(t),!t.password)throw new T("weak-password")},G:pa,V:!0,B:!0},Na={endpoint:"createAuthUri",B:!0},ka={endpoint:"deleteAccount",O:["idToken"]},Ca={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Da={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ha,G:pa,V:!0,B:!0},Oa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ha,G:pa,V:!0},Ra={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ga,G:pa,B:!0,Na:!0},xa={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ga,G:pa,B:!0,Na:!0},Pa={endpoint:"getAccountInfo"},La={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Va={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},Ua={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ja={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},qa={endpoint:"resetPassword",A:Ta,Z:"email",B:!0},Ba={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ka={endpoint:"setAccountInfo",O:["idToken"],A:fa,V:!0},Ga={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(fa(t),!t.password)throw new T("weak-password")},G:pa,V:!0},Ha={endpoint:"signupNewUser",G:pa,V:!0,B:!0},Wa={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Qa={endpoint:"verifyAssertion",A:ma,Za:ya,G:ba,V:!0,B:!0},$a={endpoint:"verifyAssertion",A:ma,Za:ya,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);pa(t)},V:!0,B:!0},Xa={endpoint:"verifyAssertion",A:function(t){if(ma(t),!t.idToken)throw new T("internal-error")},Za:ya,G:ba,V:!0},Ya={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:pa,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(ha(t),!t.password)throw new T("wrong-password")},G:pa,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:da,G:pa,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");da(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);pa(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:da,G:pa,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Js]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ne(new T("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Ae(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),la(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",dt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Pr(t)),new T("internal-error",e)}function su(t){this.b=t,this.a=null,this.sb=function(t){return(lu||(lu=new be((function(t,e){function n(){Ur(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:uu.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Ae(Ks(r=_t(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new be((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new gt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new jr(3e4,6e4),cu=new jr(5e3,15e3),lu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Vn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function pu(t){try{return Jo.app(t).auth().Ga()}catch(e){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=ur();return function(t){return ru(t,Ua,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Fn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:dr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Go(ur())}))}function gu(t){return t.m||(t.m=gr().then((function(){if(!t.u){var e=t.c,n=t.i,r=pu(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Ar(t.c,pu(t.b)):null,t.l=new Xs(t.g,C(t.i),t.C),t.f&&ia(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new fu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.zb(l).toString()}function bu(t){if(this.a=t||Jo.INTERNAL.reactNative&&Jo.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Jo.app(this.c).auth().la()}catch(a){n=null}for(var r in e.pb=n,Ln(t,"providerId",this.a.providerId),e=Lr((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),ht(e)||Ln(t,"customParameters",Pr(e))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Ln(t,"scopes",n.join(","))),this.l?Ln(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Mn(t,s)&&Ln(t,s,this.b[s]);return this.h?Ln(t,"tid",this.h):Xn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Xn(t.b,"eid"),(s=pu(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(t=du.prototype).Pb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.sb.then((function(){return new be((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return _n(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Nr();return!xr(t)&&!Vr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Ne(new T("popup-blocked"));if(s&&!xr())return this.ma().o((function(e){fr(t),i(e)})),r(),Ae();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){(Vo(n),s)||cr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=vu(mu(this)));var i=this;return this.a.then((function(){Vo(e),cr(yu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return gu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){z(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,Pr(e)))},t.U=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Eu=[];function Tu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Nu(t,c),e})).o((function(e){throw Nu(t,c),e}))}function Nu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,(function(t){return t==e}))}}function ku(){if(!Ru())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(q(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),Tu(this.v,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),Tu(this.v,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new _u(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Cu(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Cu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Du(t){return t.i||(t.i=Cu(t)),t.i}function Ou(t,e){var n=0;return new be((function r(i,o){Du(t).then(e).then(i).o((function(e){if(!(3<++n))return Du(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Ru(){try{return!!s.indexedDB}catch(Gt){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Fu(t){return Du(t).then((function(t){var e=xu(Pu(t,!1));return e.getAll?Lu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Ru()){var t=Fr(),r="__sak"+t;return Iu||(Iu=new ku),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function ju(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==wr();if(!(t=Bu()||t&&Jo.INTERNAL.node&&Jo.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||Jo.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=s.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ku(){this.type="nullStorage"}function Gu(){if(!function(){var t="Node"==wr();if(!(t=Hu()||t&&Jo.INTERNAL.node&&Jo.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Hu()||Jo.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=s.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Wu(){var t={};t.Browser=$u,t.Node=Xu,t.ReactNative=Yu,t.Worker=Ju,this.a=t[wr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),Ce(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Nu(this,this.a[0]);this.b=!0},(t=ku.prototype).set=function(t,e){var n=this,r=!1;return Ou(this,(function(e){return Lu((e=xu(Pu(e,!0))).get(t))})).then((function(i){return Ou(n,(function(o){if(o=xu(Pu(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Lu(o.add(s))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Ou(this,(function(e){return Lu(xu(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Ou(this,(function(r){return n=!0,e.b++,Lu(xu(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Fu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Vu(t),e()}(this),this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t}))},(t=ju.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.U=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Ae().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&ln(s.window,"storage",t)},(t=Ku.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.U=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=Gu.prototype).get=function(t){var e=this;return Ae().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var zu,Qu,$u={F:qu,cb:Gu},Xu={F:qu,cb:Gu},Yu={F:bu,cb:Ku},Ju={F:qu,cb:Ku},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Vr(Nr())||!yr()),e=xr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Wu),t=zu;try{this.g=!ar()&&Kr()||!s.indexedDB?new t.a.F:new Uu(br()?new ju:new t.a.F)}catch(r){this.g=new ju,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new ju}this.v=new ju,this.f=b(this.Zb,this),this.b={}}function ec(){return Qu||(Qu=new tc),Qu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(nc(this,"local").ca(this.f),this.h||(ar()||!Kr())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Wt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.nb,this))},t.nb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(yc):yc),this.reset()}I(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,pc=[],dc=0;dc<fc;dc++)pc[dc]=0;var vc=Q(128,pc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):$(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}I(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new T("invalid-cordova-configuration",t)}function Tc(t){var e=new bc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,vc,56-e.c):mc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Sc(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Fn(i),"firebaseError")||null))?_(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(t,i)}))}var n=new Uo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=_n(500).then((function(){return Ac(t).then((function(){r||_c(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ko||(Ko=new qo),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Nc(t){this.a=t,this.b=ec()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Pb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ae()},t.Nb=function(){return Ne(new T("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ne(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ae().then((function(){return Vo(e),Sc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new T("no-auth-event"),null,i),u=kr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",s),l={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Nr().toLowerCase().match(/android/))return Ne(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Tc(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Nr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=_n(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){qr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Sc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ta=function(t){z(this.b,(function(e){return e==t}))};var kc={name:"pendingRedirect",F:"session"};function Cc(t){return ic(t.b,kc,t.a)}function Dc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Hc,this.C=new Xc,this.g=new Nc(Kc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Oc(this.D,this.v,this.m,S,this.J)}function Oc(t,e,n,r,i){var o=Jo.SDK_VERSION||null;return mr()?new Ic(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function Rc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function xc(t){t.a.Yb()&&Rc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})),t.a.Ub()||Wc(t.b)}function Pc(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(kc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Cc(t.g).then((function(){Rc(t).o((function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}))})):xc(t)})).o((function(){xc(t)}))}function Lc(t,e){z(t.h,(function(t){return t==e}))}Dc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Oc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Wc(this.b),e};var Mc=new jr(2e3,1e4),Fc=new jr(3e4,6e4);function Vc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function jc(t,e,n,r,i){var o;return function(t){return t.b.set(kc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Uc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Cc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new be((function(){})):Cc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function qc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Mc.get())}Dc.prototype.ra=function(){return this.b.ra()};var Bc={};function Kc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Gc(t,e,n,r){var i=Kc(e,n,r);return Bc[i]||(Bc[i]=new Dc(t,e,n,r)),Bc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(t){t.g||(t.g=!0,$c(t,!1,null,null))}function zc(t){t.g&&!t.i&&$c(t,!1,null,null)}function Qc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function $c(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Qc(t,n):Qc(t,{user:null}),t.f=[],t.c=[]}function Xc(){}function Yc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Jc(t,e){this.a=e,Qr(this,"verificationId",t)}function Zc(t,e,n,r){return new Lo(t).gb(e,n).then((function(t){return new Jc(t,r)}))}function tl(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var r=e&&e[rl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;q(e[nl]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?($c(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){$c(t,a,e,null)})).o((function(e){$c(t,a,null,e)}))}(this,t,e):Ne(new T("invalid-auth-event")):($c(this,!1,null,null),Ae())}else Ne(new T("invalid-auth-event"))},Hc.prototype.ra=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=_n(Fc.get()).then((function(){t.b||(t.g=!0,$c(t,!0,null,e))}))}(t))}))},Xc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new T("invalid-auth-event"))}else Ne(new T("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var nl="mfaInfo",rl="mfaPendingCredential";function il(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new el(t,e,n),Qr(this,"resolver",this.b)}function ol(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(r){}return null}function sl(){}function al(t){Qr(this,"factorId",t.fa),this.a=t}function ul(t){if(al.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),hl(this,n)}function hl(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function pl(t,e){t.stop(),t.b=_n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return qr()||!t?Ae():new be((function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){pl(t,!0)})).o((function(e){t.i(e)&&pl(t,!1)}))}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function vl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function gl(t,e){t.b=Bi(e[Js]||""),t.a=e.refreshToken,vl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ml(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,vl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yl(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function bl(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function wl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Jo.SDK_VERSION?Ar(Jo.SDK_VERSION):null;this.a=new Xs(this.l,C(S),r),(this.u=t.emulatorConfig||null)&&ia(this.a,this.u),this.h=new dl(this.a),Cl(this,e[Js]),gl(this.h,e),Qr(this,"refreshToken",this.h.a),Rl(this,n||{}),bn.call(this),this.P=!1,this.s&&Dr()&&(this.b=Gc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new fl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=b(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){Il(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){_l(i,t.f)},this.ja=null,this.S=new ll(this,n),Qr(this,"multiFactor",this.S)}function Il(t,e){t.u=e,ia(t.a,e),t.b&&(e=t.b,t.b=Gc(t.s,t.l,t.m,t.u),t.P&&(Lc(e,t),Pc(t.b,t)))}function El(t,e){t.qa&&ln(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&an(e,"languageCodeChanged",t.Pa)}function Tl(t,e){t.$&&ln(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&an(e,"emulatorConfigChanged",t.Ba)}function _l(t,e){t.aa=e,sa(t.a,Jo.SDK_VERSION?Ar(Jo.SDK_VERSION,t.aa):null)}function Sl(t,e){t.ja&&ln(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&an(e,"frameworkChanged",t.Oa)}function Al(t){try{return Jo.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Nl(t){t.J||t.D.b||(t.D.start(),ln(t,"tokenChanged",t.ba),an(t,"tokenChanged",t.ba))}function kl(t){ln(t,"tokenChanged",t.ba),t.D.stop()}function Cl(t,e){t.Aa=e,Qr(t,"_lat",e)}function Dl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ce(e).then((function(){return t}))}function Ol(t){t.b&&!t.P&&(t.P=!0,Pc(t.b,t))}function Rl(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xl(){}function Pl(t){return Ae().then((function(){if(t.J)throw new T("app-deleted")}))}function Ll(t){return K(t.providerData,(function(t){return t.providerId}))}function Ml(t,e){e&&(Fl(t,e.providerId),t.providerData.push(e))}function Fl(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function Vl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Ul(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new yl(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new yl),q(e.providerData,(function(e){Ml(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Qr(t,"refreshToken",t.h.a),hl(t.S,e.S.b))}function jl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Pa,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Vl(t,"isAnonymous",!1),e}))}))}function ql(t,e){e[Js]&&t.Aa!=e[Js]&&(gl(t.h,e),t.dispatchEvent(new cl("tokenChanged")),Cl(t,e[Js]),Vl(t,"refreshToken",t.h.a))}function Bl(t,e){return jl(t).then((function(){if(H(Ll(t),e))return Dl(t).then((function(){throw new T("provider-already-linked")}))}))}function Kl(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=Qi(e),operationType:n})}function Gl(t,e){return ql(t,e),t.reload().then((function(){return t}))}function Hl(t,e,n,r,i){if(!Dr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ne(t.i);var o=zi(n.providerId),s=Fr(t.uid+":::"),a=null;(!xr()||yr())&&t.s&&n.isOAuthProvider&&(a=yu(t.s,t.l,t.m,e,n,null,s,Jo.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=pr(a,o&&o.va,o&&o.ua);return r=r().then((function(){if(zl(t),!i)return t.I().then((function(){}))})).then((function(){return Vc(t.b,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=qc(t.b,t,e,u,s)}))})).then((function(t){return u&&fr(u),t?Xr(t):null})).o((function(t){throw u&&fr(u),t})),Ql(t,r,i)}function Wl(t,e,n,r,i){if(!Dr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ne(t.i);var o=null,s=Fr(t.uid+":::");return r=r().then((function(){if(zl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Dl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yl,t.w(),e.a)),e})).then((function(){return jc(t.b,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Jl(t.ha);throw o})).then((function(){if(o)throw o})),Ql(t,r,i)}function zl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Ql(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ne(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new cl("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){W(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),Al(t),b(t.jc,t))),n||e}))}function $l(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wl(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&Ml(i,Xr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Xl(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[nl],delete n[rl],dt(n,t),e.g(n)}))},I(il,T),sl.prototype.tb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),dt(n,{phoneVerificationInfo:Po(t.a)}),ru(e,Ra,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return dt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),ru(e,xa,n)}))}(this,t,e)},I(al,sl),I(ul,al),I(cl,Qe),(t=ll.prototype).yc=function(t){hl(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return ql(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return hl(e,r),ql(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},fl.prototype.start=function(){this.a=this.c,pl(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?ml(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},yl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(wl,bn),wl.prototype.xa=function(t){this.za=t,ra(this.a,t)},wl.prototype.la=function(){return this.za},wl.prototype.Ga=function(){return $(this.aa)},wl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(wl.prototype,"providerId","firebase"),(t=wl.prototype).reload=function(){var t=this;return Ql(this,Pl(this).then((function(){return jl(t).then((function(){return Dl(t)})).then(xl)})))},t.oc=function(t){return this.I(t).then((function(t){return new tl(t)}))},t.I=function(t){var e=this;return Ql(this,Pl(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.Aa&&(Cl(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),Vl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Rl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new bl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ml(this,e[n]);Vl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},t.Lc=function(t){return Wr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Ql(this,t.c(this.a,this.uid).then((function(t){return ql(e,t),n=Kl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Wr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Ql(this,Bl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Kl(e,t,"link"),Gl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Ql(this,Bl(this,"phone").then((function(){return Zc(Al(n),t,e,b(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Ql(this,Ae().then((function(){return Zc(Al(n),t,e,b(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Ql(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return ql(e,t),e.reload()})))},t.ed=function(t){var e=this;return Ql(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return ql(e,t),e.reload()})))},t.Db=function(t){var e=this;return Ql(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return ql(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pl(this);var e=this;return Ql(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return ql(e,t),Vl(e,"displayName",t.displayName||null),Vl(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),Dl(e)})).then(xl))},t.cd=function(t){var e=this;return Ql(this,jl(this).then((function(n){return H(Ll(e),t)?function(t,e,n){return ru(t,Ca,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(Ll(e),(function(t){n[t]||Fl(e,t)})),n[Lo.PROVIDER_ID]||Qr(e,"phoneNumber",null),Dl(e)})):Dl(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Ql(this,this.I().then((function(e){return ru(t.a,ka,{idToken:e})})).then((function(){t.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");El(t,null),Tl(t,null),Sl(t,null),t.N=[],t.J=!0,kl(t),Qr(t,"refreshToken",null),t.b&&Lc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Mb,this):null},t.Ec=function(t){var e=this;return Hl(this,"linkViaPopup",t,(function(){return Bl(e,t.providerId).then((function(){return Dl(e)}))}),!1)},t.Nc=function(t){return Hl(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Fc=function(t){var e=this;return Wl(this,"linkViaRedirect",t,(function(){return Bl(e,t.providerId)}),!1)},t.Oc=function(t){return Wl(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ql(this,this.I().then((function(n){return Ia(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Kl(i,t,"link"),Gl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ql(this,Ae().then((function(){return uo(Ea(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Kl(i,t,"reauthenticate"),ql(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Ql(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Vi(new ki(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Ql(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Vi(new ki(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Ql(this,t=uo(Ae(t),n.uid).then((function(t){return e=Kl(n,t,"reauthenticate"),ql(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&dt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),dt(t,this.S.w()),t};var Yl={name:"redirectUser",F:"session"};function Jl(t){return ic(t.b,Yl,t.a)}function Zl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=nh("local"),n=nh("session"),r=nh("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Mr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(eh,t.a).then((function(t){return t?nh(t):e}))}))}))})).then((function(e){return t.c=e,th(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(nh("local"),this.a,b(this.g,this))}function th(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,nh(Zu[n]),t.a));return r.push(ic(t.b,eh,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],w(o,a),s);else e(i)}))}(r)}Zl.prototype.g=function(){var t=this,e=nh("local");sh(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return th(t,"local").then((function(){t.c=e}))}))}))};var eh={name:"persistence",F:"session"};function nh(t){return{name:"authUser",F:t}}function rh(t,e){return sh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ih(t){return sh(t,(function(){return ic(t.b,t.c,t.a)}))}function oh(t,e,n){return sh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),$l(t||{})}))}))}function sh(t,e){return t.f=t.f.then(e,e),t.f}function ah(t){if(this.l=!1,Qr(this,"settings",new Yc),Qr(this,"app",t),!gh(this).options||!gh(this).options.apiKey)throw new T("invalid-api-key");t=Jo.SDK_VERSION?Ar(Jo.SDK_VERSION):null,this.a=new Xs(gh(this).options&&gh(this).options.apiKey,C(S),t),this.P=[],this.s=[],this.N=[],this.Pa=Jo.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=Jo.INTERNAL.createSubscribe(b(this.Ac,this)),dh(this,null),this.i=new Zl(gh(this).options.apiKey+":"+gh(this).name),this.D=new Xl(gh(this).options.apiKey+":"+gh(this).name),this.$=wh(this,function(t){var e=gh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then((function(t){return t&&e&&(t.authDomain=e),$l(t||{})}))}(t.D,gh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Jl(t.D)}));return wh(t,e)}(t).then((function(){return oh(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return rh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ih(t.i)}))):null})).then((function(e){dh(t,e||null)}));return wh(t,n)}(this)),this.h=wh(this,function(t){return t.$.then((function(){return fh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(nh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=gh(t).options.authDomain,n=gh(t).options.apiKey;e&&Dr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Gc(e,n,gh(t).name,t.R),Pc(t.b,t),mh(t)&&Ol(mh(t)),t.m){Ol(t.m);var r=t.m;r.xa(t.la()),El(r,t),_l(r=t.m,t.J),Sl(r,t),Il(r=t.m,t.R),Tl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Fn(this.R.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function uh(t){Qe.call(this,"languageCodeChanged"),this.h=t}function ch(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function lh(t){Qe.call(this,"frameworkChanged"),this.f=t}function hh(t){return t.Oa||Ne(new T("auth-domain-config-required"))}function fh(t){if(!Dr())return Ne(new T("operation-not-supported-in-this-environment"));var e=hh(t).then((function(){return t.b.ra()})).then((function(t){return t?Xr(t):null}));return wh(t,e)}function ph(t,e){var n={};return n.apiKey=gh(t).options.apiKey,n.authDomain=gh(t).options.authDomain,n.appName=gh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new wl(t,e);return n&&(i.ha=n),r&&_l(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return mh(t)&&e.uid==mh(t).uid?(Ul(mh(t),e),t.da(e)):(dh(t,e),Ol(e),t.da(e))})).then((function(){bh(t)}))}function dh(t,e){mh(t)&&(function(t,e){z(t.W,(function(t){return t==e}))}(mh(t),t.Ba),ln(mh(t),"tokenChanged",t.qa),ln(mh(t),"userDeleted",t.za),ln(mh(t),"userInvalidated",t.Aa),kl(mh(t))),e&&(e.W.push(t.Ba),an(e,"tokenChanged",t.qa),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&Nl(e)),Qr(t,"currentUser",e),e&&(e.xa(t.la()),El(e,t),_l(e,t.J),Sl(e,t),Il(e,t.R),Tl(e,t))}function vh(t,e){var n=null,r=null;return wh(t,e.then((function(e){return n=Fo(e),r=Qi(e),ph(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Xr({user:mh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function gh(t){return t.app}function mh(t){return t.currentUser}function yh(t){return mh(t)&&mh(t)._lat||null}function bh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](yh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](yh(t))}}function wh(t,e){return t.P.push(e),e.oa((function(){W(t.P,e)})),e}function Ih(){}function Eh(){this.a={},this.b=1e12}Zl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ru()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),sh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,th(n,t)})).then((function(){if(n.c=nh(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},I(ah,bn),I(uh,Qe),I(ch,Qe),I(lh,Qe),(t=ah.prototype).yb=function(t){return wh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new uh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&gr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ia(this.a,this.R),this.dispatchEvent(new ch(this.R))}},t.Gc=function(t){this.J.push(t),sa(this.a,Jo.SDK_VERSION?Ar(Jo.SDK_VERSION,this.J):null),this.dispatchEvent(new lh(this.J))},t.Ga=function(){return $(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:gh(this).options.apiKey,authDomain:gh(this).options.authDomain,appName:gh(this).name,currentUser:mh(this)&&mh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return vh(i,wa(i.a,o))}))},t.Xc=function(t){if(!Dr())return Ne(new T("operation-not-supported-in-this-environment"));var e=this,n=zi(t.providerId),r=Fr(),i=null;(!xr()||yr())&&gh(this).options.authDomain&&t.isOAuthProvider&&(i=yu(gh(this).options.authDomain,gh(this).options.apiKey,gh(this).name,"signInViaPopup",t,null,r,Jo.SDK_VERSION||null,null,null,this.T(),this.R));var o=pr(i,n&&n.va,n&&n.ua);return wh(this,n=hh(this).then((function(n){return Vc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=qc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&fr(o),t?Xr(t):null})).o((function(t){throw o&&fr(o),t})))},t.Yc=function(t){if(!Dr())return Ne(new T("operation-not-supported-in-this-environment"));var e=this;return wh(this,hh(this).then((function(){return function(t){return sh(t,(function(){return t.b.set(eh,t.c.F,t.a)}))}(e.i)})).then((function(){return jc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return fh(this).then((function(e){return t.b&&zc(t.b.b),e})).o((function(e){throw t.b&&zc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new T("null-user"));if(this.S!=t.tenantId)return Ne(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=gh(this).options.apiKey,n.authDomain=gh(this).options.authDomain,n.appName=gh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Js]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new wl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&_l(e,r),Ul(e,t),e}(t,n,e.D,e.Ga());return wh(this,this.h.then((function(){if(gh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return mh(e)&&t.uid==mh(e).uid?(Ul(mh(e),t),e.da(t)):(dh(e,r),Ol(r),e.da(r))})).then((function(){bh(e)})))},t.Bb=function(){var t=this;return wh(this,this.h.then((function(){return t.b&&zc(t.b.b),mh(t)?(dh(t,null),ih(t.i).then((function(){bh(t)}))):Ae()})))},t.Zc=function(){var t=this;return oh(this.i,gh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=mh(t)&&e){n=mh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ul(mh(t),e),mh(t).I();(mh(t)||e)&&(dh(t,e),e&&(Ol(e),e.ha=t.D),t.b&&Pc(t.b,t),bh(t))}}))},t.da=function(t){return rh(this.i,t)},t.mc=function(){bh(this),this.da(mh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return vh(e,Ae(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(mh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),wh(t,t.h.then((function(){!t.l&&H(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(yh(t)))})))}(this,(function(){t.next(mh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return wh(this,this.h.then((function(){return mh(e)?mh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return vh(e,ru(e.a,Ya,{token:t}))})).then((function(t){var n=t.user;return Vl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return vh(n,ru(n.a,Ja,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return vh(n,ru(n.a,Aa,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return vh(e,t.ka(e.a))}))},t.Sc=function(t){return Wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=mh(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vh(t,t.a.Ab()).then((function(e){var n=e.user;return Vl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return mh(this)&&mh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&mh(this)&&Nl(mh(this))},t.Pc=function(t){var e=this;q(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&mh(this)&&kl(mh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),wh(this,this.h.then((function(){e.l||H(e.s,t)&&t(yh(e))})))},t.removeAuthTokenListener=function(t){z(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(nh("local"),t.a,this.ja),this.b&&(Lc(this.b,this),zc(this.b.b)),Promise.resolve()},t.hc=function(t){return wh(this,function(t,e){return ru(t,Na,{identifier:e,continueUri:Or()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Oo(t)},t.xb=function(t,e){var n=this;return wh(this,Ae().then((function(){var t=new ki(e);if(!t.c)throw new T("argument-error",Oi+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return wh(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return wh(this,this.a.Sa(t).then((function(t){return new oi(t)})))},t.kb=function(t){return wh(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return wh(this,Ae().then((function(){return void 0===e||ht(e)?{}:Vi(new ki(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return wh(this,Zc(this,t,e,b(this.ab,this)))},t.Vc=function(t,e){var n=this;return wh(this,Ae().then((function(){var r=e||ur(),i=Do(t,r);if(!(r=Oo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var Th=null;function _h(t,e){return(e=Sh(e))&&t.a[e]||null}function Sh(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ah(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function Nh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function kh(){}function Ch(){}Eh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ah(t,e),this.b++},Eh.prototype.reset=function(t){var e=_h(this,t);t=Sh(t),e&&t&&(e.delete(),delete this.a[t])},Eh.prototype.getResponse=function(t){return(t=_h(this,t))?t.getResponse():null},Eh.prototype.execute=function(t){(t=_h(this,t))&&t.execute()},Ah.prototype.getResponse=function(){return Nh(this),this.b},Ah.prototype.execute=function(){Nh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Ah.prototype.delete=function(){Nh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Qr(kh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return Th||(Th=new Eh),Ae(Th)},Ch.prototype.c=function(){};var Dh=null;function Oh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rh=new gt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xh=new jr(3e4,6e4);Oh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),xh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},Ae(Ks(_t(Rh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Oh.prototype.c=function(){this.b--};var Ph=null;function Lh(t,e,n,r,i,o,a){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Dh||(Dh=new Ch),a=Dh):(Ph||(Ph=new Oh),a=Ph),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Mh];this.a[Mh]=function(t){if(jh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Fh];this.a[Fh]=function(){if(jh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,s);"function"==typeof t&&t()}}}var Mh="callback",Fh="expired-callback",Vh="sitekey",Uh="size";function jh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function qh(t,e){return t.h.push(e),e.oa((function(){W(t.h,e)})),e}function Bh(t){if(t.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Kh(t,e,n){var r=!1;try{this.b=n||Jo.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Jo.SDK_VERSION?Ar(Jo.SDK_VERSION,o):null,Lh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,C(S),r)}function Gh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Hh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Hh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Lh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=qh(this,Ae().then((function(){if(Or()&&!br())return gr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,ja,{})})).then((function(e){t.a[Vh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Bh(this);var t=this;return qh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',qt(s.name),'"'),s.type){o.push(' type="',qt(s.type),'"');var a={};dt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Bh(this);var t=this;return qh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Bh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Bh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Kh,Lh);var Hh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function zh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Qh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function $h(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Xh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Yh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Jh(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Zh(t){return d(t)&&"string"==typeof t.uid}function tf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function ef(t,e){for(var n in e){var r=e[n].name;t[r]=of(r,t[n],e[n].j)}}function nf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Gh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function rf(t,e,n,r){t[e]=of(e,n,r)}function of(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Gh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ef(ah.prototype,{kb:{name:"applyActionCode",j:[Wh("code")]},Sa:{name:"checkActionCode",j:[Wh("code")]},ob:{name:"confirmPasswordReset",j:[Wh("code"),Wh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wh("email"),Wh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Wh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Wh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[tf(Qh(),$h(),"nextOrObserver"),$h("opt_error",!0),$h("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[tf(Qh(),$h(),"nextOrObserver"),$h("opt_error",!0),$h("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Wh("email"),tf(Qh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Wh("email"),Qh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Wh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yh()]},Tc:{name:"signInWithCustomToken",j:[Wh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Wh("email"),Wh("password")]},Vc:{name:"signInWithEmailLink",j:[Wh("email"),Wh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[tf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof wl)}},Xh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Wh("url"),Qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Wh("code")]}}),nf(ah.prototype,{lc:{name:"languageCode",lb:tf(Wh(),Xh(),"languageCode")},ti:{name:"tenantId",lb:tf(Wh(),Xh(),"tenantId")}}),ah.Persistence=Zu,ah.Persistence.LOCAL="local",ah.Persistence.SESSION="session",ah.Persistence.NONE="none",ef(wl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yh()]},rb:{name:"linkWithCredential",j:[Yh()]},Dc:{name:"linkWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yh()]},ub:{name:"reauthenticateWithCredential",j:[Yh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[tf(Qh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},cd:{name:"unlink",j:[Wh("provider")]},Cb:{name:"updateEmail",j:[Wh("email")]},Db:{name:"updatePassword",j:[Wh("password")]},ed:{name:"updatePhoneNumber",j:[Yh("phone")]},Eb:{name:"updateProfile",j:[Qh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Wh("email"),tf(Qh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]}}),ef(Eh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),nf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:zh("appVerificationDisabledForTesting")}}),ef(Jc.prototype,{confirm:{name:"confirm",j:[Wh("verificationCode")]}}),rf(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,ko,xo,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[tf(Wh(),Qh(),"json")]),rf(Co,"credential",(function(t,e){return new No(t,e)}),[Wh("email"),Wh("password")]),ef(No.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(bo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),rf(bo,"credential",wo,[tf(Wh(),Qh(),"token")]),rf(Co,"credentialWithLink",Do,[Wh("email"),Wh("emailLink")]),ef(Io.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),rf(Io,"credential",Eo,[tf(Wh(),Qh(),"token")]),ef(To.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),rf(To,"credential",_o,[tf(Wh(),tf(Qh(),Xh()),"idToken"),tf(Wh(),Xh(),"accessToken",!0)]),ef(So.prototype,{Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),rf(So,"credential",Ao,[tf(Wh(),Qh(),"token"),Wh("secret",!0)]),ef(yo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},credential:{name:"credential",j:[tf(Wh(),tf(Qh(),Xh()),"optionsOrIdToken"),tf(Wh(),Xh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),ef(fo.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(co.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),rf(Lo,"credential",Mo,[Wh("verificationId"),Wh("verificationCode")]),ef(Lo.prototype,{gb:{name:"verifyPhoneNumber",j:[tf(Wh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Jh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Jh(t.session,so)&&Zh(t.multiFactorHint):t.session&&t.multiFactorUid?Jh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),ef(Ro.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(T.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Ho.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Go.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(il.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),ef(ll.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Wh("displayName",!0)]},bd:{name:"unenroll",j:[tf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Zh},Wh(),"multiFactorInfoIdentifier")]}}),ef(Kh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rf(bi,"parseLink",Ni,[Wh("link")]),rf(kh,"assertion",(function(t){return new ul(t)}),[Yh("phone")]),function(){if(void 0===Jo||!Jo.INTERNAL||!Jo.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ah,AuthCredential:ao,Error:T};rf(t,"EmailAuthProvider",Co,[]),rf(t,"FacebookAuthProvider",bo,[]),rf(t,"GithubAuthProvider",Io,[]),rf(t,"GoogleAuthProvider",To,[]),rf(t,"TwitterAuthProvider",So,[]),rf(t,"OAuthProvider",yo,[Wh("providerId")]),rf(t,"SAMLAuthProvider",mo,[Wh("providerId")]),rf(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ah)}}]),rf(t,"RecaptchaVerifier",Kh,[tf(Wh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Jo.app.App)}}]),rf(t,"ActionCodeURL",bi,[]),rf(t,"PhoneMultiFactorGenerator",kh,[]),Jo.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ah(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),Jo.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Jo.registerVersion("@firebase/auth","0.16.8"),Jo.INTERNAL.extendNamespace({User:wl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Zo=function(t,e){return(Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ts(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var es,ns="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rs=rs||{},is=ns||self;function os(){}function ss(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function as(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var us="closure_uid_"+(1e9*Math.random()>>>0),cs=0;function ls(t,e,n){return t.call.apply(t.bind,arguments)}function hs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function fs(t,e,n){return(fs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ls:hs).apply(null,arguments)}function ps(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ds(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function vs(){this.s=this.s,this.o=this.o}var gs={};vs.prototype.s=!1,vs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,us)&&t[us]||(t[us]=++cs)}(this);delete gs[t]}},vs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ms=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ys=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function bs(t){return Array.prototype.concat.apply([],arguments)}function ws(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Is(t){return/^[\s\xa0]*$/.test(t)}var Es,Ts=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function _s(t,e){return-1!=t.indexOf(e)}function Ss(t,e){return t<e?-1:t>e?1:0}t:{var As=is.navigator;if(As){var Ns=As.userAgent;if(Ns){Es=Ns;break t}}Es=""}function ks(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Cs(t){var e={};for(var n in t)e[n]=t[n];return e}var Ds="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Os(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ds.length;o++)n=Ds[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rs(t){return Rs[" "](t),t}Rs[" "]=os;var xs,Ps,Ls=_s(Es,"Opera"),Ms=_s(Es,"Trident")||_s(Es,"MSIE"),Fs=_s(Es,"Edge"),Vs=Fs||Ms,Us=_s(Es,"Gecko")&&!(_s(Es.toLowerCase(),"webkit")&&!_s(Es,"Edge"))&&!(_s(Es,"Trident")||_s(Es,"MSIE"))&&!_s(Es,"Edge"),js=_s(Es.toLowerCase(),"webkit")&&!_s(Es,"Edge");function qs(){var t=is.document;return t?t.documentMode:void 0}t:{var Bs="",Ks=(Ps=Es,Us?/rv:([^\);]+)(\)|;)/.exec(Ps):Fs?/Edge\/([\d\.]+)/.exec(Ps):Ms?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ps):js?/WebKit\/(\S+)/.exec(Ps):Ls?/(?:Version)[ \/]?(\S+)/.exec(Ps):void 0);if(Ks&&(Bs=Ks?Ks[1]:""),Ms){var Gs=qs();if(null!=Gs&&Gs>parseFloat(Bs)){xs=String(Gs);break t}}xs=Bs}var Hs,Ws={};function zs(){return function(t){var e=Ws;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=Ts(String(xs)).split("."),n=Ts("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=Ss(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Ss(0==o[2].length,0==s[2].length)||Ss(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}))}if(is.document&&Ms){var Qs=qs();Hs=Qs||(parseInt(xs,10)||void 0)}else Hs=void 0;var $s=Hs,Xs=function(){if(!is.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{is.addEventListener("test",os,e),is.removeEventListener("test",os,e)}catch(n){}return t}();function Ys(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Js(t,e){if(Ys.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Us){t:{try{Rs(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zs[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Js.Z.h.call(this)}}Ys.prototype.h=function(){this.defaultPrevented=!0},ds(Js,Ys);var Zs={2:"touch",3:"pen",4:"mouse"};Js.prototype.h=function(){Js.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ta="closure_listenable_"+(1e6*Math.random()|0),ea=0;function na(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ea,this.ca=this.fa=!1}function ra(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ia(t){this.src=t,this.g={},this.h=0}function oa(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=ms(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ra(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function sa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ia.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=sa(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new na(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var aa="closure_lm_"+(1e6*Math.random()|0),ua={};function ca(t,e,n,r,i){if(r&&r.once)return ha(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ca(t,e[o],n,r,i);return null}return n=ya(n),t&&t[ta]?t.N(e,n,as(r)?!!r.capture:!!r,i):la(t,e,n,!1,r,i)}function la(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=as(i)?!!i.capture:!!i,a=ga(t);if(a||(t[aa]=a=new ia(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=va;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xs||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(da(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ha(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ha(t,e[o],n,r,i);return null}return n=ya(n),t&&t[ta]?t.O(e,n,as(r)?!!r.capture:!!r,i):la(t,e,n,!0,r,i)}function fa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fa(t,e[o],n,r,i);else r=as(r)?!!r.capture:!!r,n=ya(n),t&&t[ta]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=sa(o=t.g[e],n,r,i))&&(ra(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=ga(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sa(e,n,r,i)),(n=-1<t?e[t]:null)&&pa(n))}function pa(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ta])oa(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(da(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ga(e))?(oa(n,t),0==n.h&&(n.src=null,e[aa]=null)):ra(t)}}}function da(t){return t in ua?ua[t]:ua[t]="on"+t}function va(t,e){if(t.ca)t=!0;else{e=new Js(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&pa(t),t=n.call(r,e)}return t}function ga(t){return(t=t[aa])instanceof ia?t:null}var ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function ya(t){return"function"==typeof t?t:(t[ma]||(t[ma]=function(e){return t.handleEvent(e)}),t[ma])}function ba(){vs.call(this),this.i=new ia(this),this.P=this,this.I=null}function wa(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Ys(e,t);else if(e instanceof Ys)e.target=e.target||t;else{var i=e;Os(e=new Ys(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ia(s,r,!0,e)&&i}if(i=Ia(s=e.g=t,r,!0,e)&&i,i=Ia(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ia(s=e.g=n[o],r,!1,e)&&i}function Ia(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&oa(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ds(ba,vs),ba.prototype[ta]=!0,ba.prototype.removeEventListener=function(t,e,n,r){fa(this,t,e,n,r)},ba.prototype.M=function(){if(ba.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ra(n[r]);delete e.g[t],e.h--}}this.I=null},ba.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ba.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ea=is.JSON.stringify;function Ta(){var t=Oa,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _a,Sa=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Aa.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Aa=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Na}),(function(t){return t.reset()})),Na=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function ka(t){is.setTimeout((function(){throw t}),0)}function Ca(t,e){_a||function(){var t=is.Promise.resolve(void 0);_a=function(){t.then(Ra)}}(),Da||(_a(),Da=!0),Oa.add(t,e)}var Da=!1,Oa=new Sa;function Ra(){for(var t;t=Ta();){try{t.h.call(t.g)}catch(n){ka(n)}var e=Aa;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Da=!1}function xa(t,e){ba.call(this),this.h=t||1,this.g=e||is,this.j=fs(this.kb,this),this.l=Date.now()}function Pa(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function La(t,e,n){if("function"==typeof t)n&&(t=fs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=fs(t.handleEvent,t)}return 2147483647<Number(e)?-1:is.setTimeout(t,e||0)}function Ma(t){t.g=La((function(){t.g=null,t.i&&(t.i=!1,Ma(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}ds(xa,ba),(es=xa.prototype).da=!1,es.S=null,es.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wa(this,"tick"),this.da&&(Pa(this),this.start()))}},es.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},es.M=function(){xa.Z.M.call(this),Pa(this),delete this.g};var Fa=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Zo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Ma(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(is.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(vs);function Va(t){vs.call(this),this.h=t,this.g={}}ds(Va,vs);var Ua=[];function ja(t,e,n,r){Array.isArray(n)||(n&&(Ua[0]=n.toString()),n=Ua);for(var i=0;i<n.length;i++){var o=ca(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function qa(t){ks(t.g,(function(t,e){this.g.hasOwnProperty(e)&&pa(t)}),t),t.g={}}function Ba(){this.g=!0}function Ka(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ea(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Va.prototype.M=function(){Va.Z.M.call(this),qa(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ba.prototype.Aa=function(){this.g=!1},Ba.prototype.info=function(){};var Ga={},Ha=null;function Wa(){return Ha=Ha||new ba}function za(t){Ys.call(this,Ga.Ma,t)}function Qa(t){var e=Wa();wa(e,new za(e,t))}function $a(t,e){Ys.call(this,Ga.STAT_EVENT,t),this.stat=e}function Xa(t){var e=Wa();wa(e,new $a(e,t))}function Ya(t,e){Ys.call(this,Ga.Na,t),this.size=e}function Ja(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return is.setTimeout((function(){t()}),e)}Ga.Ma="serverreachability",ds(za,Ys),Ga.STAT_EVENT="statevent",ds($a,Ys),Ga.Na="timingevent",ds(Ya,Ys);var Za={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function eu(){}function nu(t){return t.h||(t.h=t.i())}function ru(){}eu.prototype.h=null;var iu,ou={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function su(){Ys.call(this,"d")}function au(){Ys.call(this,"c")}function uu(){}function cu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Va(this),this.P=hu,t=Vs?125:void 0,this.W=new xa(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}ds(su,Ys),ds(au,Ys),ds(uu,eu),uu.prototype.g=function(){return new XMLHttpRequest},uu.prototype.i=function(){return{}},iu=new uu;var hu=45e3,fu={},pu={};function du(t,e,n){t.K=1,t.v=Fu(Ou(e)),t.s=n,t.U=!0,vu(t,null)}function vu(t,e){t.F=Date.now(),bu(t),t.A=Ou(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Xu(n.h,"t",r),t.C=0,n=t.l.H,t.h=new lu,t.g=Yc(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Fa(fs(t.Ia,t,t.g),t.O)),ja(t.V,t.g,"readystatechange",t.gb),e=t.H?Cs(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Qa(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function gu(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function mu(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=yu(t,n))==pu){4==e&&(t.o=4,Xa(14),i=!1),Ka(t.j,t.m,null,"[Incomplete Response]");break}if(r==fu){t.o=4,Xa(15),Ka(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Ka(t.j,t.m,r,null),_u(t,r)}gu(t)&&r!=pu&&r!=fu&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Xa(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kc(e),e.L=!0,Xa(11))):(Ka(t.j,t.m,n,"[Invalid Chunked Response]"),Tu(t),Eu(t))}function yu(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?pu:(n=Number(e.substring(n,r)),isNaN(n)?fu:(r+=1)+n>e.length?pu:(e=e.substr(r,n),t.C=r+n,e))}function bu(t){t.Y=Date.now()+t.P,wu(t,t.P)}function wu(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ja(fs(t.eb,t),e)}function Iu(t){t.B&&(is.clearTimeout(t.B),t.B=null)}function Eu(t){0==t.l.G||t.I||Wc(t.l,t)}function Tu(t){Iu(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Pa(t.W),qa(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function _u(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||rc(n.i,t)))if(n.I=t.N,!t.J&&rc(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Hc(n),Pc(n)}Bc(n),Xa(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ja(fs(n.ab,n),6e3));if(1>=nc(n.i)&&n.ka){try{n.ka()}catch(g){}n.ka=void 0}}else Qc(n,11)}else if((t.J||n.g==t)&&Hc(n),!Is(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(_s(l,"spdy")||_s(l,"quic")||_s(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ic(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Mu(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var p=t;if((r=n).oa=Xc(r,r.H?r.la:null,r.W),p.J){oc(r.i,p);var d=p,v=r.K;v&&d.setTimeout(v),d.B&&(Iu(d),bu(d)),r.g=p}else qc(r);0<n.l.length&&Fc(n)}else"stop"!=o[0]&&"close"!=o[0]||Qc(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Qc(n,7):xc(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Qa(4)}catch(g){}}function Su(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ss(t)||"string"==typeof t)ys(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(ss(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(ss(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Au(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Au)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nu(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ku(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)ku(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function ku(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(es=cu.prototype).setTimeout=function(t){this.P=t},es.gb=function(t){t=t.target;var e=this.L;e&&3==kc(t)?e.l():this.Ia(t)},es.Ia=function(t){try{if(t==this.g)t:{var e=kc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Vs||this.g&&(this.h.h||this.g.ga()||Cc(this.g)))){this.I||4!=e||7==n||Qa(8==n||0>=r?3:2),Iu(this);var i=this.g.ba();this.N=i;e:if(gu(this)){var o=Cc(this.g);t="";var s=o.length,a=4==kc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Tu(this),Eu(this);var u="";break e}this.h.i=new is.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Is(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Xa(12),Tu(this),Eu(this);break t}Ka(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_u(this,i)}this.U?(mu(this,e,u),Vs&&this.i&&3==e&&(ja(this.V,this.W,"tick",this.fb),this.W.start())):(Ka(this.j,this.m,u,null),_u(this,u)),4==e&&Tu(this),this.i&&!this.I&&(4==e?Wc(this.l,this):(this.i=!1,bu(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Xa(12)):(this.o=0,Xa(13)),Tu(this),Eu(this)}}}catch(f){}},es.fb=function(){if(this.g){var t=kc(this.g),e=this.g.ga();this.C<e.length&&(Iu(this),mu(this,t,e),this.i&&4!=t&&bu(this))}},es.cancel=function(){this.I=!0,Tu(this)},es.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Qa(3),Xa(17)),Tu(this),this.o=2,Eu(this)):wu(this,this.Y-t)},(es=Au.prototype).R=function(){Nu(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},es.T=function(){return Nu(this),this.g.concat()},es.get=function(t,e){return ku(this.h,t)?this.h[t]:e},es.set=function(t,e){ku(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},es.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Cu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Du(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Du){this.g=void 0!==e?e:t.g,Ru(this,t.j),this.s=t.s,xu(this,t.i),Pu(this,t.m),this.l=t.l,e=t.h;var n=new Wu;n.i=e.i,e.g&&(n.g=new Au(e.g),n.h=e.h),Lu(this,n),this.o=t.o}else t&&(n=String(t).match(Cu))?(this.g=!!e,Ru(this,n[1]||"",!0),this.s=Vu(n[2]||""),xu(this,n[3]||"",!0),Pu(this,n[4]),this.l=Vu(n[5]||"",!0),Lu(this,n[6]||"",!0),this.o=Vu(n[7]||"")):(this.g=!!e,this.h=new Wu(null,this.g))}function Ou(t){return new Du(t)}function Ru(t,e,n){t.j=n?Vu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xu(t,e,n){t.i=n?Vu(e,!0):e}function Pu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Lu(t,e,n){e instanceof Wu?(t.h=e,function(t,e){e&&!t.j&&(zu(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qu(this,e),Xu(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Uu(e,Gu)),t.h=new Wu(e,t.g))}function Mu(t,e,n){t.h.set(e,n)}function Fu(t){return Mu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ju),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ju(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Du.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uu(e,qu,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Uu(e,qu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Uu(n,"/"==n.charAt(0)?Ku:Bu,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uu(n,Hu)),t.join("")};var qu=/[#\/\?@]/g,Bu=/[#\?:]/g,Ku=/[#\?]/g,Gu=/[#\?@]/g,Hu=/#/g;function Wu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zu(t){t.g||(t.g=new Au,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qu(t,e){zu(t),e=Yu(t,e),ku(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ku((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Nu(t)))}function $u(t,e){return zu(t),e=Yu(t,e),ku(t.g.h,e)}function Xu(t,e,n){Qu(t,e),0<n.length&&(t.i=null,t.g.set(Yu(t,e),ws(n)),t.h+=n.length)}function Yu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(es=Wu.prototype).add=function(t,e){zu(this),this.i=null,t=Yu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},es.forEach=function(t,e){zu(this),this.g.forEach((function(n,r){ys(n,(function(n){t.call(e,n,r,this)}),this)}),this)},es.T=function(){zu(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},es.R=function(t){zu(this);var e=[];if("string"==typeof t)$u(this,t)&&(e=bs(e,this.g.get(Yu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=bs(e,t[n])}return e},es.set=function(t,e){return zu(this),this.i=null,$u(this,t=Yu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},es.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},es.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Ju=function(t,e){this.h=t,this.g=e};function Zu(t){this.l=t||tc,is.PerformanceNavigationTiming?t=0<(t=is.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(is.g&&is.g.Ea&&is.g.Ea()&&is.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tc=10;function ec(t){return!!t.h||!!t.g&&t.g.size>=t.j}function nc(t){return t.h?1:t.g?t.g.size:0}function rc(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ic(t,e){t.g?t.g.add(e):t.h=e}function oc(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function sc(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=ts(t.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ws(t.i)}function ac(){}function uc(){this.g=new ac}function cc(t,e,n){var r=n||"";try{Su(t,(function(t,n){var i=t;as(t)&&(i=Ea(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(hw){throw e.push(r+"type="+encodeURIComponent("_badmap")),hw}}function lc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function hc(t){this.l=t.$b||null,this.j=t.ib||!1}function fc(t,e){ba.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=pc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zu.prototype.cancel=function(){var t,e;if(this.i=sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ts(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},ac.prototype.stringify=function(t){return is.JSON.stringify(t,void 0)},ac.prototype.parse=function(t){return is.JSON.parse(t,void 0)},ds(hc,eu),hc.prototype.g=function(){return new fc(this.l,this.j)},hc.prototype.i=function(t){return function(){return t}}({}),ds(fc,ba);var pc=0;function dc(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function vc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gc(t)}function gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(es=fc.prototype).open=function(t,e){if(this.readyState!=pc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gc(this)},es.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||is).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},es.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vc(this)),this.readyState=pc},es.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==is.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dc(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},es.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vc(this):gc(this),3==this.readyState&&dc(this)}},es.Ua=function(t){this.g&&(this.response=this.responseText=t,vc(this))},es.Ta=function(t){this.g&&(this.response=t,vc(this))},es.ha=function(){this.g&&vc(this)},es.setRequestHeader=function(t,e){this.v.append(t,e)},es.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},es.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var mc=is.JSON.parse;function yc(t){ba.call(this),this.headers=new Au,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bc,this.K=this.L=!1}ds(yc,ba);var bc="",wc=/^https?$/i,Ic=["POST","PUT"];function Ec(t){return"content-type"==t.toLowerCase()}function Tc(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_c(t),Ac(t)}function _c(t){t.D||(t.D=!0,wa(t,"complete"),wa(t,"error"))}function Sc(t){if(t.h&&void 0!==rs&&(!t.C[1]||4!=kc(t)||2!=t.ba()))if(t.v&&4==kc(t))La(t.Fa,0,t);else if(wa(t,"readystatechange"),4==kc(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Cu)[1]||null;if(!o&&is.self&&is.self.location){var s=is.self.location.protocol;o=s.substr(0,s.length-1)}i=!wc.test(o?o.toLowerCase():"")}e=i}if(e)wa(t,"complete"),wa(t,"success");else{t.m=6;try{var a=2<kc(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",_c(t)}}finally{Ac(t)}}}function Ac(t,e){if(t.g){Nc(t);var n=t.g,r=t.C[0]?os:null;t.g=null,t.C=null,e||wa(t,"ready");try{n.onreadystatechange=r}catch(hw){}}}function Nc(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(is.clearTimeout(t.A),t.A=null)}function kc(t){return t.g?t.g.readyState:0}function Cc(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case bc:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Dc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ks(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Mu(t,e,n))}function Oc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rc(t){this.za=0,this.l=[],this.h=new Ba,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Oc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Oc("baseRetryDelayMs",5e3,t),this.$a=Oc("retryDelaySeedMs",1e4,t),this.Ya=Oc("forwardChannelMaxRetries",2,t),this.ra=Oc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Zu(t&&t.concurrentRequestLimit),this.Ca=new uc,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function xc(t){if(Lc(t),3==t.G){var e=t.V++,n=Ou(t.F);Mu(n,"SID",t.J),Mu(n,"RID",e),Mu(n,"TYPE","terminate"),Uc(t,n),(e=new cu(t,t.h,e,void 0)).K=2,e.v=Fu(Ou(n)),n=!1,is.navigator&&is.navigator.sendBeacon&&(n=is.navigator.sendBeacon(e.v.toString(),"")),!n&&is.Image&&((new Image).src=e.v,n=!0),n||(e.g=Yc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),bu(e)}$c(t)}function Pc(t){t.g&&(Kc(t),t.g.cancel(),t.g=null)}function Lc(t){Pc(t),t.u&&(is.clearTimeout(t.u),t.u=null),Hc(t),t.i.cancel(),t.m&&("number"==typeof t.m&&is.clearTimeout(t.m),t.m=null)}function Mc(t,e){t.l.push(new Ju(t.Za++,e)),3==t.G&&Fc(t)}function Fc(t){ec(t.i)||t.m||(t.m=!0,Ca(t.Ha,t),t.C=0)}function Vc(t,e){var n;n=e?e.m:t.V++;var r=Ou(t.F);Mu(r,"SID",t.J),Mu(r,"RID",n),Mu(r,"AID",t.U),Uc(t,r),t.o&&t.s&&Dc(r,t.o,t.s),n=new cu(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=jc(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ic(t.i,n),du(n,r,e)}function Uc(t,e){t.j&&Su({},(function(t,n){Mu(e,n,t)}))}function jc(t,e,n){n=Math.min(t.l.length,n);var r=t.j?fs(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{cc(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function qc(t){t.g||t.u||(t.Y=1,Ca(t.Ga,t),t.A=0)}function Bc(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=Ja(fs(t.Ga,t),zc(t,t.A)),t.A++,!0)}function Kc(t){null!=t.B&&(is.clearTimeout(t.B),t.B=null)}function Gc(t){t.g=new cu(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ou(t.oa);Mu(e,"RID","rpc"),Mu(e,"SID",t.J),Mu(e,"CI",t.N?"0":"1"),Mu(e,"AID",t.U),Uc(t,e),Mu(e,"TYPE","xmlhttp"),t.o&&t.s&&Dc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Fu(Ou(e)),n.s=null,n.U=!0,vu(n,t)}function Hc(t){null!=t.v&&(is.clearTimeout(t.v),t.v=null)}function Wc(t,e){var n=null;if(t.g==e){Hc(t),Kc(t),t.g=null;var r=2}else{if(!rc(t.i,e))return;n=e.D,oc(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;wa(r=Wa(),new Ya(r,n,e,i)),Fc(t)}else qc(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(nc(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ja(fs(t.Ha,t,e),zc(t,t.C)),t.C++,0)))}(t,e)||2==r&&Bc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qc(t,5);break;case 4:Qc(t,10);break;case 3:Qc(t,6);break;default:Qc(t,2)}}function zc(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Qc(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=fs(t.jb,t);n||(n=new Du("//www.google.com/images/cleardot.gif"),is.location&&"http"==is.location.protocol||Ru(n,"https"),Fu(n)),function(t,e){var n=new Ba;if(is.Image){var r=new Image;r.onload=ps(lc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ps(lc,n,r,"TestLoadImage: error",!1,e),r.onabort=ps(lc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ps(lc,n,r,"TestLoadImage: timeout",!1,e),is.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xa(2);t.G=0,t.j&&t.j.va(e),$c(t),Lc(t)}function $c(t){t.G=0,t.I=-1,t.j&&(0==sc(t.i).length&&0==t.l.length||(t.i.i.length=0,ws(t.l),t.l.length=0),t.j.ua())}function Xc(t,e,n){var r=function(t){return t instanceof Du?Ou(t):new Du(t,void 0)}(n);if(""!=r.i)e&&xu(r,e+"."+r.i),Pu(r,r.m);else{var i=is.location;r=function(t,e,n,r){var i=new Du(null,void 0);return t&&Ru(i,t),e&&xu(i,e),n&&Pu(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&ks(t.aa,(function(t,e){Mu(r,e,t)})),e=t.D,n=t.sa,e&&n&&Mu(r,e,n),Mu(r,"VER",t.ma),Uc(t,r),r}function Yc(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new yc(new hc({ib:!0})):new yc(t.qa)).L=t.H,e}function Jc(){}function Zc(){if(Ms&&!(10<=Number($s)))throw Error("Environmental error: no available transport.")}function tl(t,e){ba.call(this),this.g=new Rc(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Is(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Is(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new rl(this)}function el(t){su.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function nl(){au.call(this),this.status=1}function rl(t){this.g=t}(es=yc.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():iu.g(),this.C=this.u?nu(this.u):nu(iu),this.g.onreadystatechange=fs(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Tc(this,o)}t=n||"";var i=new Au(this.headers);r&&Su(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ec,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=is.FormData&&t instanceof is.FormData,!(0<=ms(Ic,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nc(this),0<this.B&&((this.K=function(t){return Ms&&zs()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fs(this.pa,this)):this.A=La(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Tc(this,o)}},es.pa=function(){void 0!==rs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wa(this,"timeout"),this.abort(8))},es.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,wa(this,"complete"),wa(this,"abort"),Ac(this))},es.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ac(this,!0)),yc.Z.M.call(this)},es.Fa=function(){this.s||(this.F||this.v||this.l?Sc(this):this.cb())},es.cb=function(){Sc(this)},es.ba=function(){try{return 2<kc(this)?this.g.status:-1}catch(Ps){return-1}},es.ga=function(){try{return this.g?this.g.responseText:""}catch(Ps){return""}},es.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mc(e)}},es.Da=function(){return this.m},es.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(es=Rc.prototype).ma=8,es.G=1,es.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},es.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new cu(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Os(n=Cs(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=jc(this,e,r),Mu(i=Ou(this.F),"RID",t),Mu(i,"CVER",22),this.D&&Mu(i,"X-HTTP-Session-Id",this.D),Uc(this,i),this.o&&n&&Dc(i,this.o,n),ic(this.i,e),this.Ra&&Mu(i,"TYPE","init"),this.ja?(Mu(i,"$req",r),Mu(i,"SID","null"),e.$=!0,du(e,i,null)):du(e,i,r),this.G=2}}else 3==this.G&&(t?Vc(this,t):0==this.l.length||ec(this.i)||Vc(this))},es.Ga=function(){if(this.u=null,Gc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ja(fs(this.bb,this),t)}},es.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xa(10),Pc(this),Gc(this))},es.ab=function(){null!=this.v&&(this.v=null,Pc(this),Bc(this),Xa(19))},es.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Xa(2)):(this.h.info("Failed to ping google.com"),Xa(1))},(es=Jc.prototype).xa=function(){},es.wa=function(){},es.va=function(){},es.ua=function(){},es.Oa=function(){},Zc.prototype.g=function(t,e){return new tl(t,e)},ds(tl,ba),tl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ca(fs(t.hb,t,e))),Xa(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Xc(t,null,t.W),Fc(t)},tl.prototype.close=function(){xc(this.g)},tl.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Mc(this.g,e)}else this.v?((e={}).__data__=Ea(t),Mc(this.g,e)):Mc(this.g,t)},tl.prototype.M=function(){this.g.j=null,delete this.j,xc(this.g),delete this.g,tl.Z.M.call(this)},ds(el,su),ds(nl,au),ds(rl,Jc),rl.prototype.xa=function(){wa(this.g,"a")},rl.prototype.wa=function(t){wa(this.g,new el(t))},rl.prototype.va=function(t){wa(this.g,new nl(t))},rl.prototype.ua=function(){wa(this.g,"b")},Zc.prototype.createWebChannel=Zc.prototype.g,tl.prototype.send=tl.prototype.u,tl.prototype.open=tl.prototype.m,tl.prototype.close=tl.prototype.close,Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,tu.COMPLETE="complete",ru.EventType=ou,ou.OPEN="a",ou.CLOSE="b",ou.ERROR="c",ou.MESSAGE="d",ba.prototype.listen=ba.prototype.N,yc.prototype.listenOnce=yc.prototype.O,yc.prototype.getLastError=yc.prototype.La,yc.prototype.getLastErrorCode=yc.prototype.Da,yc.prototype.getStatus=yc.prototype.ba,yc.prototype.getResponseJson=yc.prototype.Qa,yc.prototype.getResponseText=yc.prototype.ga,yc.prototype.send=yc.prototype.ea;var il=Za,ol=tu,sl=Ga,al=10,ul=11,cl=hc,ll=ru,hl=yc,fl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();fl.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return to(e,t),e}(Error),vl=new Fo("@firebase/firestore");function gl(){return vl.logLevel}function ml(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vl.logLevel<=Co.DEBUG){var r=e.map(wl);vl.debug.apply(vl,so(["Firestore (8.10.0): "+t],r))}}function yl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vl.logLevel<=Co.ERROR){var r=e.map(wl);vl.error.apply(vl,so(["Firestore (8.10.0): "+t],r))}}function bl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vl.logLevel<=Co.WARN){var r=e.map(wl);vl.warn.apply(vl,so(["Firestore (8.10.0): "+t],r))}}function wl(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw yl(e),new Error(e)}function El(t,e){t||Il()}function Tl(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=_l(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Al(t,e){return t<e?-1:t>e?1:0}function Nl(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function kl(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dl(pl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dl(pl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new dl(pl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dl(pl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Al(this.nanoseconds,t.nanoseconds):Al(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Dl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Cl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Il(),void 0===n?n=t.length-e:n>t.length-e&&Il(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return to(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new dl(pl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Pl),Ml=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return to(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ml.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new dl(pl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new dl(pl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new dl(pl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new dl(pl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Pl),Vl=function(){function t(t){this.fields=t,t.sort(Fl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Nl(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ul=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Al(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ul.EMPTY_BYTE_STRING=new Ul("");var jl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ql(t){if(El(!!t),"string"==typeof t){var e=0,n=jl.exec(t);if(El(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bl(t.seconds),nanos:Bl(t.nanos)}}function Bl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Kl(t){return"string"==typeof t?Ul.fromBase64String(t):Ul.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hl(t){var e=t.mapValue.fields.__previous_value__;return Gl(e)?Hl(e):e}function Wl(t){var e=ql(t.mapValue.fields.__local_write_time__.timestampValue);return new Cl(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){return null==t}function Ql(t){return 0===t&&1/t==-1/0}function $l(t){return"number"==typeof t&&Number.isInteger(t)&&!Ql(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ll.fromString(e))},t.fromName=function(e){return new t(Ll.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ll.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ll.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ll(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gl(t)?4:10:Il()}function Jl(t,e){var n,r=Yl(t);if(r!==Yl(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wl(t).isEqual(Wl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ql(t.timestampValue),r=ql(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,Kl(t.bytesValue).isEqual(Kl(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Bl(t.geoPointValue.latitude)===Bl(e.geoPointValue.latitude)&&Bl(t.geoPointValue.longitude)===Bl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Bl(t.integerValue)===Bl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Bl(t.doubleValue),r=Bl(e.doubleValue);return n===r?Ql(n)===Ql(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Nl(t.arrayValue.values||[],e.arrayValue.values||[],Jl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ol(n)!==Ol(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jl(n[i],r[i])))return!1;return!0}(t,e);default:return Il()}}function Zl(t,e){return void 0!==(t.values||[]).find((function(t){return Jl(t,e)}))}function th(t,e){var n,r,i,o,s=Yl(t),a=Yl(e);if(s!==a)return Al(s,a);switch(s){case 0:return 0;case 1:return Al(t.booleanValue,e.booleanValue);case 2:return r=e,i=Bl((n=t).integerValue||n.doubleValue),o=Bl(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return eh(t.timestampValue,e.timestampValue);case 4:return eh(Wl(t),Wl(e));case 5:return Al(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Kl(t),r=Kl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Al(n[i],r[i]);if(0!==o)return o}return Al(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Al(Bl(t.latitude),Bl(e.latitude));return 0!==n?n:Al(Bl(t.longitude),Bl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=th(n[i],r[i]);if(o)return o}return Al(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Al(r[s],o[s]);if(0!==a)return a;var u=th(n[r[s]],i[o[s]]);if(0!==u)return u}return Al(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Il()}}function eh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Al(t,e);var n=ql(t),r=ql(e),i=Al(n.seconds,r.seconds);return 0!==i?i:Al(n.nanos,r.nanos)}function nh(t){return rh(t)}function rh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=ql(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?Kl(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,Xl.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=rh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+rh(t.fields[o])}return e+"}"}(t.mapValue):Il();var e,n,r,i}function ih(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function oh(t){return!!t&&"integerValue"in t}function sh(t){return!!t&&"arrayValue"in t}function ah(t){return!!t&&"nullValue"in t}function uh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ch(t){return!!t&&"mapValue"in t}function lh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Rl(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=lh(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=lh(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hh=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!ch(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=lh(e)},t.prototype.setAll=function(t){var e=this,n=Fl.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=lh(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());ch(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Jl(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];ch(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Rl(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(lh(this.value))},t}();function fh(t){var e=[];return Rl(t.fields,(function(t,n){var r=new Fl([t]);if(ch(n)){var i=fh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Vl(e)}var ph=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Dl.min(),hh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,hh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,hh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=hh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=hh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),dh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new dh(t,e,n,r,i,o,s)}function gh(t){var e=Tl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+nh(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),zl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ch(e.startAt)),e.endAt&&(n+="|ub:",n+=Ch(e.endAt)),e.h=n}return e.h}function mh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Oh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Jl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xh(t.startAt,e.startAt)&&xh(t.endAt,e.endAt)}function yh(t){return Xl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var bh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return to(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new wh(t,n,r):"array-contains"===n?new _h(t,r):"in"===n?new Sh(t,r):"not-in"===n?new Ah(t,r):"array-contains-any"===n?new Nh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ih(t,n):new Eh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(th(e,this.value)):null!==e&&Yl(this.value)===Yl(e)&&this.m(th(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Il()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),wh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Xl.fromName(r.referenceValue),i}return to(e,t),e.prototype.matches=function(t){var e=Xl.comparator(t.key,this.key);return this.m(e)},e}(bh),Ih=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Th("in",n),r}return to(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(bh),Eh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Th("not-in",n),r}return to(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(bh);function Th(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Xl.fromName(t.referenceValue)}))}var _h=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return to(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return sh(e)&&Zl(e.arrayValue,this.value)},e}(bh),Sh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return to(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Zl(this.value.arrayValue,e)},e}(bh),Ah=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return to(e,t),e.prototype.matches=function(t){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Zl(this.value.arrayValue,e)},e}(bh),Nh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return to(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!sh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Zl(e.value.arrayValue,t)}))},e}(bh),kh=function(t,e){this.position=t,this.before=e};function Ch(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return nh(t)})).join(",")}var Dh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Oh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Rh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Xl.comparator(Xl.fromName(s.referenceValue),n.key):th(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function xh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Jl(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ph=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Lh(t,e,n,r,i,o,s,a){return new Ph(t,e,n,r,i,o,s,a)}function Mh(t){return new Ph(t)}function Fh(t){return!zl(t.limit)&&"F"===t.limitType}function Vh(t){return!zl(t.limit)&&"L"===t.limitType}function Uh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function qh(t){return null!==t.collectionGroup}function Bh(t){var e=Tl(t);if(null===e.p){e.p=[];var n=jh(e),r=Uh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Dh(n)),e.p.push(new Dh(Fl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Dh(Fl.keyField(),u))}}}return e.p}function Kh(t){var e=Tl(t);if(!e.T)if("F"===e.limitType)e.T=vh(e.path,e.collectionGroup,Bh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Bh(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Dh(o.field,s))}var a=e.endAt?new kh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new kh(e.startAt.position,!e.startAt.before):null;e.T=vh(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Gh(t,e,n){return new Ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hh(t,e){return mh(Kh(t),Kh(e))&&t.limitType===e.limitType}function Wh(t){return gh(Kh(t))+"|lt:"+t.limitType}function zh(t){return"Query(target="+(e=Kh(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+nh(e.value);var e})).join(", ")+"]"),zl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Ch(e.startAt)),e.endAt&&(n+=", endAt: "+Ch(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function Qh(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Xl.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Rh(t.startAt,Bh(t),e)||t.endAt&&Rh(t.endAt,Bh(t),e))}(t,e);var n,r,i}function $h(t){return function(e,n){for(var r=!1,i=0,o=Bh(t);i<o.length;i++){var s=o[i],a=Xh(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Xh(t,e,n){var r,i,o,s,a=t.field.isKeyField()?Xl.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),s=i.data.field(r),null!==o&&null!==s?th(o,s):Il());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return Il()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ql(e)?"-0":e}}function Jh(t){return{integerValue:""+t}}function Zh(t,e){return $l(e)?Jh(e):Yh(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tf=function(){this._=void 0};function ef(t,e,n){return t instanceof of?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof sf?af(t,e):t instanceof uf?cf(t,e):function(t,e){var n=rf(t,e),r=hf(n)+hf(t.A);return oh(n)&&oh(t.A)?Jh(r):Yh(t.R,r)}(t,e);var r,i,o}function nf(t,e,n){return t instanceof sf?af(t,e):t instanceof uf?cf(t,e):n}function rf(t,e){return t instanceof lf?oh(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return to(e,t),e}(tf),sf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return to(e,t),e}(tf);function af(t,e){for(var n=ff(e),r=function(t){n.some((function(e){return Jl(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var uf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return to(e,t),e}(tf);function cf(t,e){for(var n=ff(e),r=function(t){n=n.filter((function(e){return!Jl(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var lf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return to(e,t),e}(tf);function hf(t){return Bl(t.integerValue||t.doubleValue)}function ff(t){return sh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pf=function(t,e){this.field=t,this.transform=e},df=function(t,e){this.version=t,this.transformResults=e},vf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function gf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var mf=function(){};function yf(t,e,n){var r,i,o,s,a;t instanceof Tf?(i=e,o=n,s=(r=t).value.clone(),a=Af(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof _f?function(t,e,n){if(gf(t.precondition,e)){var r=Af(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Sf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function bf(t,e,n){var r;t instanceof Tf?function(t,e,n){if(gf(t.precondition,e)){var r=t.value.clone(),i=Nf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ef(e),r).setHasLocalMutations()}}(t,e,n):t instanceof _f?function(t,e,n){if(gf(t.precondition,e)){var r=Nf(t.fieldTransforms,n,e),i=e.data;i.setAll(Sf(t)),i.setAll(r),e.convertToFoundDocument(Ef(e),i).setHasLocalMutations()}}(t,e,n):(r=e,gf(t.precondition,r)&&r.convertToNoDocument(Dl.min()))}function wf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=rf(o.transform,s||null);null!=a&&(null==n&&(n=hh.empty()),n.set(o.field,a))}return n||null}function If(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Nl(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof sf&&o instanceof sf||i instanceof uf&&o instanceof uf?Nl(i.elements,o.elements,Jl):i instanceof lf&&o instanceof lf?Jl(i.A,o.A):i instanceof of&&o instanceof of);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function Ef(t){return t.isFoundDocument()?t.version:Dl.min()}var Tf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return to(e,t),e}(mf),_f=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return to(e,t),e}(mf);function Sf(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Af(t,e,n){var r=new Map;El(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,nf(s,a,n[i]))}return r}function Nf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,ef(a,u,e))}return r}var kf,Cf,Df=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return to(e,t),e}(mf),Of=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return to(e,t),e}(mf),Rf=function(t){this.count=t};function xf(t){switch(t){case pl.OK:return Il();case pl.CANCELLED:case pl.UNKNOWN:case pl.DEADLINE_EXCEEDED:case pl.RESOURCE_EXHAUSTED:case pl.INTERNAL:case pl.UNAVAILABLE:case pl.UNAUTHENTICATED:return!1;case pl.INVALID_ARGUMENT:case pl.NOT_FOUND:case pl.ALREADY_EXISTS:case pl.PERMISSION_DENIED:case pl.FAILED_PRECONDITION:case pl.ABORTED:case pl.OUT_OF_RANGE:case pl.UNIMPLEMENTED:case pl.DATA_LOSS:return!0;default:return Il()}}function Pf(t){if(void 0===t)return yl("GRPC error has no .code"),pl.UNKNOWN;switch(t){case kf.OK:return pl.OK;case kf.CANCELLED:return pl.CANCELLED;case kf.UNKNOWN:return pl.UNKNOWN;case kf.DEADLINE_EXCEEDED:return pl.DEADLINE_EXCEEDED;case kf.RESOURCE_EXHAUSTED:return pl.RESOURCE_EXHAUSTED;case kf.INTERNAL:return pl.INTERNAL;case kf.UNAVAILABLE:return pl.UNAVAILABLE;case kf.UNAUTHENTICATED:return pl.UNAUTHENTICATED;case kf.INVALID_ARGUMENT:return pl.INVALID_ARGUMENT;case kf.NOT_FOUND:return pl.NOT_FOUND;case kf.ALREADY_EXISTS:return pl.ALREADY_EXISTS;case kf.PERMISSION_DENIED:return pl.PERMISSION_DENIED;case kf.FAILED_PRECONDITION:return pl.FAILED_PRECONDITION;case kf.ABORTED:return pl.ABORTED;case kf.OUT_OF_RANGE:return pl.OUT_OF_RANGE;case kf.UNIMPLEMENTED:return pl.UNIMPLEMENTED;case kf.DATA_LOSS:return pl.DATA_LOSS;default:return Il()}}(Cf=kf||(kf={}))[Cf.OK=0]="OK",Cf[Cf.CANCELLED=1]="CANCELLED",Cf[Cf.UNKNOWN=2]="UNKNOWN",Cf[Cf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cf[Cf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cf[Cf.NOT_FOUND=5]="NOT_FOUND",Cf[Cf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cf[Cf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cf[Cf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cf[Cf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cf[Cf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cf[Cf.ABORTED=10]="ABORTED",Cf[Cf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cf[Cf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cf[Cf.INTERNAL=13]="INTERNAL",Cf[Cf.UNAVAILABLE=14]="UNAVAILABLE",Cf[Cf.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Lf=function(){function t(t,e){this.comparator=t,this.root=e||Ff.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ff.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ff.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Mf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Mf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Mf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Mf(this.root,t,this.comparator,!0)},t}(),Mf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ff=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Il();if(this.right.isRed())throw Il();var t=this.left.check();if(t!==this.right.check())throw Il();return t+(this.isRed()?0:1)},t}();Ff.EMPTY=null,Ff.RED=!0,Ff.BLACK=!1,Ff.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Il()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Il()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Il()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Il()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Il()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ff(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vf=function(){function t(t){this.comparator=t,this.data=new Lf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Uf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Uf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Uf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),jf=new Lf(Xl.comparator);function qf(){return jf}var Bf=new Lf(Xl.comparator);function Kf(){return Bf}var Gf=new Lf(Xl.comparator);var Hf=new Vf(Xl.comparator);function Wf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Hf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var zf=new Vf(Al);function Qf(){return zf}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $f=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Dl.min(),r,Qf(),qf(),Wf())},t}(),Xf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ul.EMPTY_BYTE_STRING,n,Wf(),Wf(),Wf())},t}(),Yf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Jf=function(t,e){this.targetId=t,this.V=e},Zf=function(t,e,n,r){void 0===n&&(n=Ul.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},tp=function(){function t(){this.S=0,this.D=rp(),this.C=Ul.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Wf(),e=Wf(),n=Wf();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Il()}})),new Xf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=rp()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),ep=function(){function t(t){this.W=t,this.G=new Map,this.H=qf(),this.J=np(),this.Y=new Vf(Al)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Il()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(yh(i))if(0===n){var o=new Xl(i.path);this.tt(e,o,ph.newNoDocument(o,Dl.min()))}else El(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&yh(o.target)){var s=new Xl(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,ph.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Wf();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new $f(t,n,this.Y,this.H,r);return this.H=qf(),this.J=np(),this.Y=new Vf(Al),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new tp,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Vf(Al),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ml("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new tp),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function np(){return new Lf(Xl.comparator)}function rp(){return new Lf(Xl.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip={asc:"ASCENDING",desc:"DESCENDING"},op={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sp=function(t,e){this.databaseId=t,this.I=e};function ap(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function up(t,e){return t.I?e.toBase64():e.toUint8Array()}function cp(t,e){return ap(t,e.toTimestamp())}function lp(t){return El(!!t),Dl.fromTimestamp((e=ql(t),new Cl(e.seconds,e.nanos)));var e}function hp(t,e){return(n=t,new Ll(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function fp(t){var e=Ll.fromString(t);return El(Lp(e)),e}function pp(t,e){return hp(t.databaseId,e.path)}function dp(t,e){var n=fp(e);if(n.get(1)!==t.databaseId.projectId)throw new dl(pl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new dl(pl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xl(yp(n))}function vp(t,e){return hp(t.databaseId,e)}function gp(t){var e=fp(t);return 4===e.length?Ll.emptyPath():yp(e)}function mp(t){return new Ll(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yp(t){return El(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function bp(t,e,n){return{name:pp(t,e),fields:n.value.mapValue.fields}}function wp(t,e){var n,r,i;if(e instanceof Tf)n={update:bp(t,e.key,e.value)};else if(e instanceof Df)n={delete:pp(t,e.key)};else if(e instanceof _f)n={update:bp(t,e.key,e.data),updateMask:Pp(e.fieldMask)};else{if(!(e instanceof Of))return Il();n={verify:pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof of)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof uf)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Il()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:cp(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Il())),n}function Ip(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?vf.updateTime(lp(n.updateTime)):void 0!==n.exists?vf.exists(n.exists):vf.none():vf.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)El("REQUEST_TIME"===e.setToServerValue),n=new of;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new sf(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new uf(i)}else"increment"in e?n=new lf(t,e.increment):Il();var o=Fl.fromServerFormat(e.fieldPath);return new pf(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=dp(t,e.update.name),s=new hh({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Vl(e.map((function(t){return Fl.fromServerFormat(t)})))}(e.updateMask);return new _f(o,s,a,r,i)}return new Tf(o,s,r,i)}if(e.delete){var u=dp(t,e.delete);return new Df(u,r)}if(e.verify){var c=dp(t,e.verify);return new Of(c,r)}return Il()}function Ep(t,e){return{documents:[vp(t,e.path)]}}function Tp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=vp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(uh(t.value))return{unaryFilter:{field:Dp(t.field),op:"IS_NAN"}};if(ah(t.value))return{unaryFilter:{field:Dp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(uh(t.value))return{unaryFilter:{field:Dp(t.field),op:"IS_NOT_NAN"}};if(ah(t.value))return{unaryFilter:{field:Dp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dp(t.field),op:Cp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Dp((e=t).field),direction:kp(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.I||zl(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Ap(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ap(e.endAt)),n}function _p(t){var e=gp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){El(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Sp(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new Dh(Op((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=zl(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=Np(n.startAt));var f=null;return n.endAt&&(f=Np(n.endAt)),Lh(e,i,a,s,l,"F",h,f)}function Sp(t){return t?void 0!==t.unaryFilter?[xp(t)]:void 0!==t.fieldFilter?[Rp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Sp(t)})).reduce((function(t,e){return t.concat(e)})):Il():[]}function Ap(t){return{before:t.before,values:t.position}}function Np(t){var e=!!t.before,n=t.values||[];return new kh(n,e)}function kp(t){return ip[t]}function Cp(t){return op[t]}function Dp(t){return{fieldPath:t.canonicalString()}}function Op(t){return Fl.fromServerFormat(t.fieldPath)}function Rp(t){return bh.create(Op(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Il()}}(t.fieldFilter.op),t.fieldFilter.value)}function xp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Op(t.unaryFilter.field);return bh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Op(t.unaryFilter.field);return bh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Op(t.unaryFilter.field);return bh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Op(t.unaryFilter.field);return bh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Il()}}function Pp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Lp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Vp(e)),e=Fp(t.get(n),e);return Vp(e)}function Fp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Vp(t){return t+""}function Up(t){var e=t.length;if(El(e>=2),2===e)return El(""===t.charAt(0)&&""===t.charAt(1)),Ll.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Il(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Il()}o=s+2}return new Ll(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jp=function(t,e){this.seconds=t,this.nanoseconds=e},qp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};qp.store="owner",qp.key="owner";var Bp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Bp.store="mutationQueues",Bp.keyPath="userId";var Kp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Kp.store="mutations",Kp.keyPath="batchId",Kp.userMutationsIndex="userMutationsIndex",Kp.userMutationsKeyPath=["userId","batchId"];var Gp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Mp(e)]},t.key=function(t,e,n){return[t,Mp(e),n]},t}();Gp.store="documentMutations",Gp.PLACEHOLDER=new Gp;var Hp=function(t,e){this.path=t,this.readTime=e},Wp=function(t,e){this.path=t,this.version=e},zp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};zp.store="remoteDocuments",zp.readTimeIndex="readTimeIndex",zp.readTimeIndexPath="readTime",zp.collectionReadTimeIndex="collectionReadTimeIndex",zp.collectionReadTimeIndexPath=["parentPath","readTime"];var Qp=function(t){this.byteSize=t};Qp.store="remoteDocumentGlobal",Qp.key="remoteDocumentGlobalKey";var $p=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};$p.store="targets",$p.keyPath="targetId",$p.queryTargetsIndexName="queryTargetsIndex",$p.queryTargetsKeyPath=["canonicalId","targetId"];var Xp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Xp.store="targetDocuments",Xp.keyPath=["targetId","path"],Xp.documentTargetsIndex="documentTargetsIndex",Xp.documentTargetsKeyPath=["path","targetId"];var Yp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Yp.key="targetGlobalKey",Yp.store="targetGlobal";var Jp=function(t,e){this.collectionId=t,this.parent=e};Jp.store="collectionParents",Jp.keyPath=["collectionId","parent"];var Zp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Zp.store="clientMetadata",Zp.keyPath="clientId";var td=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};td.store="bundles",td.keyPath="bundleId";var ed=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ed.store="namedQueries",ed.keyPath="name";var nd=so(so([],so(so([],so(so([],so(so([],[Bp.store,Kp.store,Gp.store,zp.store,$p.store,qp.store,Yp.store,Xp.store]),[Zp.store])),[Qp.store])),[Jp.store])),[td.store,ed.store]),rd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",id=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),od=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},sd=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Il(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),ad=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new od,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ld(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=vd(e.target.error);n.ft.reject(new ld(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new ld(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ml("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new fd(e)},t}(),ud=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(fo())&&yl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ml("SimpleDb","Removing database:",t),pd(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=fo(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return no(this,void 0,void 0,(function(){var e,n=this;return ro(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ml("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ld(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new dl(pl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ld(t,n))},i.onupgradeneeded=function(t){ml("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){ml("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return no(this,void 0,void 0,(function(){var i,o,s,a,u;return ro(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return ro(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=ad.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),sd.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,ml("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),cd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return pd(this.Pt.delete())},t}(),ld=function(t){function e(e,n){var r=this;return(r=t.call(this,pl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return to(e,t),e}(dl);function hd(t){return"IndexedDbTransactionError"===t.name}var fd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ml("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ml("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),pd(n)},t.prototype.add=function(t){return ml("SimpleDb","ADD",this.store.name,t,t),pd(this.store.add(t))},t.prototype.get=function(t){var e=this;return pd(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ml("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ml("SimpleDb","DELETE",this.store.name,t),pd(this.store.delete(t))},t.prototype.count=function(){return ml("SimpleDb","COUNT",this.store.name),pd(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){ml("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new sd((function(n,r){e.onerror=function(t){var e=vd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new sd((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new cd(i),s=e(i.primaryKey,i.value,o);if(s instanceof sd){var a=s.catch((function(t){return o.done(),sd.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return sd.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function pd(t){return new sd((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=vd(t.target.error);n(e)}}))}var dd=!1;function vd(t){var e=ud._t(fo());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new dl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return dd||(dd=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return to(e,t),e}(id);function md(t,e){var n=Tl(t);return ud.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&yf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&bf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&bf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Dl.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Wf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Nl(this.mutations,t.mutations,(function(t,e){return If(t,e)}))&&Nl(this.baseMutations,t.baseMutations,(function(t,e){return If(t,e)}))},t}(),bd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){El(e.mutations.length===r.length);for(var i=Gf,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),wd=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Dl.min()),void 0===o&&(o=Dl.min()),void 0===s&&(s=Ul.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Id=function(t){this.Lt=t};function Ed(t,e){if(e.document)return function(t,e,n){var r=dp(t,e.name),i=lp(e.updateTime),o=new hh({mapValue:{fields:e.fields}}),s=ph.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Xl.fromSegments(e.noDocument.path),r=Nd(e.noDocument.readTime),i=ph.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Xl.fromSegments(e.unknownDocument.path);return r=Nd(e.unknownDocument.version),ph.newUnknownDocument(o,r)}return Il()}function Td(t,e,n){var r,i,o=_d(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:pp(r=t.Lt,(i=e).key),fields:i.data.value.mapValue.fields,updateTime:ap(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new zp(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=Ad(e.version);return u=e.hasCommittedMutations,new zp(null,new Hp(c,l),null,u,o,s)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=Ad(e.version);return new zp(new Wp(h,f),null,null,!0,o,s)}return Il()}function _d(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Sd(t){var e=new Cl(t[0],t[1]);return Dl.fromTimestamp(e)}function Ad(t){var e=t.toTimestamp();return new jp(e.seconds,e.nanoseconds)}function Nd(t){var e=new Cl(t.seconds,t.nanoseconds);return Dl.fromTimestamp(e)}function kd(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Ip(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return Ip(t.Lt,e)})),a=Cl.fromMillis(e.localWriteTimeMs);return new yd(e.batchId,a,n,s)}function Cd(t){var e,n,r=Nd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Nd(t.lastLimboFreeSnapshotVersion):Dl.min();return void 0!==t.query.documents?(El(1===(n=t.query).documents.length),e=Kh(Mh(gp(n.documents[0])))):e=Kh(_p(t.query)),new wd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ul.fromBase64String(t.resumeToken))}function Dd(t,e){var n,r=Ad(e.snapshotVersion),i=Ad(e.lastLimboFreeSnapshotVersion);n=yh(e.target)?Ep(t.Lt,e.target):Tp(t.Lt,e.target);var o=e.resumeToken.toBase64();return new $p(e.targetId,gh(e.target),r,o,e.sequenceNumber,i,n)}function Od(t){var e=_p({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gh(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return xd(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Nd(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return xd(t).put({bundleId:(n=e).id,createTime:Ad(lp(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Pd(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Od(e.bundledQuery),readTime:Nd(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Pd(t).put({name:(n=e).name,readTime:Ad(lp(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function xd(t){return md(t,td.store)}function Pd(t){return md(t,ed.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ld=function(){function t(){this.Bt=new Md}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),sd.resolve()},t.prototype.getCollectionParents=function(t,e){return sd.resolve(this.Bt.getEntries(e))},t}(),Md=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Vf(Ll.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Vf(Ll.comparator)).toArray()},t}(),Fd=function(){function t(){this.qt=new Md}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Mp(i)};return Vd(t).put(o)}return sd.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[kl(e),""],!1,!0);return Vd(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Up(o.parent))}return n}))},t}();function Vd(t){return md(t,Jp.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ud={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t,e,n){var r=t.store(Kp.store),i=t.store(Gp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){El(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Gp.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return sd.waitFor(o).next((function(){return c}))}function Bd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Il();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jd.DEFAULT_COLLECTION_PERCENTILE=10,jd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jd.DEFAULT=new jd(41943040,jd.DEFAULT_COLLECTION_PERCENTILE,jd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jd.DISABLED=new jd(-1,0,0);var Kd=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return El(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hd(t).$t({index:Kp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Wd(t),s=Hd(t);return s.add({}).next((function(a){El("number"==typeof a);for(var u=new yd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return wp(t.Lt,e)})),i=n.mutations.map((function(e){return wp(t.Lt,e)}));return new Kp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Vf((function(t,e){return Al(t.canonicalString(),e.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Gp.key(i.userId,d.key.path,a);h=h.add(d.key.path.popLast()),l.push(s.put(c)),l.push(o.put(v,Gp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=u.keys()})),sd.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Hd(t).get(e).next((function(t){return t?(El(t.userId===n.userId),kd(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?sd.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Hd(t).$t({index:Kp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(El(e.batchId>=r),o=kd(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Hd(t).$t({index:Kp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hd(t).Nt(Kp.userMutationsIndex,n).next((function(t){return t.map((function(t){return kd(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Gp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Wd(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=Up(u);if(a===n.userId&&e.path.isEqual(l))return Hd(t).get(c).next((function(t){if(!t)throw Il();El(t.userId===n.userId),o.push(kd(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Vf(Al),i=[];return e.forEach((function(e){var o=Gp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Wd(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Up(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),sd.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Gp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Vf(Al);return Wd(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=Up(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Hd(t).get(e).next((function(t){if(null===t)throw Il();El(t.userId===n.userId),r.push(kd(n.R,t))})))})),sd.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return qd(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),sd.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return sd.resolve();var r=IDBKeyRange.lowerBound(Gp.prefixForUser(e.userId)),i=[];return Wd(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Up(t[1]);i.push(o)}else r.done()})).next((function(){El(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Gd(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return zd(t).get(this.userId).next((function(t){return t||new Bp(e.userId,-1,"")}))},t}();function Gd(t,e,n){var r=Gp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Wd(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Hd(t){return md(t,Kp.store)}function Wd(t){return md(t,Gp.store)}function zd(t){return md(t,Bp.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),$d=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Qd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Dl.fromTimestamp(new Cl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Xd(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return El(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Xd(t).$t((function(s,a){var u=Cd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return sd.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Xd(t).$t((function(t,n){var r=Cd(n);e(r)}))},t.prototype.Xt=function(t){return Yd(t).get(Yp.key).next((function(t){return El(null!==t),t}))},t.prototype.Zt=function(t,e){return Yd(t).put(Yp.key,e)},t.prototype.te=function(t,e){return Xd(t).put(Dd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=gh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xd(t).$t({range:r,index:$p.queryTargetsIndexName},(function(t,n,r){var o=Cd(n);mh(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Jd(t);return e.forEach((function(e){var s=Mp(e.path);i.push(o.put(new Xp(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),sd.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Jd(t);return sd.forEach(e,(function(e){var o=Mp(e.path);return sd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Jd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Jd(t),i=Wf();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Up(t[1]),o=new Xl(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Mp(e.path),r=IDBKeyRange.bound([n],[kl(n)],!1,!0),i=0;return Jd(t).$t({index:Xp.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Xd(t).get(e).next((function(t){return t?Cd(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){return md(t,$p.store)}function Yd(t){return md(t,Yp.store)}function Jd(t){return md(t,Xp.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return no(this,void 0,void 0,(function(){return ro(this,(function(e){if(t.code!==pl.FAILED_PRECONDITION||t.message!==rd)throw t;return ml("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Al(n,i);return 0===s?Al(r,o):s}var ev=function(){function t(t){this.ne=t,this.buffer=new Vf(tv),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();tv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),nv=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ml("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return no(e,void 0,void 0,(function(){var e;return ro(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return hd(e=n.sent())?(ml("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Zd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),rv=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return sd.resolve(fl.o);var r=new ev(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ml("LruGarbageCollector","Garbage collection skipped; disabled"),sd.resolve(Ud)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ml("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ud):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(ml("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),gl()<=Co.DEBUG&&ml("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),sd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),iv=function(){function t(t,e){this.db=t,this.garbageCollector=new rv(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return ov(t,n)},t.prototype.removeReference=function(t,e,n){return ov(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ov(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,zd(n=t).Ot((function(t){return Gd(n,t,r).next((function(t){return t&&(i=!0),sd.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),Jd(t).delete([0,Mp(s.path)])}))}));i.push(u)}})).next((function(){return sd.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ov(t,e)},t.prototype.we=function(t,e){var n,r=Jd(t),i=fl.o;return r.$t({index:Xp.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var s=r.path,a=r.sequenceNumber;0===o?(i!==fl.o&&e(new Xl(Up(n)),i),i=a,n=s):i=fl.o})).next((function(){i!==fl.o&&e(new Xl(Up(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ov(t,e){return Jd(t).put((n=e,r=t.currentSequenceNumber,new Xp(0,Mp(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sv=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Rl(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return xl(this.inner)},t}(),av=function(){function t(){this.changes=new sv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Dl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ph.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?sd.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),uv=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return hv(t).put(fv(e),n)},t.prototype.removeEntry=function(t,e){var n=hv(t),r=fv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return hv(t).get(fv(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return hv(t).get(fv(e)).next((function(t){return{document:n.ye(e,t),size:Bd(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=qf();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=qf(),i=new Lf(Xl.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Bd(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return sd.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return hv(t).$t({range:r},(function(t,e,r){for(var s=Xl.fromSegments(t);o&&Xl.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=qf(),o=e.path.length+1,s={};if(n.isEqual(Dl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=_d(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=zp.collectionReadTimeIndex}return hv(t).$t(s,(function(t,n,s){if(t.length===o){var a=Ed(r.R,n);e.path.isPrefixOf(a.key.path)?Qh(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new cv(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return lv(t).get(Qp.key).next((function(t){return El(!!t),t}))},t.prototype.me=function(t,e){return lv(t).put(Qp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ed(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Dl.min()))return n}return ph.newInvalidDocument(t)},t}(),cv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new sv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return to(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Vf((function(t,e){return Al(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Td(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Bd(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Td(e.Ie.R,ph.newNoDocument(o,Dl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),sd.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(av);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){return md(t,Qp.store)}function hv(t){return md(t,zp.store)}function fv(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pv=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;El(n<r&&n>=0&&r<=11);var o=new ad("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(qp.store),function(t){t.createObjectStore(Bp.store,{keyPath:Bp.keyPath}),t.createObjectStore(Kp.store,{keyPath:Kp.keyPath,autoIncrement:!0}).createIndex(Kp.userMutationsIndex,Kp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Gp.store)}(t),dv(t),function(t){t.createObjectStore(zp.store)}(t));var s=sd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Xp.store),t.deleteObjectStore($p.store),t.deleteObjectStore(Yp.store)}(t),dv(t)),s=s.next((function(){return function(t){var e=t.store(Yp.store),n=new Yp(0,0,Dl.min().toTimestamp(),0);return e.put(Yp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Kp.store).Nt().next((function(n){t.deleteObjectStore(Kp.store),t.createObjectStore(Kp.store,{keyPath:Kp.keyPath,autoIncrement:!0}).createIndex(Kp.userMutationsIndex,Kp.userMutationsKeyPath,{unique:!0});var r=e.store(Kp.store),i=n.map((function(t){return r.put(t)}));return sd.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Zp.store,{keyPath:Zp.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Qp.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(zp.store);e.createIndex(zp.readTimeIndex,zp.readTimeIndexPath,{unique:!1}),e.createIndex(zp.collectionReadTimeIndex,zp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(td.store,{keyPath:td.keyPath})}(t),function(t){t.createObjectStore(ed.store,{keyPath:ed.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(zp.store).$t((function(t,n){e+=Bd(n)})).next((function(){var n=new Qp(e);return t.store(Qp.store).put(Qp.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Bp.store),r=t.store(Kp.store);return n.Nt().next((function(n){return sd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Kp.userMutationsIndex,i).next((function(r){return sd.forEach(r,(function(r){El(r.userId===n.userId);var i=kd(e.R,r);return qd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Xp.store),n=t.store(zp.store);return t.store(Yp.store).get(Yp.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Ll(n),s=[0,Mp(o)];r.push(e.get(s).next((function(n){return n?sd.resolve():(r=o,e.put(new Xp(0,Mp(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return sd.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Jp.store,{keyPath:Jp.keyPath});var n=e.store(Jp.store),r=new Md,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Mp(i)})}};return e.store(zp.store).$t({Ft:!0},(function(t,e){var n=new Ll(t);return i(n.popLast())})).next((function(){return e.store(Gp.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=Up(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store($p.store);return n.$t((function(t,r){var i=Cd(r),o=Dd(e.R,i);return n.put(o)}))},t}();function dv(t){t.createObjectStore(Xp.store,{keyPath:Xp.keyPath}).createIndex(Xp.documentTargetsIndex,Xp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore($p.store,{keyPath:$p.keyPath}).createIndex($p.queryTargetsIndexName,$p.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Yp.store)}var vv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gv=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new dl(pl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new iv(this,i),this.Le=n+"main",this.R=new Id(u),this.Be=new ud(this.Le,11,new pv(this.R)),this.qe=new $d(this.referenceDelegate,this.R),this.Ut=new Fd,this.Ue=(h=this.R,f=this.Ut,new uv(h,f)),this.Ke=new Rd,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&yl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new dl(pl.FAILED_PRECONDITION,vv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new fl(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return no(e,void 0,void 0,(function(){return ro(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return no(e,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return no(e,void 0,void 0,(function(){return ro(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return yv(e).put(new Zp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(hd(e))return ml("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ml("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return mv(t).get(qp.key).next((function(t){return sd.resolve(e.tn(t))}))},t.prototype.en=function(t){return yv(t).delete(this.clientId)},t.prototype.nn=function(){return no(this,void 0,void 0,(function(){var t,e,n,r,i=this;return ro(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=md(t,Zp.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return sd.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?sd.resolve(!0):mv(t).get(qp.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new dl(pl.FAILED_PRECONDITION,vv);return!1}}return!(!e.networkEnabled||!e.inForeground)||yv(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&ml("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return no(this,void 0,void 0,(function(){var t=this;return ro(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[qp.store,Zp.store],(function(e){var n=new gd(e,fl.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return yv(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Kd.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;ml("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,nd,(function(o){return i=new gd(o,r.Ne?r.Ne.next():fl.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw yl("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new dl(pl.FAILED_PRECONDITION,rd);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return mv(t).get(qp.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new dl(pl.FAILED_PRECONDITION,vv)}))},t.prototype.Ze=function(t){var e=new qp(this.clientId,this.allowTabSynchronization,Date.now());return mv(t).put(qp.key,e)},t.yt=function(){return ud.yt()},t.prototype.Xe=function(t){var e=this,n=mv(t);return n.get(qp.key).next((function(t){return e.tn(t)?(ml("IndexedDbPersistence","Releasing primary lease."),n.delete(qp.key)):sd.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(yl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),!po()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return ml("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return yl("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){yl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function mv(t){return md(t,qp.store)}function yv(t){return md(t,Zp.store)}function bv(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var wv=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,Xl.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):qh(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new Xl(e)).next((function(t){var e=Kf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Kf();return this.Ut.getCollectionParents(t,i).next((function(s){return sd.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new Ph(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=ph.newInvalidDocument(c),r=r.insert(c,l)),bf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Qh(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Wf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof _f&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Iv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Wf(),i=Wf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ev=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Dl.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var s=o.Cn(e,i);return(Fh(e)||Vh(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(gl()<=Co.DEBUG&&ml("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),zh(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Vf($h(t));return e.forEach((function(e,r){Qh(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return gl()<=Co.DEBUG&&ml("QueryEngine","Using full collection scan to execute query:",zh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Dl.min())},t}(),Tv=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Lf(Al),this.Fn=new sv((function(t){return gh(t)}),mh),this.$n=Dl.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new wv(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e,n,r){return new Tv(t,e,n,r)}function Sv(t,e){return no(this,void 0,void 0,(function(){var n,r,i,o;return ro(this,(function(s){switch(s.label){case 0:return n=Tl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new wv(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=Wf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];s=s.add(y.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Av(t,e){var n=Tl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=sd.resolve(),u.forEach((function(t){c=c.next((function(){return s.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);El(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,a)}))).next((function(){return h.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,l)}))}))}function Nv(t){var e=Tl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function kv(t,e){var n=Tl(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach((function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var h=e.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=l,c=e,El((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}}));var a=qf();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(function(t,e,n,r,i){var o=Wf();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=qf();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Dl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):ml("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Dl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return sd.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.kn=i,t}))}function Cv(t,e){var n=Tl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Dv(t,e){var n=Tl(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,sd.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new wd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Ov(t,e,n){return no(this,void 0,void 0,(function(){var r,i,o,s;return ro(this,(function(a){switch(a.label){case 0:r=Tl(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!hd(s=a.sent()))throw s;return ml("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function Rv(t,e,n){var r=Tl(t),i=Dl.min(),o=Wf();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=Kh(e),c=Tl(s),l=c.Fn.get(u),void 0!==l?sd.resolve(c.kn.get(l)):c.qe.getTargetData(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Dl.min(),n?o:Wf())})).next((function(t){return{documents:t,Bn:o}}));var s,a,u,c,l}))}function xv(t,e){var n=Tl(t),r=Tl(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Pv(t){var e=Tl(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.On,r=t,i=e.$n,o=Tl(n),s=qf(),a=_d(i),u=hv(r),c=IDBKeyRange.lowerBound(a,!0),u.$t({index:zp.readTimeIndex,range:c},(function(t,e){var n=Ed(o.R,e);s=s.insert(n.key,n),a=e.readTime})).next((function(){return{wn:s,readTime:Sd(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function Lv(t){return no(this,void 0,void 0,(function(){var e;return ro(this,(function(n){return[2,(e=Tl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=hv(t),n=Dl.min(),e.$t({index:zp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Sd(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.$n=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mv=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return sd.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:lp(n.createTime)}),sd.resolve()},t.prototype.getNamedQuery=function(t,e){return sd.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:Od(n.bundledQuery),readTime:lp(n.readTime)}),sd.resolve();var n},t}(),Fv=function(){function t(){this.Wn=new Vf(Vv.Gn),this.zn=new Vf(Vv.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Vv(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Vv(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Xl(new Ll([])),r=new Vv(n,t),i=new Vv(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Xl(new Ll([])),n=new Vv(e,t),r=new Vv(e,t+1),i=Wf();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Vv(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Vv=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Xl.comparator(t.key,e.key)||Al(t.ns,e.ns)},t.Hn=function(t,e){return Al(t.ns,e.ns)||Xl.comparator(t.key,e.key)},t}(),Uv=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Vf(Vv.Gn)}return t.prototype.checkEmpty=function(t){return sd.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new yd(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Vv(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return sd.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return sd.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return sd.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return sd.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return sd.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Vv(e,0),i=new Vv(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),sd.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Vf(Al);return e.forEach((function(t){var e=new Vv(t,0),i=new Vv(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),sd.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Xl.isDocumentKey(i)||(i=i.child(""));var o=new Vv(new Xl(i),0),s=new Vf(Al);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),sd.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;El(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return sd.forEach(e.mutations,(function(i){var o=new Vv(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Vv(e,0),r=this.rs.firstAfterOrEqual(n);return sd.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,sd.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),jv=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Lf(Xl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return sd.resolve(n?n.document.clone():ph.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=qf();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ph.newInvalidDocument(t))})),sd.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=qf(),i=new Xl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||Qh(e,c)&&(r=r.insert(c.key,c.clone()))}return sd.resolve(r)},t.prototype.fs=function(t,e){return sd.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new qv(this)},t.prototype.getSize=function(t){return sd.resolve(this.size)},t}(),qv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return to(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),sd.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(av),Bv=function(){function t(t){this.persistence=t,this.ds=new sv((function(t){return gh(t)}),mh),this.lastRemoteSnapshotVersion=Dl.min(),this.highestTargetId=0,this.ws=0,this._s=new Fv,this.targetCount=0,this.ys=Qd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),sd.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return sd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return sd.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),sd.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),sd.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Qd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,sd.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),sd.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,sd.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),sd.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return sd.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return sd.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),sd.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),sd.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),sd.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return sd.resolve(n)},t.prototype.containsKey=function(t,e){return sd.resolve(this._s.containsKey(e))},t}(),Kv=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new fl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Bv(this),this.Ut=new Ld,this.Ue=(n=this.Ut,new jv(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new Id(e),this.Ke=new Mv(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Uv(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;ml("MemoryPersistence","Starting transaction:",t);var i=new Gv(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return sd.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Gv=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return to(e,t),e}(id),Hv=function(){function t(t){this.persistence=t,this.As=new Fv,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Il()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),sd.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),sd.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),sd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sd.forEach(this.vs,(function(r){var i=Xl.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return sd.or([function(){return sd.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Wv=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){return"firestore_clients_"+t+"_"+e}function Qv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function $v(t,e){return"firestore_targets_"+t+"_"+e}Wv.UNAUTHENTICATED=new Wv(null),Wv.GOOGLE_CREDENTIALS=new Wv("google-credentials-uid"),Wv.FIRST_PARTY=new Wv("first-party-uid"),Wv.MOCK_USER=new Wv("mock-user");var Xv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new dl(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(yl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new dl(i.error.code,i.error.message)),o?new t(e,i.state,r):(yl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Jv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Qf(),s=0;i&&s<r.activeTargetIds.length;++s)i=$l(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(yl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Zv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(yl("SharedClientState","Failed to parse online state: "+e),null)},t}(),tg=function(){function t(){this.activeTargetIds=Qf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),eg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Lf(Al),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=zv(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new tg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return no(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return ro(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(zv(this.persistenceKey,r)))&&(o=Jv.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem($v(this.persistenceKey,t));if(n){var r=Yv.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem($v(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ml("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ml("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ml("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ml("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void yl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return no(e,void 0,void 0,(function(){var t,e,r,i,o,s;return ro(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=fl.o;if(null!=t)try{var n=JSON.parse(t);El("number"==typeof n),e=n}catch(r){yl("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==fl.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Xv(this.currentUser,t,e,n),i=Qv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Qv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=$v(this.persistenceKey,t),i=new Yv(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Jv.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Xv.Vs(new Wv(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Yv.Vs(r,e)},t.prototype.js=function(t){return Zv.Vs(t)},t.prototype.ii=function(t){return no(this,void 0,void 0,(function(){return ro(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ml("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Qf();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),ng=function(){function t(){this.li=new tg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new tg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),rg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),ig=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ml("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ml("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),og={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),ag=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return to(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var s=new hl;s.listenOnce(ol.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case il.NO_ERROR:var e=s.getResponseJson();ml("Connection","XHR received:",JSON.stringify(e)),i(e);break;case il.TIMEOUT:ml("Connection",'RPC "'+t+'" timed out'),o(new dl(pl.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:var n=s.getStatus();if(ml("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(pl).indexOf(c)>=0?c:pl.UNKNOWN);o(new dl(a,r.message))}else o(new dl(pl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new dl(pl.UNAVAILABLE,"Connection failed."));break;default:Il()}}finally{ml("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n,r,i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=new Zc,s=Wa(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new cl({})),this.ki(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fo())||"object"==typeof navigator&&"ReactNative"===navigator.product||fo().indexOf("Electron/")>=0||((r=fo()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||fo().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");ml("Connection","Creating WebChannel: "+u,a);var c=o.createWebChannel(u,a),l=!1,h=!1,f=new sg({Ei:function(t){h?ml("Connection","Not sending because WebChannel is closed:",t):(l||(ml("Connection","Opening WebChannel transport."),c.open(),l=!0),ml("Connection","WebChannel sending:",t),c.send(t))},Ti:function(){return c.close()}}),p=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,ll.EventType.OPEN,(function(){h||ml("Connection","WebChannel transport opened.")})),p(c,ll.EventType.CLOSE,(function(){h||(h=!0,ml("Connection","WebChannel transport closed"),f.Vi())})),p(c,ll.EventType.ERROR,(function(t){h||(h=!0,bl("Connection","WebChannel transport errored:",t),f.Vi(new dl(pl.UNAVAILABLE,"The operation could not be completed")))})),p(c,ll.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];El(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){ml("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=kf[t];if(void 0!==e)return Pf(e)}(o),a=i.message;void 0===s&&(s=pl.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,f.Vi(new dl(s,a)),c.close()}else ml("Connection","WebChannel received:",n),f.Si(n)}})),p(s,sl.STAT_EVENT,(function(t){t.stat===al?ml("Connection","Detected buffering proxy"):t.stat===ul&&ml("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ml("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return ml("RestConnection","Received: ",t),t}),(function(e){throw bl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=og[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){return"undefined"!=typeof window?window:null}function cg(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){return new sp(t,!0)}var hg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&ml("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),fg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new hg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return no(this,void 0,void 0,(function(){return ro(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return no(this,void 0,void 0,(function(){return ro(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return no(this,void 0,void 0,(function(){return ro(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===pl.RESOURCE_EXHAUSTED?(yl(e.toString()),yl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===pl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new dl(pl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return no(t,void 0,void 0,(function(){return ro(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return ml("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(ml("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),pg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return to(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Il(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(El(void 0===e||"string"==typeof e),Ul.fromBase64String(e||"")):(El(void 0===e||e instanceof Uint8Array),Ul.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?pl.UNKNOWN:Pf(t.code);return new dl(e,t.message||"")}(u);n=new Zf(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=dp(t,i.document.name),s=lp(i.document.updateTime);var u=new hh({mapValue:{fields:i.document.fields}}),c=(a=ph.newFoundDocument(o,s,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new Yf(c,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=dp(t,i.document),s=i.readTime?lp(i.readTime):Dl.min(),u=ph.newNoDocument(o,s),a=i.removedTargetIds||[],n=new Yf([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=dp(t,i.document),s=i.removedTargetIds||[],n=new Yf([],s,o,null);else{if(!("filter"in e))return Il();e.filter;var h=e.filter;h.targetId,i=h.count||0,o=new Rf(i),s=h.targetId,n=new Jf(s,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Dl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Dl.min():e.readTime?lp(e.readTime):Dl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=mp(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=yh(i)?{documents:Ep(e,i)}:{query:Tp(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=up(e,n.resumeToken):n.snapshotVersion.compareTo(Dl.min())>0&&(r.readTime=ap(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Il()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=mp(this.R),e.removeTarget=t,this.cr(e)},e}(fg),dg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return to(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(El(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(El(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?lp(e.updateTime):lp(n)).isEqual(Dl.min())&&(r=lp(n)),new df(r,e.transformResults||[]);var e,n,r}))):[]),n=lp(t.commitTime);return this.listener.Tr(n,e)}var r,i;return El(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=mp(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return wp(e.R,t)}))};this.cr(n)},e}(fg),vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return to(e,t),e.prototype.br=function(){if(this.Rr)throw new dl(pl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===pl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new dl(pl.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===pl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new dl(pl.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),gg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(yl(e),this.Vr=!1):ml("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),mg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return no(o,void 0,void 0,(function(){return ro(this,(function(t){switch(t.label){case 0:return Ag(this)?(ml("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return no(this,void 0,void 0,(function(){var e;return ro(this,(function(n){switch(n.label){case 0:return(e=Tl(t)).Or.add(4),[4,bg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,yg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new gg(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){return no(this,void 0,void 0,(function(){var e,n;return ro(this,(function(r){switch(r.label){case 0:if(!Ag(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function bg(t){return no(this,void 0,void 0,(function(){var e,n;return ro(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function wg(t,e){var n=Tl(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Sg(n)?_g(n):qg(n).er()&&Eg(n,e))}function Ig(t,e){var n=Tl(t),r=qg(n);n.$r.delete(e),r.er()&&Tg(n,e),0===n.$r.size&&(r.er()?r.ir():Ag(n)&&n.Br.set("Unknown"))}function Eg(t,e){t.qr.U(e.targetId),qg(t).mr(e)}function Tg(t,e){t.qr.U(e),qg(t).yr(e)}function _g(t){t.qr=new ep({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),qg(t).start(),t.Br.Sr()}function Sg(t){return Ag(t)&&!qg(t).tr()&&t.$r.size>0}function Ag(t){return 0===Tl(t).Or.size}function Ng(t){t.qr=void 0}function kg(t){return no(this,void 0,void 0,(function(){return ro(this,(function(e){return t.$r.forEach((function(e,n){Eg(t,e)})),[2]}))}))}function Cg(t,e){return no(this,void 0,void 0,(function(){return ro(this,(function(n){return Ng(t),Sg(t)?(t.Br.Nr(e),_g(t)):t.Br.set("Unknown"),[2]}))}))}function Dg(t,e,n){return no(this,void 0,void 0,(function(){var r,i,o;return ro(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Zf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return no(this,void 0,void 0,(function(){var n,r,i,o;return ro(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ml("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Og(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Yf?t.qr.X(e):e instanceof Jf?t.qr.rt(e):t.qr.et(e),n.isEqual(Dl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Nv(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.ut(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.$r.get(e);n&&a.$r.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=a.$r.get(t);if(e){a.$r.set(t,e.withResumeToken(Ul.EMPTY_BYTE_STRING,e.snapshotVersion)),Tg(a,t);var n=new wd(e.target,t,1,e.sequenceNumber);Eg(a,n)}})),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ml("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Og(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function Og(t,e,n){return no(this,void 0,void 0,(function(){var r=this;return ro(this,(function(i){switch(i.label){case 0:if(!hd(e))throw e;return t.Or.add(1),[4,bg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Nv(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return no(r,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return ml("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,yg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Rg(t,e){return e().catch((function(n){return Og(t,n,e)}))}function xg(t){return no(this,void 0,void 0,(function(){var e,n,r,i,o;return ro(this,(function(s){switch(s.label){case 0:e=Tl(t),n=Bg(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!(Ag(a=e)&&a.Fr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Cv(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=Bg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Og(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Pg(e)&&Lg(e),[2]}var a}))}))}function Pg(t){return Ag(t)&&!Bg(t).tr()&&t.Fr.length>0}function Lg(t){Bg(t).start()}function Mg(t){return no(this,void 0,void 0,(function(){return ro(this,(function(e){return Bg(t).Ar(),[2]}))}))}function Fg(t){return no(this,void 0,void 0,(function(){var e,n,r,i;return ro(this,(function(o){for(e=Bg(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Vg(t,e,n){return no(this,void 0,void 0,(function(){var r,i;return ro(this,(function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=bd.from(r,e,n),[4,Rg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,xg(t)];case 2:return o.sent(),[2]}}))}))}function Ug(t,e){return no(this,void 0,void 0,(function(){return ro(this,(function(n){switch(n.label){case 0:return e&&Bg(t).pr?[4,function(t,e){return no(this,void 0,void 0,(function(){var n,r;return ro(this,(function(i){switch(i.label){case 0:return xf(r=e.code)&&r!==pl.ABORTED?(n=t.Fr.shift(),Bg(t).sr(),[4,Rg(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,xg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Pg(t)&&Lg(t),[2]}}))}))}function jg(t,e){return no(this,void 0,void 0,(function(){var n;return ro(this,(function(r){switch(r.label){case 0:return n=Tl(t),e?(n.Or.delete(2),[4,yg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,bg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function qg(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:kg.bind(null,t),Ri:Cg.bind(null,t),_r:Dg.bind(null,t)},(i=Tl(e)).br(),new pg(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return no(o,void 0,void 0,(function(){return ro(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),Sg(t)?_g(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),Ng(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function Bg(t){var e,n,r,i,o=this;return t.Kr||(t.Kr=(e=t.datastore,n=t.asyncQueue,r={Ii:Mg.bind(null,t),Ri:Ug.bind(null,t),Ir:Fg.bind(null,t),Tr:Vg.bind(null,t)},(i=Tl(e)).br(),new dg(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return no(o,void 0,void 0,(function(){return ro(this,(function(n){switch(n.label){case 0:return e?(t.Kr.sr(),[4,xg(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:n.sent(),t.Fr.length>0&&(ml("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Kr}var Kg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new od,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dl(pl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Gg(t,e){if(yl("AsyncQueue",e+": "+t),hd(t))return new dl(pl.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Xl.comparator(e.key,n.key)}:function(t,e){return Xl.comparator(t.key,e.key)},this.keyedMap=Kf(),this.sortedSet=new Lf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Wg=function(){function t(){this.Qr=new Lf(Xl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Il():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),zg=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Hg.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Qg=function(){this.Wr=void 0,this.listeners=[]},$g=function(){this.queries=new sv((function(t){return Wh(t)}),Hh),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){return no(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return ro(this,(function(c){switch(c.label){case 0:if(n=Tl(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Qg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Gg(a,"Initialization of query '"+zh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&tm(n),[2]}}))}))}function Yg(t,e){return no(this,void 0,void 0,(function(){var n,r,i,o,s;return ro(this,(function(a){return n=Tl(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Jg(t,e){for(var n=Tl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&tm(n)}function Zg(t,e,n){var r=Tl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function tm(t){t.Gr.forEach((function(t){t.next()}))}var em=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new zg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=zg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),nm=function(t){this.key=t},rm=function(t){this.key=t},im=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Wf(),this.mutatedKeys=Wf(),this.lo=$h(t),this.fo=new Hg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Wg,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Fh(this.query)&&i.size===this.query.limit?i.last():null,c=Vh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=Qh(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data.isEqual(h.data)?f!==p&&(r.track({type:3,doc:h}),d=!0):n.yo(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Fh(this.query)||Vh(this.query))for(;s.size>this.query.limit;){var l=Fh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Il()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new zg(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Wg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Wf(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new rm(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new nm(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Wf();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return zg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),om=function(t,e,n){this.query=t,this.targetId=e,this.view=n},sm=function(t){this.key=t,this.bo=!1},am=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new sv((function(t){return Wh(t)}),Hh),this.Vo=new Map,this.So=new Set,this.Do=new Lf(Xl.comparator),this.Co=new Map,this.No=new Fv,this.xo={},this.ko=new Map,this.Fo=Qd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e){return no(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ro(this,(function(u){switch(u.label){case 0:return n=Fm(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Dv(n.localStore,Kh(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,cm(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&wg(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function cm(t,e,n,r){return no(this,void 0,void 0,(function(){var i,o,s,a,u,c;return ro(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return no(this,void 0,void 0,(function(){var i,o,s;return ro(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Rv(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Em(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Rv(t.localStore,e,!0)];case 1:return i=l.sent(),o=new im(e,i.Bn),s=o._o(i.documents),a=Xf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Em(t,n,u.To),c=new om(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function lm(t,e){return no(this,void 0,void 0,(function(){var n,r,i;return ro(this,(function(o){switch(o.label){case 0:return n=Tl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Hh(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ov(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Ig(n.remoteStore,r.targetId),wm(n,r.targetId)})).catch(Zd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return wm(n,r.targetId),[4,Ov(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function hm(t,e,n){return no(this,void 0,void 0,(function(){var r,i,o,s;return ro(this,(function(a){switch(a.label){case 0:r=Vm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,h=Tl(u),f=Cl.now(),p=c.reduce((function(t,e){return t.add(e.key)}),Wf()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.Mn.pn(t,p).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=wf(o,l.get(o.key));null!=s&&n.push(new _f(o.key,s,fh(s.value.mapValue),vf.exists(!0)))}return h._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}})))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Lf(Al)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Sm(r,i.changes)];case 3:return a.sent(),[4,xg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Gg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,p}))}))}function fm(t,e){return no(this,void 0,void 0,(function(){var n,r;return ro(this,(function(i){switch(i.label){case 0:n=Tl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,kv(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(El(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?El(r.bo):t.removedDocuments.size>0&&(El(r.bo),r.bo=!1))})),[4,Sm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Zd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function pm(t,e,n){var r=Tl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Tl(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&tm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dm(t,e,n){return no(this,void 0,void 0,(function(){var r,i,o,s,a,u;return ro(this,(function(c){switch(c.label){case 0:return(r=Tl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Lf(Xl.comparator)).insert(o,ph.newNoDocument(o,Dl.min())),a=Wf().add(o),u=new $f(Dl.min(),new Map,new Vf(Al),s,a),[4,fm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),_m(r),[3,4];case 2:return[4,Ov(r.localStore,e,!1).then((function(){return wm(r,e,n)})).catch(Zd)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function vm(t,e){return no(this,void 0,void 0,(function(){var n,r,i;return ro(this,(function(o){switch(o.label){case 0:n=Tl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Av(n.localStore,e)];case 2:return i=o.sent(),bm(n,r,null),ym(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Sm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Zd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function gm(t,e,n){return no(this,void 0,void 0,(function(){var r,i;return ro(this,(function(o){switch(o.label){case 0:r=Tl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=Tl(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,a).next((function(n){return El(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),bm(r,e,n),ym(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Sm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Zd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function mm(t,e){return no(this,void 0,void 0,(function(){var n,r,i,o,s;return ro(this,(function(a){switch(a.label){case 0:Ag((n=Tl(t)).remoteStore)||ml("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=Tl(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=Gg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function ym(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function bm(t,e,n){var r=Tl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function wm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Im(t,e)}))}function Im(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ig(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),_m(t))}function Em(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof nm?(t.No.addReference(o.key,e),Tm(t,o)):o instanceof rm?(ml("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Im(t,o.key)):Il()}}function Tm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ml("SyncEngine","New document in limbo: "+n),t.So.add(r),_m(t))}function _m(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Xl(Ll.fromString(e)),r=t.Fo.next();t.Co.set(r,new sm(n)),t.Do=t.Do.insert(n,r),wg(t.remoteStore,new wd(Kh(Mh(n.path)),r,2,fl.o))}}function Sm(t,e,n){return no(this,void 0,void 0,(function(){var r,i,o,s;return ro(this,(function(a){switch(a.label){case 0:return r=Tl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Iv.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return no(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return ro(this,(function(h){switch(h.label){case 0:n=Tl(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return sd.forEach(e,(function(e){return sd.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return sd.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!hd(r=h.sent()))throw r;return ml("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.kn.get(a),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Am(t,e){return no(this,void 0,void 0,(function(){var n,r;return ro(this,(function(i){switch(i.label){case 0:return(n=Tl(t)).currentUser.isEqual(e)?[3,3]:(ml("SyncEngine","User change. New user:",e.toKey()),[4,Sv(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).ko.forEach((function(t){t.forEach((function(t){t.reject(new dl(pl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Sm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function Nm(t,e){var n=Tl(t),r=n.Co.get(e);if(r&&r.bo)return Wf().add(r.key);var i=Wf(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function km(t,e){return no(this,void 0,void 0,(function(){var n,r,i;return ro(this,(function(o){switch(o.label){case 0:return[4,Rv((n=Tl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Em(n,e.targetId,i.To),i)]}}))}))}function Cm(t){return no(this,void 0,void 0,(function(){var e;return ro(this,(function(n){return[2,Pv((e=Tl(t)).localStore).then((function(t){return Sm(e,t)}))]}))}))}function Dm(t,e,n,r){return no(this,void 0,void 0,(function(){var i,o;return ro(this,(function(s){switch(s.label){case 0:return[4,(a=(i=Tl(t)).localStore,u=e,c=Tl(a),l=Tl(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):sd.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,xg(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(bm(i,e,r||null),ym(i,e),function(t,e){Tl(Tl(t)._n).Gt(e)}(i.localStore,e)):Il(),s.label=4;case 4:return[4,Sm(i,o)];case 5:return s.sent(),[3,7];case 6:ml("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function Om(t,e){return no(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return ro(this,(function(l){switch(l.label){case 0:return Fm(n=Tl(t)),Vm(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Rm(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,jg(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],wg(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return wm(n,e),Ov(n.localStore,e,!0)})),Ig(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,Rm(n,u)];case 5:return l.sent(),(h=Tl(n)).Co.forEach((function(t,e){Ig(h.remoteStore,e)})),h.No.ts(),h.Co=new Map,h.Do=new Lf(Xl.comparator),n.$o=!1,[4,jg(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function Rm(t,e,n){return no(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,p,d,v;return ro(this,(function(g){switch(g.label){case 0:n=Tl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,Dv(n.localStore,Kh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],p=n.Po.get(f),[4,km(n,p)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,xv(n.localStore,a)];case 8:return v=g.sent(),[4,Dv(n.localStore,v)];case 9:return u=g.sent(),[4,cm(n,xm(v),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function xm(t){return Lh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Pm(t){var e=Tl(t);return Tl(Tl(e.localStore).persistence).fn()}function Lm(t,e,n,r){return no(this,void 0,void 0,(function(){var i,o,s;return ro(this,(function(a){switch(a.label){case 0:return(i=Tl(t)).$o?(ml("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pv(i.localStore)];case 3:return o=a.sent(),s=$f.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Sm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Ov(i.localStore,e,!0)];case 6:return a.sent(),wm(i,e,r),[3,8];case 7:Il(),a.label=8;case 8:return[2]}}))}))}function Mm(t,e,n){return no(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return ro(this,(function(p){switch(p.label){case 0:if(!(r=Fm(t)).$o)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(ml("SyncEngine","Adding an already active target "+s),[3,5]):[4,xv(r.localStore,s)]):[3,6];case 2:return a=p.sent(),[4,Dv(r.localStore,a)];case 3:return u=p.sent(),[4,cm(r,xm(a),u.targetId,!1)];case 4:p.sent(),wg(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return ro(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ov(r.localStore,t,!1).then((function(){Ig(r.remoteStore,t),wm(r,t)})).catch(Zd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Fm(t){var e=Tl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dm.bind(null,e),e.vo._r=Jg.bind(null,e.eventManager),e.vo.Mo=Zg.bind(null,e.eventManager),e}function Vm(t){var e=Tl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gm.bind(null,e),e}var Um=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return no(this,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return this.R=lg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return _v(this.persistence,new Ev,t.initialUser,this.R)},t.prototype.qo=function(t){return new Kv(Hv.bs,this.R)},t.prototype.Bo=function(t){return new ng},t.prototype.terminate=function(){return no(this,void 0,void 0,(function(){return ro(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),jm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return to(e,t),e.prototype.initialize=function(e){return no(this,void 0,void 0,(function(){var n=this;return ro(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Lv(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Vm(this.Qo.syncEngine)];case 4:return r.sent(),[4,xg(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return _v(this.persistence,new Ev,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new nv(e,t.asyncQueue)},e.prototype.qo=function(t){var e=bv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jd.withCacheSize(this.cacheSizeBytes):jd.DEFAULT;return new gv(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ug(),cg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new ng},e}(Um),qm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return to(e,t),e.prototype.initialize=function(e){return no(this,void 0,void 0,(function(){var n,r=this;return ro(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof eg?(this.sharedClientState.syncEngine={ui:Dm.bind(null,n),ai:Lm.bind(null,n),hi:Mm.bind(null,n),fn:Pm.bind(null,n),ci:Cm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return no(r,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return[4,Om(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=ug();if(!eg.yt(e))throw new dl(pl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=bv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new eg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(jm),Bm=function(){function t(){}return t.prototype.initialize=function(t,e){return no(this,void 0,void 0,(function(){var n=this;return ro(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return pm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Am.bind(null,this.syncEngine),[4,jg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new $g},t.prototype.createDatastore=function(t){var e,n,r=lg(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new ag(e));return n=t.credentials,new vg(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return pm(s.syncEngine,t,0)},o=ig.yt()?new ig:new rg,new mg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=e,c=new am(n,r,i,o,s,a),u&&(c.$o=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return no(this,void 0,void 0,(function(){var e;return ro(this,(function(n){switch(n.label){case 0:return e=Tl(t),ml("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,bg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Km=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Gm=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return no(this,void 0,void 0,(function(){var e,n=this;return ro(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new dl(pl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return no(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ro(this,(function(u){switch(u.label){case 0:return n=Tl(t),r=mp(n.R)+"/documents",i={documents:e.map((function(t){return pp(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){El(!!e.found),e.found.name,e.found.updateTime;var n=dp(t,e.found.name),r=lp(e.found.updateTime),i=new hh({mapValue:{fields:e.found.fields}});return ph.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){El(!!e.missing),El(!!e.readTime);var n=dp(t,e.missing),r=lp(e.readTime);return ph.newNoDocument(n,r)}(e,r):Il());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());El(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Df(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return no(this,void 0,void 0,(function(){var t,e=this;return ro(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Xl.fromPath(n);e.mutations.push(new Of(r,e.precondition(r)))})),[4,function(t,e){return no(this,void 0,void 0,(function(){var n,r,i;return ro(this,(function(o){switch(o.label){case 0:return n=Tl(t),r=mp(n.R)+"/documents",i={writes:e.map((function(t){return wp(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Il();e=Dl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new dl(pl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?vf.updateTime(e):vf.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dl.min()))throw new dl(pl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vf.updateTime(e)}return vf.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Hm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new hg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return no(t,void 0,void 0,(function(){var t,e,n=this;return ro(this,(function(r){return t=new Gm(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!zl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!xf(e)}return!1},t}(),Wm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Wv.UNAUTHENTICATED,this.clientId=Sl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return no(r,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return ml("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return no(this,void 0,void 0,(function(){return ro(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new dl(pl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new od;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return no(t,void 0,void 0,(function(){var t,n;return ro(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Gg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zm(t,e){return no(this,void 0,void 0,(function(){var n,r,i=this;return ro(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ml("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return no(i,void 0,void 0,(function(){return ro(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Sv(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Qm(t,e){return no(this,void 0,void 0,(function(){var n,r;return ro(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,$m(t)];case 1:return n=i.sent(),ml("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return no(this,void 0,void 0,(function(){var n,r;return ro(this,(function(i){switch(i.label){case 0:return(n=Tl(t)).asyncQueue.verifyOperationInProgress(),ml("RemoteStore","RemoteStore received new credentials"),r=Ag(n),n.Or.add(3),[4,bg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,yg(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function $m(t){return no(this,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ml("FirestoreClient","Using default OfflineComponentProvider"),[4,zm(t,new Um)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Xm(t){return no(this,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ml("FirestoreClient","Using default OnlineComponentProvider"),[4,Qm(t,new Bm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Ym(t){return $m(t).then((function(t){return t.persistence}))}function Jm(t){return $m(t).then((function(t){return t.localStore}))}function Zm(t){return Xm(t).then((function(t){return t.remoteStore}))}function ty(t){return Xm(t).then((function(t){return t.syncEngine}))}function ey(t){return no(this,void 0,void 0,(function(){var e,n;return ro(this,(function(r){switch(r.label){case 0:return[4,Xm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=um.bind(null,e.syncEngine),n.onUnlisten=lm.bind(null,e.syncEngine),n)]}}))}))}function ny(t,e,n){var r=this;void 0===n&&(n={});var i=new od;return t.asyncQueue.enqueueAndForget((function(){return no(r,void 0,void 0,(function(){var r;return ro(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Km({next:function(o){e.enqueueAndForget((function(){return Yg(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new dl(pl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new dl(pl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new em(Mh(n.path),o,{includeMetadataChanges:!0,so:!0});return Xg(t,s)},[4,ey(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function ry(t,e,n){var r=this;void 0===n&&(n={});var i=new od;return t.asyncQueue.enqueueAndForget((function(){return no(r,void 0,void 0,(function(){var r;return ro(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Km({next:function(n){e.enqueueAndForget((function(){return Yg(t,s)})),n.fromCache&&"server"===r.source?i.reject(new dl(pl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new em(n,o,{includeMetadataChanges:!0,so:!0});return Xg(t,s)},[4,ey(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var iy=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},oy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),sy=new Map,ay=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},uy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Wv.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cy=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ly=function(){function t(t){var e=this;this.currentUser=Wv.UNAUTHENTICATED,this.oc=new od,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){ml("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(ml("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(ml("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(El("string"==typeof n.accessToken),new ay(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return no(n,void 0,void 0,(function(){return ro(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return El(null===t||"string"==typeof t),new Wv(t)},t}(),hy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Wv.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),fy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new hy(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Wv.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e,n){if(!n)throw new dl(pl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function dy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new dl(pl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function vy(t,e,n,r){if(!0===e&&!0===r)throw new dl(pl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function gy(t){if(!Xl.isDocumentKey(t))throw new dl(pl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function my(t){if(Xl.isDocumentKey(t))throw new dl(pl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function yy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Il()}function by(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new dl(pl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=yy(t);throw new dl(pl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function wy(t,e){if(e<=0)throw new dl(pl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new dl(pl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dl(pl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,vy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Ey=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iy({}),this._settingsFrozen=!1,t instanceof oy?(this._databaseId=t,this._credentials=new uy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new dl(pl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oy(t.options.projectId)}(t),this._credentials=new ly(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new dl(pl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new dl(pl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new uy;switch(t.type){case"gapi":var e=t.client;return El(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new fy(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new dl(pl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=sy.get(this))&&(ml("ComponentProvider","Removing Datastore"),sy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ty=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Sy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),_y=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Mh(r))||this)._path=r,i.type="collection",i}return to(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Ty(this.firestore,null,new Xl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(_y);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=To(t),py("collection","path",e),t instanceof Ey)return my(n=Ll.fromString.apply(Ll,so([e],r))),new Sy(t,null,n);if(!(t instanceof Ty||t instanceof Sy))throw new dl(pl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return my(n=Ll.fromString.apply(Ll,so([t.path],r)).child(Ll.fromString(e))),new Sy(t.firestore,null,n)}function Ny(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=To(t),1===arguments.length&&(e=Sl.u()),py("doc","path",e),t instanceof Ey)return gy(n=Ll.fromString.apply(Ll,so([e],r))),new Ty(t,null,new Xl(n));if(!(t instanceof Ty||t instanceof Sy))throw new dl(pl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gy(n=t._path.child(Ll.fromString.apply(Ll,so([e],r)))),new Ty(t.firestore,t instanceof Sy?t.converter:null,new Xl(n))}function ky(t,e){return t=To(t),e=To(e),(t instanceof Ty||t instanceof Sy)&&(e instanceof Ty||e instanceof Sy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Cy(t,e){return t=To(t),e=To(e),t instanceof _y&&e instanceof _y&&t.firestore===e.firestore&&Hh(t._query,e._query)&&t.converter===e.converter}var Dy=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new hg(this,"async_queue_retry"),this.Ic=function(){var e=cg();e&&ml("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=cg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=cg();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new od;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return no(this,void 0,void 0,(function(){var t,e=this;return ro(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!hd(t=n.sent()))throw t;return ml("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,yl("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Kg.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Il()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return no(this,void 0,void 0,(function(){var t;return ro(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Oy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ry=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Dy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return to(e,t),e.prototype._terminate=function(){return this._firestoreClient||Py(this),this._firestoreClient.terminate()},e}(Ey);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){return t._firestoreClient||Py(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Py(t){var e,n,r,i,o,s=t._freezeSettings(),a=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new iy(n,r,i,(o=s).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));t._firestoreClient=new Wm(t._credentials,t._queue,a)}function Ly(t,e,n){var r=this,i=new od;return t.asyncQueue.enqueue((function(){return no(r,void 0,void 0,(function(){var r;return ro(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,zm(t,n)];case 1:return o.sent(),[4,Qm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===pl.FAILED_PRECONDITION||s.code===pl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function My(t){if(t._initialized||t._terminated)throw new dl(pl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new dl(pl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Vy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ul.fromBase64String(e))}catch(n){throw new dl(pl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Ul.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Uy=function(t){this._methodName=t},jy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new dl(pl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dl(pl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Al(this._lat,t._lat)||Al(this._long,t._long)},t}(),qy=/^__.*__$/,By=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new _f(t,this.data,this.fieldMask,e,this.fieldTransforms):new Tf(t,this.data,e,this.fieldTransforms)},t}(),Ky=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new _f(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Il()}}var Hy=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return hb(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Gy(this.Nc)&&qy.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Wy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||lg(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Hy({Nc:t,methodName:e,qc:n,path:Fl.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function zy(t){var e=t._freezeSettings(),n=lg(t._databaseId);return new Wy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);ab("Data must be an object, but it was:",s,r);var a,u,c=ob(r,s);if(o.merge)a=new Vl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=ub(e,f[h],n);if(!s.contains(p))throw new dl(pl.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");fb(l,p)||l.push(p)}a=new Vl(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new By(new hh(c),a,u)}var $y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return to(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Uy);function Xy(t,e,n){return new Hy({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Yy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return to(e,t),e.prototype._toFieldTransform=function(t){return new pf(t.path,new of)},e.prototype.isEqual=function(t){return t instanceof e},e}(Uy),Jy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return to(e,t),e.prototype._toFieldTransform=function(t){var e=Xy(this,t,!0),n=this.Kc.map((function(t){return ib(t,e)})),r=new sf(n);return new pf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Uy),Zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return to(e,t),e.prototype._toFieldTransform=function(t){var e=Xy(this,t,!0),n=this.Kc.map((function(t){return ib(t,e)})),r=new uf(n);return new pf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Uy),tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return to(e,t),e.prototype._toFieldTransform=function(t){var e=new lf(t.R,Zh(t.R,this.Qc));return new pf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Uy);function eb(t,e,n,r){var i=t.Uc(1,e,n);ab("Data must be an object, but it was:",i,r);var o=[],s=hh.empty();Rl(r,(function(t,r){var a=lb(e,t,n);r=To(r);var u=i.Oc(a);if(r instanceof $y)o.push(a);else{var c=ib(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Vl(o);return new Ky(s,a,i.fieldTransforms)}function nb(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[ub(e,r,n)],u=[i];if(o.length%2!=0)throw new dl(pl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(ub(e,o[c])),u.push(o[c+1]);for(var l=[],h=hh.empty(),f=a.length-1;f>=0;--f)if(!fb(l,a[f])){var p=a[f],d=u[f];d=To(d);var v=s.Oc(p);if(d instanceof $y)l.push(p);else{var g=ib(d,v);null!=g&&(l.push(p),h.set(p,g))}}var m=new Vl(l);return new Ky(h,m,s.fieldTransforms)}function rb(t,e,n,r){return void 0===r&&(r=!1),ib(n,t.Uc(r?4:3,e))}function ib(t,e){if(sb(t=To(t)))return ab("Unsupported field value:",e,t),ob(t,e);if(t instanceof Uy)return function(t,e){if(!Gy(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=ib(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=To(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Cl.fromDate(t);return{timestampValue:ap(e.R,n)}}if(t instanceof Cl)return n=new Cl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ap(e.R,n)};if(t instanceof jy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vy)return{bytesValue:up(e.R,t._byteString)};if(t instanceof Ty){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:hp(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+yy(t))}(t,e)}function ob(t,e){var n={};return xl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rl(t,(function(t,r){var i=ib(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function sb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Cl||t instanceof jy||t instanceof Vy||t instanceof Ty||t instanceof Uy)}function ab(t,e,n){if(!sb(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=yy(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}var i}function ub(t,e,n){if((e=To(e))instanceof Fy)return e._internalPath;if("string"==typeof e)return lb(t,e);throw hb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var cb=new RegExp("[~\\*/\\[\\]]");function lb(t,e,n){if(e.search(cb)>=0)throw hb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Fy.bind.apply(Fy,so([void 0],e.split(".")))))._internalPath}catch(hw){throw hb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function hb(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new dl(pl.INVALID_ARGUMENT,(a+=". ")+t+u)}function fb(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ty(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(vb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),db=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return to(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(pb);function vb(t,e){return"string"==typeof e?lb(t,e):e instanceof Fy?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),mb=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return to(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new yb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(vb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(pb),yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return to(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(mb),bb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new gb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new yb(n._firestore,n._userDataWriter,r.key,r,new gb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dl(pl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new yb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new gb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new yb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new gb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:wb(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function wb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Il()}}function Ib(t,e){return t instanceof mb&&e instanceof mb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof bb&&e instanceof bb&&t._firestore===e._firestore&&Cy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){if(Vh(t)&&0===t.explicitOrderBy.length)throw new dl(pl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tb=function(){};function _b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Sb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return to(e,t),e.prototype._apply=function(t){var e,n,r,i=zy(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new dl(pl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Rb(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(Ob(r,t,h))}a={arrayValue:{values:u}}}else a=Ob(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Rb(s,o),a=rb(n,"where",s,"in"===o||"not-in"===o);var f=bh.create(i,o,a);return function(t,e){if(e.g()){var n=jh(t);if(null!==n&&!n.isEqual(e.field))throw new dl(pl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Uh(t);null!==r&&xb(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new dl(pl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new dl(pl.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new _y(t.firestore,t.converter,(e=t._query,n=o,r=e.filters.concat([n]),new Ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(Tb),Ab=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return to(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new dl(pl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new dl(pl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Dh(e,n);return function(t,e){if(null===Uh(t)){var n=jh(t);null!==n&&xb(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new _y(t.firestore,t.converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new Ph(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(Tb),Nb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return to(e,t),e.prototype._apply=function(t){return new _y(t.firestore,t.converter,Gh(t._query,this.Hc,this.Jc))},e}(Tb),kb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return to(e,t),e.prototype._apply=function(t){var e,n,r=Db(t,this.type,this.Yc,this.Xc);return new _y(t.firestore,t.converter,(e=t._query,n=r,new Ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(Tb),Cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return to(e,t),e.prototype._apply=function(t){var e,n,r=Db(t,this.type,this.Yc,this.Xc);return new _y(t.firestore,t.converter,(e=t._query,n=r,new Ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(Tb);function Db(t,e,n,r){if(n[0]=To(n[0]),n[0]instanceof pb)return function(t,e,n,r,i){if(!r)throw new dl(pl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Bh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(ih(e,r.key));else{var c=r.data.field(u.field);if(Gl(c))throw new dl(pl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new dl(pl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new kh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=zy(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new dl(pl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new dl(pl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!qh(t)&&-1!==c.indexOf("/"))throw new dl(pl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ll.fromString(c));if(!Xl.isDocumentKey(l))throw new dl(pl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Xl(l);a.push(ih(e,h))}else{var f=rb(n,r,c);a.push(f)}}return new kh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Ob(t,e,n){if("string"==typeof(n=To(n))){if(""===n)throw new dl(pl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qh(e)&&-1!==n.indexOf("/"))throw new dl(pl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ll.fromString(n));if(!Xl.isDocumentKey(r))throw new dl(pl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ih(t,new Xl(r))}if(n instanceof Ty)return ih(t,n._key);throw new dl(pl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+yy(n)+".")}function Rb(t,e){if(!Array.isArray(t)||0===t.length)throw new dl(pl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new dl(pl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function xb(t,e,n){if(!n.isEqual(e))throw new dl(pl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Yl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Kl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Il()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Rl(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new jy(Bl(t.latitude),Bl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Hl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Wl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ql(t);return new Cl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ll.fromString(t);El(Lp(n));var r=new oy(n.get(1),n.get(3)),i=new Xl(n.popFirst(5));return r.isEqual(e)||yl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Mb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return to(e,t),e.prototype.convertBytes=function(t){return new Vy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ty(this.firestore,null,e)},e}(Pb),Fb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=zy(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Vb(t,this._firestore),i=Lb(r.converter,e,n),o=Qy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,vf.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Vb(t,this._firestore);return o="string"==typeof(e=To(e))||e instanceof Fy?nb(this._dataReader,"WriteBatch.update",s._key,e,n,r):eb(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,vf.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Vb(t,this._firestore);return this._mutations=this._mutations.concat(new Df(e._key,vf.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new dl(pl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e){if((t=To(t)).firestore!==e)throw new dl(pl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ub=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return to(e,t),e.prototype.convertBytes=function(t){return new Vy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ty(this.firestore,null,e)},e}(Pb);function jb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=by(t,Ty);var o=by(t.firestore,Ry),s=zy(o);return Bb(o,[("string"==typeof(e=To(e))||e instanceof Fy?nb(s,"updateDoc",t._key,e,n,r):eb(s,"updateDoc",t._key,e)).toMutation(t._key,vf.exists(!0))])}function qb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=To(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Oy(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Oy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Ty)c=by(t.firestore,Ry),l=Mh(t._key.path),u={next:function(e){i[a]&&i[a](Kb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var p=by(t,_y);c=by(p.firestore,Ry),l=p._query;var d=new Ub(c);u={next:function(t){i[a]&&i[a](new bb(c,d,p,t))},error:i[a+1],complete:i[a+2]},Eb(t._query)}return function(t,e,n,r){var i=this,o=new Km(r),s=new em(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return no(i,void 0,void 0,(function(){var e;return ro(this,(function(n){switch(n.label){case 0:return e=Xg,[4,ey(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return no(i,void 0,void 0,(function(){var e;return ro(this,(function(n){switch(n.label){case 0:return e=Yg,[4,ey(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(xy(c),l,h,u)}function Bb(t,e){return function(t,e){var n=this,r=new od;return t.asyncQueue.enqueueAndForget((function(){return no(n,void 0,void 0,(function(){var n;return ro(this,(function(i){switch(i.label){case 0:return n=hm,[4,ty(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(xy(t),e)}function Kb(t,e,n){var r=n.docs.get(e._key),i=new Ub(t);return new mb(t,i,e._key,r,new gb(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return to(e,t),e.prototype.get=function(e){var n=this,r=Vb(e,this._firestore),i=new Ub(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new mb(n._firestore,i,r._key,t._document,new gb(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=zy(t)}return t.prototype.get=function(t){var e=this,n=Vb(t,this._firestore),r=new Mb(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Il();var i=t[0];if(i.isFoundDocument())return new pb(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new pb(e._firestore,r,n._key,null,n.converter);throw Il()}))},t.prototype.set=function(t,e,n){var r=Vb(t,this._firestore),i=Lb(r.converter,e,n),o=Qy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Vb(t,this._firestore);return o="string"==typeof(e=To(e))||e instanceof Fy?nb(this._dataReader,"Transaction.update",s._key,e,n,r):eb(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Vb(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){if("undefined"==typeof Uint8Array)throw new dl(pl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Wb(){if("undefined"==typeof atob)throw new dl(pl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Wb(),new t(Vy.fromBase64String(e))},t.fromUint8Array=function(e){return Hb(),new t(Vy.fromUint8Array(e))},t.prototype.toBase64=function(){return Wb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Hb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Qb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){My(t=by(t,Ry));var n=xy(t),r=t._freezeSettings(),i=new Bm;return Ly(n,i,new jm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){My(t=by(t,Ry));var e=xy(t),n=t._freezeSettings(),r=new Bm;return Ly(e,r,new qm(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new dl(pl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new od;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return no(e,void 0,void 0,(function(){var e;return ro(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return no(this,void 0,void 0,(function(){var e;return ro(this,(function(n){switch(n.label){case 0:return ud.yt()?(e=t+"main",[4,ud.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(bv(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),$b=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof oy||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||bl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=by(t,Ey))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&bl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Wv.MOCK_USER;else{s=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=eo({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[co(JSON.stringify({alg:"none",type:"JWT"})),co(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new dl(pl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Wv(u)}t._credentials=new cy(new ay(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return no(e,void 0,void 0,(function(){var e,n;return ro(this,(function(r){switch(r.label){case 0:return[4,Ym(t)];case 1:return e=r.sent(),[4,Zm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=Tl(i),o.Or.delete(0),yg(o))]}var i,o}))}))}))}(xy(by(this._delegate,Ry)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return no(e,void 0,void 0,(function(){var e,n;return ro(this,(function(r){switch(r.label){case 0:return[4,Ym(t)];case 1:return e=r.sent(),[4,Zm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return no(this,void 0,void 0,(function(){var e;return ro(this,(function(n){switch(n.label){case 0:return(e=Tl(t)).Or.add(0),[4,bg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(xy(by(this._delegate,Ry)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&vy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new od;return t.asyncQueue.enqueueAndForget((function(){return no(e,void 0,void 0,(function(){var e;return ro(this,(function(r){switch(r.label){case 0:return e=mm,[4,ty(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(xy(by(this._delegate,Ry)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new Km(e);return t.asyncQueue.enqueueAndForget((function(){return no(n,void 0,void 0,(function(){var e;return ro(this,(function(n){switch(n.label){case 0:return e=function(t,e){Tl(t).Gr.add(e),e.next()},[4,ey(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return no(n,void 0,void 0,(function(){var e;return ro(this,(function(n){switch(n.label){case 0:return e=function(t,e){Tl(t).Gr.delete(e)},[4,ey(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(xy(e=by(e,Ry)),Oy(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new dl(pl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new cw(this,Ay(this._delegate,t))}catch(e){throw ew(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new tw(this,Ny(this._delegate,t))}catch(e){throw ew(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new sw(this,function(t,e){if(t=by(t,Ey),py("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dl(pl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _y(t,null,(n=e,new Ph(Ll.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw ew(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new od;return t.asyncQueue.enqueueAndForget((function(){return no(n,void 0,void 0,(function(){var n;return ro(this,(function(i){switch(i.label){case 0:return[4,(o=t,Xm(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new Hm(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(xy(e=this._delegate),(function(r){return function(e){return t(new Yb(n,e))}(new Gb(e,r))}))},t.prototype.batch=function(){var t=this;return xy(this._delegate),new Jb(new Fb(this._delegate,(function(e){return Bb(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new dl(pl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new dl(pl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Xb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return to(e,t),e.prototype.convertBytes=function(t){return new zb(new Vy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return tw.eu(e,this.firestore,null)},e}(Pb);var Yb=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Xb(t)}return t.prototype.get=function(t){var e=this,n=lw(t);return this._delegate.get(n).then((function(t){return new iw(e._firestore,new mb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=lw(t);return n?(dy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=lw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,so([s,e,n],i)),this},t.prototype.delete=function(t){var e=lw(t);return this._delegate.delete(e),this},t}(),Jb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=lw(t);return n?(dy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=lw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,so([s,e,n],i)),this},t.prototype.delete=function(t){var e=lw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Zb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new yb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ow(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Xb(e),n),i.set(n,o)),o},t}();Zb.su=new WeakMap;var tw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Xb(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new dl(pl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ty(n._delegate,r,new Xl(e)))},t.eu=function(e,n,r){return new t(n,new Ty(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new cw(this.firestore,Ay(this._delegate,t))}catch(e){throw ew(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=To(t))instanceof Ty&&ky(this._delegate,t)},t.prototype.set=function(t,e){e=dy("DocumentReference.set",e);try{return function(t,e,n){t=by(t,Ty);var r=by(t.firestore,Ry),i=Lb(t.converter,e,n);return Bb(r,[Qy(zy(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,vf.none())])}(this._delegate,t,e)}catch(n){throw ew(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?jb(this._delegate,t):jb.apply(void 0,so([this._delegate,t,e],n))}catch(i){throw ew(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Bb(by((t=this._delegate).firestore,Ry),[new Df(t._key,vf.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nw(e),i=rw(e,(function(e){return new iw(t.firestore,new mb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return qb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=by(t,Ty);var e=by(t.firestore,Ry),n=xy(e),r=new Ub(e);return function(t,e){var n=this,r=new od;return t.asyncQueue.enqueueAndForget((function(){return no(n,void 0,void 0,(function(){var n;return ro(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return no(this,void 0,void 0,(function(){var r,i;return ro(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=Tl(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new dl(pl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Gg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,Jm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new mb(e,r,t._key,n,new gb(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=by(t,Ty);var e=by(t.firestore,Ry);return ny(xy(e),t._key,{source:"server"}).then((function(n){return Kb(e,t,n)}))}(this._delegate):function(t){t=by(t,Ty);var e=by(t.firestore,Ry);return ny(xy(e),t._key).then((function(n){return Kb(e,t,n)}))}(this._delegate)).then((function(t){return new iw(e.firestore,new mb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Zb.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function ew(t,e,n){return t.message=t.message.replace(e,n),t}function nw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Oy(r))return r}return{}}function rw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Oy(t[0])?t[0]:Oy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new tw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ib(this._delegate,t._delegate)},t}(),ow=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return to(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(iw),sw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Xb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,_b(this._delegate,(o=r,s=i=n,a=vb("where",e),new Sb(a,s,o))))}catch(i){throw ew(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,_b(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=vb("orderBy",t);return new Ab(r,n)}(e,n)))}catch(r){throw ew(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,_b(this._delegate,(wy("limit",n=e),new Nb("limit",n,"F"))))}catch(r){throw ew(r,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,_b(this._delegate,(wy("limitToLast",n=e),new Nb("limitToLast",n,"L"))))}catch(r){throw ew(r,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_b(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kb("startAt",t,!0)}.apply(void 0,e)))}catch(r){throw ew(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_b(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kb("startAfter",t,!1)}.apply(void 0,e)))}catch(r){throw ew(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_b(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cb("endBefore",t,!0)}.apply(void 0,e)))}catch(r){throw ew(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_b(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cb("endAt",t,!1)}.apply(void 0,e)))}catch(r){throw ew(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Cy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=by(t,_y);var e=by(t.firestore,Ry),n=xy(e),r=new Ub(e);return function(t,e){var n=this,r=new od;return t.asyncQueue.enqueueAndForget((function(){return no(n,void 0,void 0,(function(){var n;return ro(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return no(this,void 0,void 0,(function(){var r,i,o,s,a;return ro(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Rv(t,e,!0)];case 1:return a=u.sent(),r=new im(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Gg(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Jm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new bb(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=by(t,_y);var e=by(t.firestore,Ry),n=xy(e),r=new Ub(e);return ry(n,t._query,{source:"server"}).then((function(n){return new bb(e,r,t,n)}))}(this._delegate):function(t){t=by(t,_y);var e=by(t.firestore,Ry),n=xy(e),r=new Ub(e);return Eb(t._query),ry(n,t._query).then((function(n){return new bb(e,r,t,n)}))}(this._delegate)).then((function(t){return new uw(e.firestore,new bb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nw(e),i=rw(e,(function(e){return new uw(t.firestore,new bb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return qb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Zb.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),aw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ow(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),uw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new sw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new ow(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new aw(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new ow(n._firestore,r))}))},t.prototype.isEqual=function(t){return Ib(this._delegate,t._delegate)},t}(),cw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return to(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new tw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new tw(this.firestore,void 0===t?Ny(this._delegate):Ny(this._delegate,t))}catch(e){throw ew(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=by(e.firestore,Ry),i=Ny(e),o=Lb(e.converter,n),Bb(r,[Qy(zy(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,vf.exists(!1))]).then((function(){return i}))).then((function(t){return new tw(s.firestore,t)}))},e.prototype.isEqual=function(t){return ky(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Zb.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(sw);function lw(t){return by(t,Ty)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hw,fw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Fy.bind.apply(Fy,so([void 0],t)))}return t.documentId=function(){return new t(Fl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=To(t))instanceof Fy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),pw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Yy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $y("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jy("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zy("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new tb("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),dw={Firestore:$b,GeoPoint:jy,Timestamp:Cl,Blob:zb,Transaction:Yb,WriteBatch:Jb,DocumentReference:tw,DocumentSnapshot:iw,Query:sw,QueryDocumentSnapshot:ow,QuerySnapshot:uw,CollectionReference:cw,FieldPath:fw,FieldValue:pw,setLogLevel:function(t){var e;e=t,vl.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(hw=Jo).INTERNAL.registerComponent(new _o("firestore",(function(t){return function(t,e){return new $b(t,new Ry(t,e),new Qb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},dw))),hw.registerVersion("@firebase/firestore","2.4.0");
/*!
  * vue-router v4.0.11
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const vw="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,gw=t=>vw?Symbol(t):"_vr_"+t,mw=gw("rvlm"),yw=gw("rvd"),bw=gw("r"),ww=gw("rl"),Iw=gw("rvl"),Ew="undefined"!=typeof window;const Tw=Object.assign;function _w(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}const Sw=()=>{},Aw=/\/$/;function Nw(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("?"),u=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),o=e.slice(a+1,u>-1?u:e.length),i=t(o)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function kw(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function Cw(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Dw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Ow(t[n],e[n]))return!1;return!0}function Ow(t,e){return Array.isArray(t)?Rw(t,e):Array.isArray(e)?Rw(e,t):t===e}function Rw(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var xw,Pw,Lw,Mw;function Fw(t){if(!t)if(Ew){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(Aw,"")}(Pw=xw||(xw={})).pop="pop",Pw.push="push",(Mw=Lw||(Lw={})).back="back",Mw.forward="forward",Mw.unknown="";const Vw=/^[^#]+#/;function Uw(t,e){return t.replace(Vw,"#")+e}const jw=()=>({left:window.pageXOffset,top:window.pageYOffset});function qw(t){let e;if("el"in t){const n=t.el,r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function Bw(t,e){return(history.state?history.state.position-e:-1)+t}const Kw=new Map;function Gw(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let e=i.includes(t.slice(o))?t.slice(o).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),kw(n,"")}return kw(n,t)+r+i}function Hw(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?jw():null}}function Ww(t){const{history:e,location:n}=window,r={value:Gw(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:location.protocol+"//"+location.host+t+r;try{e[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(c){console.error(c),n[s?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(t,n){const s=Tw({},i.value,e.state,{forward:t,scroll:jw()});o(s.current,s,!0),o(t,Tw({},Hw(r.value,t,null),{position:s.position+1},n),!1),r.value=t},replace:function(t,n){o(t,Tw({},e.state,Hw(i.value.back,t,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=t}}}function zw(t){const e=Ww(t=Fw(t)),n=function(t,e,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=Gw(t,location),u=n.value,c=e.value;let l=0;if(o){if(n.value=a,e.value=o,s&&s===u)return void(s=null);l=c?o.position-c.position:0}else r(a);i.forEach((t=>{t(n.value,u,{delta:l,type:xw.pop,direction:l?l>0?Lw.forward:Lw.back:Lw.unknown})}))};function u(){const{history:t}=window;t.state&&t.replaceState(Tw({},t.state,{scroll:jw()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(t,e.state,e.location,e.replace);const r=Tw({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:Uw.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Qw(t){return"string"==typeof t||"symbol"==typeof t}const $w={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Xw=gw("nf");var Yw,Jw;function Zw(t,e){return Tw(new Error,{type:t,[Xw]:!0},e)}function tI(t,e){return t instanceof Error&&Xw in t&&(null==e||!!(t.type&e))}(Jw=Yw||(Yw={}))[Jw.aborted=4]="aborted",Jw[Jw.cancelled=8]="cancelled",Jw[Jw.duplicated=16]="duplicated";const eI={sensitive:!1,strict:!1,start:!0,end:!0},nI=/[.+*?^${}()[\]/\\]/g;function rI(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function iI(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const t=rI(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const oI={type:0,value:""},sI=/[a-zA-Z0-9_]/;function aI(t,e,n){const r=function(t,e){const n=Tw({},eI,e),r=[];let i=n.start?"^":"";const o=[];for(const u of t){const t=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let e=0;e<u.length;e++){const r=u[e];let s=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(nI,"\\$&"),s+=40;else if(1===r.type){const{value:t,repeatable:n,optional:c,regexp:l}=r;o.push({name:t,repeatable:n,optional:c});const h=l||"[^/]+?";if("[^/]+?"!==h){s+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+a.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(f=c&&u.length<2?`(?:/${f})`:"/"+f),c&&(f+="?"),i+=f,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===h&&(s+=-50)}t.push(s)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=o[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,u=o in e?e[o]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[oI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;u<t.length;)if(a=t[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?n=2:sI.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,l="";break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}(t.path),n),i=Tw(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function uI(t,e){const n=[],r=new Map;function i(t,n,r){const a=!r,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:cI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);u.aliasOf=r&&r.record;const c=fI(e,t),l=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(Tw({},u,{components:r?r.record.components:u.components,path:t,aliasOf:r?r.record:u}))}let h,f;for(const e of l){const{path:l}=e;if(n&&"/"!==l[0]){const t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=aI(e,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&t.name&&!lI(h)&&o(t.name)),"children"in u){const t=u.children;for(let e=0;e<t.length;e++)i(t[e],h,r&&r.children[e])}r=r||h,s(h)}return f?()=>{o(f)}:Sw}function o(t){if(Qw(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function s(t){let e=0;for(;e<n.length&&iI(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!lI(t)&&r.set(t.record.name,t)}return e=fI({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>i(t))),{addRoute:i,resolve:function(t,e){let i,o,s,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw Zw(1,{location:t});s=i.record.name,a=Tw(function(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(a)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw Zw(1,{location:t,currentLocation:e});s=i.record.name,a=Tw({},e.params,t.params),o=i.stringify(a)}const u=[];let c=i;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:u,meta:hI(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function cI(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]="boolean"==typeof n?n:n[r];return e}function lI(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function hI(t){return t.reduce(((t,e)=>Tw(t,e.meta)),{})}function fI(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const pI=/#/g,dI=/&/g,vI=/\//g,gI=/=/g,mI=/\?/g,yI=/\+/g,bI=/%5B/g,wI=/%5D/g,II=/%5E/g,EI=/%60/g,TI=/%7B/g,_I=/%7C/g,SI=/%7D/g,AI=/%20/g;function NI(t){return encodeURI(""+t).replace(_I,"|").replace(bI,"[").replace(wI,"]")}function kI(t){return NI(t).replace(yI,"%2B").replace(AI,"+").replace(pI,"%23").replace(dI,"%26").replace(EI,"`").replace(TI,"{").replace(SI,"}").replace(II,"^")}function CI(t){return null==t?"":function(t){return NI(t).replace(pI,"%23").replace(mI,"%3F")}(t).replace(vI,"%2F")}function DI(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function OI(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(yI," "),i=t.indexOf("="),o=DI(i<0?t:t.slice(0,i)),s=i<0?null:DI(t.slice(i+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function RI(t){let e="";for(let n in t){const r=t[n];if(n=kI(n).replace(gI,"%3D"),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map((t=>t&&kI(t))):[r&&kI(r)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function xI(t){const e={};for(const n in t){const r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function PI(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function LI(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=t=>{var u;!1===t?a(Zw(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(u=t)||u&&"object"==typeof u?a(Zw(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"==typeof t&&o.push(t),s())},c=t.call(r&&r.instances[i],e,n,u);let l=Promise.resolve(c);t.length<3&&(l=l.then(u)),l.catch((t=>a(t)))}))}function MI(t,e,n,r){const i=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[e];o&&i.push(LI(o,n,r,s,t))}else{let o=a();i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const o=(a=i).__esModule||vw&&"Module"===a[Symbol.toStringTag]?i.default:i;var a;s.components[t]=o;const u=(o.__vccOpts||o)[e];return u&&LI(u,n,r,s,t)()}))))}}var o;return i}function FI(t){const e=Le(bw),n=Le(ww),r=we((()=>e.resolve(ge(t.to)))),i=we((()=>{const{matched:t}=r.value,{length:e}=t,i=t[e-1],o=n.matched;if(!i||!o.length)return-1;const s=o.findIndex(Cw.bind(null,i));if(s>-1)return s;const a=UI(t[e-2]);return e>1&&UI(i)===a&&o[o.length-1].path!==a?o.findIndex(Cw.bind(null,t[e-2])):s})),o=we((()=>i.value>-1&&function(t,e){for(const n in e){const r=e[n],i=t[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}(n.params,r.value.params))),s=we((()=>i.value>-1&&i.value===n.matched.length-1&&Dw(n.params,r.value.params)));return{route:r,href:we((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[ge(t.replace)?"replace":"push"](ge(t.to)).catch(Sw):Promise.resolve()}}}const VI=Ge({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:FI,setup(t,{slots:e}){const n=ne(FI(t)),{options:r}=Le(bw),i=we((()=>({[jI(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[jI(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:ci("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function UI(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const jI=(t,e,n)=>null!=t?t:null!=e?e:n;function qI(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const BI=Ge({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=Le(Iw),i=we((()=>t.route||r.value)),o=Le(yw,0),s=we((()=>i.value.matched[o]));Pe(yw,o+1),Pe(mw,s),Pe(Iw,i);const a=ve(u,!1);var u;return ii((()=>[a.value,s.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&Cw(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=i.value,o=s.value,u=o&&o.components[t.name],c=t.name;if(!u)return qI(n.default,{Component:u,route:r});const l=o.props[t.name],h=l?!0===l?r.params:"function"==typeof l?l(r):l:null,f=ci(u,Tw({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(o.instances[c]=null)},ref:a}));return qI(n.default,{Component:f,route:r})||f}}});function KI(t){const e=uI(t.routes,t),n=t.parseQuery||OI,r=t.stringifyQuery||RI,i=t.history,o=PI(),s=PI(),a=PI(),u=ve($w,!0);let c=$w;Ew&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=_w.bind(null,(t=>""+t)),h=_w.bind(null,CI),f=_w.bind(null,DI);function p(t,o){if(o=Tw({},o||u.value),"string"==typeof t){const r=Nw(n,t,o.path),s=e.resolve({path:r.path},o),a=i.createHref(r.fullPath);return Tw(r,s,{params:f(s.params),hash:DI(r.hash),redirectedFrom:void 0,href:a})}let s;if("path"in t)s=Tw({},t,{path:Nw(n,t.path,o.path).path});else{const e=Tw({},t.params);for(const t in e)null==e[t]&&delete e[t];s=Tw({},t,{params:h(t.params)}),o.params=h(o.params)}const a=e.resolve(s,o),c=t.hash||"";a.params=l(f(a.params));const p=function(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,Tw({},t,{hash:(d=c,NI(d).replace(TI,"{").replace(SI,"}").replace(II,"^")),path:a.path}));var d;const v=i.createHref(p);return Tw({fullPath:p,hash:c,query:r===RI?xI(t.query):t.query||{}},a,{redirectedFrom:void 0,href:v})}function d(t){return"string"==typeof t?Nw(n,t,u.value.path):Tw({},t)}function v(t,e){if(c!==t)return Zw(8,{from:e,to:t})}function g(t){return y(t)}function m(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"==typeof n?n(t):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=d(r):{path:r},r.params={}),Tw({query:t.query,hash:t.hash,params:t.params},r)}}function y(t,e){const n=c=p(t),i=u.value,o=t.state,s=t.force,a=!0===t.replace,l=m(n);if(l)return y(Tw(d(l),{state:o,force:s,replace:a}),e||n);const h=n;let f;return h.redirectedFrom=e,!s&&function(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Cw(e.matched[r],n.matched[i])&&Dw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,i,n)&&(f=Zw(16,{to:h,from:i}),D(i,i,!0,!1)),(f?Promise.resolve(f):w(h,i)).catch((t=>tI(t)?t:k(t,h,i))).then((t=>{if(t){if(tI(t,2))return y(Tw(d(t.to),{state:o,force:s,replace:a}),e||h)}else t=E(h,i,!0,a,o);return I(h,i,t),t}))}function b(t,e){const n=v(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t,e){let n;const[r,i,a]=function(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>Cw(t,o)))?r.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>Cw(t,a)))||i.push(a))}return[n,r,i]}(t,e);n=MI(r.reverse(),"beforeRouteLeave",t,e);for(const o of r)o.leaveGuards.forEach((r=>{n.push(LI(r,t,e))}));const u=b.bind(null,t,e);return n.push(u),GI(n).then((()=>{n=[];for(const r of o.list())n.push(LI(r,t,e));return n.push(u),GI(n)})).then((()=>{n=MI(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(LI(r,t,e))}));return n.push(u),GI(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&!e.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(LI(i,t,e));else n.push(LI(r.beforeEnter,t,e));return n.push(u),GI(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=MI(a,"beforeRouteEnter",t,e),n.push(u),GI(n)))).then((()=>{n=[];for(const r of s.list())n.push(LI(r,t,e));return n.push(u),GI(n)})).catch((t=>tI(t,8)?t:Promise.reject(t)))}function I(t,e,n){for(const r of a.list())r(t,e,n)}function E(t,e,n,r,o){const s=v(t,e);if(s)return s;const a=e===$w,c=Ew?history.state:{};n&&(r||a?i.replace(t.fullPath,Tw({scroll:a&&c&&c.scroll},o)):i.push(t.fullPath,o)),u.value=t,D(t,e,n,a),C()}let T;function _(){T=i.listen(((t,e,n)=>{const r=p(t),o=m(r);if(o)return void y(Tw(o,{replace:!0}),r).catch(Sw);c=r;const s=u.value;var a,l;Ew&&(a=Bw(s.fullPath,n.delta),l=jw(),Kw.set(a,l)),w(r,s).catch((t=>tI(t,12)?t:tI(t,2)?(y(t.to,r).then((t=>{tI(t,20)&&!n.delta&&n.type===xw.pop&&i.go(-1,!1)})).catch(Sw),Promise.reject()):(n.delta&&i.go(-n.delta,!1),k(t,r,s)))).then((t=>{(t=t||E(r,s,!1))&&(n.delta?i.go(-n.delta,!1):n.type===xw.pop&&tI(t,20)&&i.go(-1,!1)),I(r,s,t)})).catch(Sw)}))}let S,A=PI(),N=PI();function k(t,e,n){C(t);const r=N.list();return r.length?r.forEach((r=>r(t,e,n))):console.error(t),Promise.reject(t)}function C(t){S||(S=!0,_(),A.list().forEach((([e,n])=>t?n(t):e())),A.reset())}function D(e,n,r,i){const{scrollBehavior:o}=t;if(!Ew||!o)return Promise.resolve();const s=!r&&function(t){const e=Kw.get(t);return Kw.delete(t),e}(Bw(e.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return $r().then((()=>o(e,n,s))).then((t=>t&&qw(t))).catch((t=>k(t,e,n)))}const O=t=>i.go(t);let R;const x=new Set;return{currentRoute:u,addRoute:function(t,n){let r,i;return Qw(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)},removeRoute:function(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:p,options:t,push:g,replace:function(t){return g(Tw(d(t),{replace:!0}))},go:O,back:()=>O(-1),forward:()=>O(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:N.add,isReady:function(){return S&&u.value!==$w?Promise.resolve():new Promise(((t,e)=>{A.add([t,e])}))},install(t){t.component("RouterLink",VI),t.component("RouterView",BI),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>ge(u)}),Ew&&!R&&u.value===$w&&(R=!0,g(i.location).catch((t=>{})));const e={};for(const r in $w)e[r]=we((()=>u.value[r]));t.provide(bw,this),t.provide(ww,ne(e)),t.provide(Iw,u);const n=t.unmount;x.add(t),t.unmount=function(){x.delete(t),x.size<1&&(c=$w,T&&T(),u.value=$w,R=!1,S=!1),n()}}}}function GI(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function HI(){return Le(ww)}try{self["workbox:window:6.2.4"]&&_()}catch(nE){}function WI(t,e){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(t){n(t.data)},t.postMessage(e,[r.port2])}))}function zI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}try{self["workbox:core:6.2.4"]&&_()}catch(nE){}var QI=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function $I(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var XI=function(t,e){this.type=t,Object.assign(this,e)};function YI(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function JI(){}var ZI={type:"SKIP_WAITING"};function tE(t,e){if(!e)return t&&t.then?t.then(JI):Promise.resolve()}var eE=function(t){var e,n;function r(e,n){var r,i;return void 0===n&&(n={}),(r=t.call(this)||this).nn={},r.tn=0,r.rn=new QI,r.en=new QI,r.on=new QI,r.un=0,r.an=new Set,r.cn=function(){var t=r.fn,e=t.installing;r.tn>0||!$I(e.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=e,t.removeEventListener("updatefound",r.cn)):(r.hn=e,r.an.add(e),r.rn.resolve(e)),++r.tn,e.addEventListener("statechange",r.ln)},r.ln=function(t){var e=r.fn,n=t.target,i=n.state,o=n===r.vn,s={sw:n,isExternal:o,originalEvent:t};!o&&r.mn&&(s.isUpdate=!0),r.dispatchEvent(new XI(i,s)),"installed"===i?r.wn=self.setTimeout((function(){"installed"===i&&e.waiting===n&&r.dispatchEvent(new XI("waiting",s))}),200):"activating"===i&&(clearTimeout(r.wn),o||r.en.resolve(n))},r.dn=function(t){var e=r.hn,n=e!==navigator.serviceWorker.controller;r.dispatchEvent(new XI("controlling",{isExternal:n,originalEvent:t,sw:e,isUpdate:r.mn})),n||r.on.resolve(e)},r.gn=(i=function(t){var e=t.data,n=t.ports,i=t.source;return YI(r.getSW(),(function(){r.an.has(i)&&r.dispatchEvent(new XI("message",{data:e,originalEvent:t,ports:n,sw:i}))}))},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(i.apply(this,t))}catch(n){return Promise.reject(n)}}),r.sn=e,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,o=r.prototype;return o.register=function(t){var e,n,r=(void 0===t?{}:t).immediate,i=void 0!==r&&r;try{var o=this;return e=function(){return o.mn=Boolean(navigator.serviceWorker.controller),o.yn=o.pn(),YI(o.bn(),(function(t){o.fn=t,o.yn&&(o.hn=o.yn,o.en.resolve(o.yn),o.on.resolve(o.yn),o.yn.addEventListener("statechange",o.ln,{once:!0}));var e=o.fn.waiting;return e&&$I(e.scriptURL,o.sn.toString())&&(o.hn=e,Promise.resolve().then((function(){o.dispatchEvent(new XI("waiting",{sw:e,wasWaitingBeforeRegister:!0}))})).then((function(){}))),o.hn&&(o.rn.resolve(o.hn),o.an.add(o.hn)),o.fn.addEventListener("updatefound",o.cn),navigator.serviceWorker.addEventListener("controllerchange",o.dn),o.fn}))},(n=function(){if(!i&&"complete"!==document.readyState)return tE(new Promise((function(t){return window.addEventListener("load",t)})))}())&&n.then?n.then(e):e()}catch(s){return Promise.reject(s)}},o.update=function(){try{return this.fn?tE(this.fn.update()):void 0}catch(nE){return Promise.reject(nE)}},o.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(t){try{return YI(this.getSW(),(function(e){return WI(e,t)}))}catch(nE){return Promise.reject(nE)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&WI(this.fn.waiting,ZI)},o.pn=function(){var t=navigator.serviceWorker.controller;return t&&$I(t.scriptURL,this.sn.toString())?t:void 0},o.bn=function(){try{var t=this;return function(e,n){try{var r=YI(navigator.serviceWorker.register(t.sn,t.nn),(function(e){return t.un=performance.now(),e}))}catch(i){return n(i)}return r&&r.then?r.then(void 0,n):r}(0,(function(t){throw t}))}catch(e){return Promise.reject(e)}},(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,i),r}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(t,e){this.Sn(t).add(e)},e.removeEventListener=function(t,e){this.Sn(t).delete(e)},e.dispatchEvent=function(t){t.target=this;for(var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return zI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zI(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}(this.Sn(t.type));!(e=n()).done;)(0,e.value)(t)},e.Sn=function(t){return this.Pn.has(t)||this.Pn.set(t,new Set),this.Pn.get(t)},t}());export{zn as F,Ci as T,ke as a,Zn as b,rr as c,lr as d,cr as e,Jo as f,pr as g,ne as h,Ze as i,Pn as j,mr as k,fr as l,zi as m,Gi as n,tn as o,Ne as p,HI as q,Gn as r,KI as s,u as t,ge as u,Qi as v,Ce as w,zw as x,eE as y,Ji as z};
